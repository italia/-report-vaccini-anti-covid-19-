(this["webpackJsonpcovid19-dashboard-vaccini"]=this["webpackJsonpcovid19-dashboard-vaccini"]||[]).push([[0],{174:function(e,t,a){},175:function(e,t,a){},176:function(e,t,a){},177:function(e,t,a){},185:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a(1),o=a.n(i),s=a(53),l=a.n(s),c=(a(174),a(50),a(175),a(176),a(177),a(3)),r=a(7),d=a.n(r),u=a(8),m=a(26),b=a(18),v=a(5),j=(a(9),a(2)),p=a.n(j),f=function(e){return function(t,a){return t+ +(null===a||void 0===a?void 0:a[e])}},h=function(e){return function(t){return function(a){return a[e]===t}}},x=(h("area")("ITA"),h("TML_FASCIA_ETA"),function(e){return Object(u.a)(Object(u.a)({},e),{},{area:O[e.area],code:e.area})}),O={ABR:"Abruzzo",BAS:"Basilicata",CAL:"Calabria",CAM:"Campania",EMR:"Emilia-Romagna",FVG:"Friuli-Venezia Giulia",LAZ:"Lazio",LIG:"Liguria",LOM:"Lombardia",MAR:"Marche",MOL:"Molise",PAB:"P.A. Bolzano",PAT:"P.A. Trento",PIE:"Piemonte",PUG:"Puglia",SAR:"Sardegna",SIC:"Sicilia",TOS:"Toscana",UMB:"Umbria",VDA:"Valle d'Aosta",VEN:"Veneto"},g=(function(e){var t={};for(var a in e)t[e[a]]=a}(O),a(6)),y=a.n(g),N="https://raw.githubusercontent.com/italia/covid19-opendata-vaccini/master/dati",w=[2020,2021,2022,2023],_="".concat(N,"/somministrazioni-vaccini-summary-latest.json"),C="".concat(N,"/somministrazioni-vaccini-latest-"),z="".concat(N,"/vaccini-summary-latest.json"),D="".concat(N,"/last-update-dataset.json"),S="".concat(N,"/platea.json"),k="".concat(N,"/platea-dose-addizionale-booster.json"),A="".concat(N,"/platea-second-booster.json"),M="".concat(N,"/platea-3a-booster.json"),T=function(e){var t,a,n,i,o,s,l,c,r,d,u=null===e||void 0===e||null===(t=e.dataSommVaxSummary)||void 0===t?void 0:t.data,m=null===e||void 0===e||null===(a=e.dataSommVaxDetail)||void 0===a?void 0:a.data,b=null===e||void 0===e||null===(n=e.dataVaxSummary)||void 0===n?void 0:n.data,j=null===e||void 0===e||null===(i=e.dataPlatea)||void 0===i?void 0:i.data,h=null===e||void 0===e||null===(o=e.dataPlateaDoseAddizionaleBooster)||void 0===o?void 0:o.data,O=null===e||void 0===e||null===(s=e.dataPlateaSecondBooster)||void 0===s?void 0:s.data,g=null===e||void 0===e||null===(l=e.dataPlateaThirdBooster)||void 0===l?void 0:l.data,N=null===e||void 0===e||null===(c=e.dataSommVaxSummaryCampagna)||void 0===c?void 0:c.data,w=null===e||void 0===e||null===(r=e.dataSommVaxDetailCampagna)||void 0===r?void 0:r.data,_=["0-4","05-11","12-59","60-69","70-79","80+"],C=["0-4","05-11","12-19","20-29","30-39","40-49","50-59","60-69","70-79","80+"],z=null===e||void 0===e?void 0:e.dataLastUpdate.data[0].ultimo_aggiornamento,D=null===u||void 0===u?void 0:u.filter((function(e){return"ITA"!==e.area})).reduce(f("totale"),0),S=null===N||void 0===N?void 0:N.filter((function(e){return"ITA"!==e.area})).reduce(f("d"),0),k={prima_dose:p.a.sum(null===m||void 0===m?void 0:m.map((function(e){return"05-11"===(null===e||void 0===e?void 0:e.eta)||"00-04"===(null===e||void 0===e?void 0:e.eta)?0:null===e||void 0===e?void 0:e.d1}))),pregressa_infezione:p.a.sum(null===m||void 0===m?void 0:m.map((function(e){return"05-11"===(null===e||void 0===e?void 0:e.eta)||"00-04"===(null===e||void 0===e?void 0:e.eta)?0:null===e||void 0===e?void 0:e.dpi}))),seconda_dose:p.a.sum(null===m||void 0===m?void 0:m.map((function(e){return"05-11"===(null===e||void 0===e?void 0:e.eta)||"00-04"===(null===e||void 0===e?void 0:e.eta)?0:null===e||void 0===e?void 0:e.d2}))),prima_dose_janssen:p.a.sum(null===m||void 0===m?void 0:m.filter((function(e){return"Janssen"===e.forn&&"05-11"!==(null===e||void 0===e?void 0:e.eta)&&"00-04"!==(null===e||void 0===e?void 0:e.eta)})).map((function(e){return null===e||void 0===e?void 0:e.d1}))),prima_dose_infant:p.a.sum(null===m||void 0===m?void 0:m.map((function(e){return"00-04"===(null===e||void 0===e?void 0:e.eta)?null===e||void 0===e?void 0:e.d1:0}))),seconda_dose_infant:p.a.sum(null===m||void 0===m?void 0:m.map((function(e){return"00-04"===(null===e||void 0===e?void 0:e.eta)?null===e||void 0===e?void 0:e.d2:0}))),pregressa_infezione_infant:p.a.sum(null===m||void 0===m?void 0:m.map((function(e){return"00-04"===(null===e||void 0===e?void 0:e.eta)?null===e||void 0===e?void 0:e.dpi:0}))),prima_dose_janssen_infant:p.a.sum(null===m||void 0===m?void 0:m.filter((function(e){return"Janssen"===e.forn&&"00-04"===(null===e||void 0===e?void 0:e.eta)})).map((function(e){return null===e||void 0===e?void 0:e.d1}))),prima_dose_baby:p.a.sum(null===m||void 0===m?void 0:m.map((function(e){return"05-11"===(null===e||void 0===e?void 0:e.eta)?null===e||void 0===e?void 0:e.d1:0}))),seconda_dose_baby:p.a.sum(null===m||void 0===m?void 0:m.map((function(e){return"05-11"===(null===e||void 0===e?void 0:e.eta)?null===e||void 0===e?void 0:e.d2:0}))),pregressa_infezione_baby:p.a.sum(null===m||void 0===m?void 0:m.map((function(e){return"05-11"===(null===e||void 0===e?void 0:e.eta)?null===e||void 0===e?void 0:e.dpi:0}))),prima_dose_janssen_baby:p.a.sum(null===m||void 0===m?void 0:m.filter((function(e){return"Janssen"===e.forn&&"05-11"===(null===e||void 0===e?void 0:e.eta)})).map((function(e){return null===e||void 0===e?void 0:e.d1}))),dose_addizionale_booster:p.a.sum(null===m||void 0===m?void 0:m.map((function(e){return"05-11"===(null===e||void 0===e?void 0:e.eta)||"00-04"===(null===e||void 0===e?void 0:e.eta)?0:null===e||void 0===e?void 0:e.db1}))),dose_second_booster:p.a.sum(null===m||void 0===m?void 0:m.map((function(e){return"05-11"===(null===e||void 0===e?void 0:e.eta)||"00-04"===(null===e||void 0===e?void 0:e.eta)?0:null===e||void 0===e?void 0:e.db2}))),dose_third_booster:p.a.sum(null===m||void 0===m?void 0:m.map((function(e){return"05-11"===(null===e||void 0===e?void 0:e.eta)||"00-04"===(null===e||void 0===e?void 0:e.eta)?0:null===e||void 0===e?void 0:e.db3}))),dose_addizionale_booster_baby:p.a.sum(null===m||void 0===m?void 0:m.map((function(e){return"05-11"===(null===e||void 0===e?void 0:e.eta)?null===e||void 0===e?void 0:e.db1:0})))},A=p.a.sum(null===j||void 0===j?void 0:j.map((function(e){return"05-11"!==(null===e||void 0===e?void 0:e.eta)&&"00-04"!==(null===e||void 0===e?void 0:e.eta)?null===e||void 0===e?void 0:e.totale_popolazione:0}))),M=p.a.sum(null===j||void 0===j?void 0:j.map((function(e){return"05-11"===(null===e||void 0===e?void 0:e.eta)?null===e||void 0===e?void 0:e.totale_popolazione:0}))),T=p.a.sum(null===j||void 0===j?void 0:j.map((function(e){return"00-04"===(null===e||void 0===e?void 0:e.eta)?null===e||void 0===e?void 0:e.totale_popolazione:0}))),P=p.a.sum(null===h||void 0===h?void 0:h.map((function(e){return"05-11"!==(null===e||void 0===e?void 0:e.categoria_prevalente)&&"00-04"!==(null===e||void 0===e?void 0:e.categoria_prevalente)?null===e||void 0===e?void 0:e.totale_popolazione:0}))),B={totalPlateaDoseAddizionaleBoosterBaby:p.a.sum(null===h||void 0===h?void 0:h.map((function(e){return"05-11"===(null===e||void 0===e?void 0:e.categoria_prevalente)?null===e||void 0===e?void 0:e.totale_popolazione:0}))),totalPlatea:A,totalPlateaBaby:M,totalPlateaInfant:T,totalPlateaDoseAddizionaleBooster:P,totalPlateaDoseSecondBooster:p.a.sum(null===O||void 0===O?void 0:O.map((function(e){return null===e||void 0===e?void 0:e.totale_popolazione}))),totalPlateaDoseThirdBooster:p.a.sum(null===g||void 0===g?void 0:g.map((function(e){return null===e||void 0===e?void 0:e.totale_popolazione})))},L=null===b||void 0===b?void 0:b.map(x),Y=p.a.groupBy(L,"code"),F=p()(null===m||void 0===m?void 0:m.map(x)).groupBy("code").map((function(e,t){var a,n=p.a.head(Y[t]);return{code:t,area:null===(a=p.a.head(e))||void 0===a?void 0:a.area,dosi_consegnate:n.dosi_consegnate||0,dosi_somministrate:n.dosi_somministrate||0,percentuale_somministrazione:n.percentuale_somministrazione||0}})).value(),V=["#0f69c9","#4d99eb","#77b2f2","#b5d4f5","#d1e0f0","#edf2f7","#ffffff"],R={},I=[],H=Object(v.a)(e.dataSommVaxDetailCampagna.data);try{for(H.s();!(d=H.n()).done;){var E=d.value;I.includes(E.forn)||I.push(E.forn)}}catch(xe){H.e(xe)}finally{H.f()}var U=I.indexOf("Pfizer Pediatrico");-1!==U&&(I.splice(U,1),I.push("Pfizer Pediatrico"));for(var J=0,W=I;J<W.length;J++){var X=W[J];Object.keys(R).length-1<V.length?R[X]=V[Object.keys(R).length]:R[X]="#ffffff"}var G={},Z=0,q=[],K=new Date("2024-09-13");do{var Q,$={label:y()(new Date(K.getTime()+5184e5)).format("DD/MM"),from:y()(K).format("YYYY-MM-DD"),labelfrom:y()(K).format("DD/MM"),to:y()(new Date(K.getTime()+5184e5)).format("YYYY-MM-DD"),labelto:y()(new Date(K.getTime()+5184e5)).format("DD/MM"),total:0},ee=Object(v.a)(I);try{for(ee.s();!(Q=ee.n()).done;){$[Q.value]=0}}catch(xe){ee.e(xe)}finally{ee.f()}G[y()(K).format("YYYY-MM-DD")]=Z,G[y()(new Date(K.getTime()+864e5)).format("YYYY-MM-DD")]=Z,G[y()(new Date(K.getTime()+1728e5)).format("YYYY-MM-DD")]=Z,G[y()(new Date(K.getTime()+2592e5)).format("YYYY-MM-DD")]=Z,G[y()(new Date(K.getTime()+3456e5)).format("YYYY-MM-DD")]=Z,G[y()(new Date(K.getTime()+432e6)).format("YYYY-MM-DD")]=Z,G[y()(new Date(K.getTime()+5184e5)).format("YYYY-MM-DD")]=Z,Z++,q.push($),K=new Date(K.getTime()+6048e5)}while(K<=new Date);var te,ae=Object(v.a)(e.dataSommVaxDetailCampagna.data.filter((function(e){return e.data>="2024-09-17T00:00:00.000Z"})));try{for(ae.s();!(te=ae.n()).done;){var ne=te.value,ie=q[G[y()(new Date(ne.data)).format("YYYY-MM-DD")]];try{ie.total+=ne.f+ne.m}catch(Oe){}ie[ne.forn]+=ne.f+ne.m}}catch(xe){ae.e(xe)}finally{ae.f()}q.pop();var oe={suppliersColor:R,suppliers:I,suppliersWeek:q},se={totale:"Totale fascia"},le=Object.keys(se),ce=Object.values(se),re=p()(w).map((function(e){return"90+"!==e.eta&&"80-89"!==e.eta||(e.eta="80+"),"50-59"!==e.eta&&"40-49"!==e.eta&&"30-39"!==e.eta&&"20-29"!==e.eta&&"12-19"!==e.eta||(e.eta="12-59"),e})).groupBy("eta").map((function(e,t){var a="Fascia "+t;return"80+"===t&&(a="Fascia over 80"),"00-04"===t&&(a="Fascia 0-4"),{label:a,totale:{totale:p.a.sum(e.map((function(e){return e.d})))}.totale}})).value().sort((function(e,t){return e.label<t.label?1:-1})),de=p()(null===w||void 0===w?void 0:w.map(x)).map((function(e){return"90+"!==e.eta&&"80-89"!==e.eta||(e.eta="80+"),"50-59"!==e.eta&&"40-49"!==e.eta&&"30-39"!==e.eta&&"20-29"!==e.eta&&"12-19"!==e.eta||(e.eta="12-59"),e})).groupBy("code").map((function(e,t){var a,n,i={code:t,area:null===(a=p.a.head(e))||void 0===a?void 0:a.area,totale:p.a.sum(e.map((function(e){return e.d})))},o=Object(v.a)(_);try{var s=function(){var t=n.value,a="0-4"===t?"00-04":t;i["80+"===t?"fascia_over_80":"fascia_"+t]=p.a.sum(e.filter((function(e){return a===e.eta})).map((function(e){return e.d})))};for(o.s();!(n=o.n()).done;)s()}catch(xe){o.e(xe)}finally{o.f()}return i})).value(),ue={};p()(null===w||void 0===w?void 0:w.map(x)).map((function(e){return"90+"!==e.eta&&"80-89"!==e.eta||(e.eta="80+"),"50-59"!==e.eta&&"40-49"!==e.eta&&"30-39"!==e.eta&&"20-29"!==e.eta&&"12-19"!==e.eta||(e.eta="12-59"),e})).groupBy("code").map((function(e,t){return ue[t]=p()(null===e||void 0===e?void 0:e.map(x)).groupBy("eta").map((function(e,t){var a="Fascia "+t;return"80+"===t&&(a="Fascia over 80"),"00-04"===t&&(a="Fascia 0-4"),{label:a,totale:{totale:p.a.sum(e.map((function(e){return e.d})))}.totale}})).value().sort((function(e,t){return e.label<t.label?1:-1})),e})).value();var me={keyValueDoses:se,keysDosesAges:le,dosesAges:ce,dosesAgesColor:["#0a5dbb"],dosesAgesData:re,dosesAgesRegionData:ue,secondDosesMapData:de},be={third_booster:"3\xaa dose Booster ",second_booster:"2\xaa dose Booster ",addizionale:"1\xaa dose Booster",seconda:"2\xaa dose/unica dose",prima:"1\xaa dose",totale:"Totale fascia"},ve=Object.keys(be),je=Object.values(be),pe=p()(m).map((function(e){return"90+"!==e.eta&&"80-89"!==e.eta||(e.eta="80+"),e})).groupBy("eta").map((function(e,t){var a="Fascia "+t;"80+"===t&&(a="Fascia over 80"),"00-04"===t&&(a="Fascia 0-4");var n={prima:p.a.sum(e.filter((function(e){return"Janssen"!==e.forn})).map((function(e){return e.d1}))),seconda:p.a.sum(e.filter((function(e){return"Janssen"!==e.forn})).map((function(e){return e.d2})))+p.a.sum(e.filter((function(e){return"Janssen"===e.forn})).map((function(e){return e.d1})))+p.a.sum(e.map((function(e){return e.dpi}))),addizionale:p.a.sum(e.map((function(e){return e.db1}))),second_booster:p.a.sum(e.map((function(e){return e.db2}))),third_booster:p.a.sum(e.map((function(e){return e.db3}))),"Totale platea":p.a.sum(j.filter((function(e){return e.eta===t})).map((function(e){return e.totale_popolazione})))},i=p.a.sum(e.map((function(e){return e.m+e.f})));return{label:a,third_booster:n.third_booster,second_booster:n.second_booster>n.third_booster?n.second_booster-n.third_booster:0,addizionale:n.addizionale>n.second_booster?n.addizionale-n.second_booster:0,seconda:n.seconda>n.addizionale?n.seconda-n.addizionale:0,prima:n.prima>n.seconda?n.prima-n.seconda:0,totale:n["Totale platea"]>n.prima?n["Totale platea"]-n.prima:0,totale_somministrazioni:i,"Totale platea":n["Totale platea"]}})).value().sort((function(e,t){return e.label<t.label?1:-1})),fe=p()(null===m||void 0===m?void 0:m.map(x)).map((function(e){return"90+"!==e.eta&&"80-89"!==e.eta||(e.eta="80+"),e})).groupBy("code").map((function(e,t){var a,n={code:t,area:null===(a=p.a.head(e))||void 0===a?void 0:a.area,somministrazioni:p.a.sum(e.filter((function(e){return"Janssen"!==e.forn})).map((function(e){return e.d2})))+p.a.sum(e.filter((function(e){return"Janssen"===e.forn})).map((function(e){return e.d1})))+p.a.sum(e.map((function(e){return e.dpi})))},i=p.a.sum(j.filter((function(e){return e.area===t})).map((function(e){return e.totale_popolazione})));n.vaccinati=n.somministrazioni,n.somministrazioni=n.somministrazioni/i*100;var o,s=Object(v.a)(C);try{var l=function(){var a=o.value,i="80+"===a?"fascia_over_80":"fascia_"+a,s="0-4"===a?"00-04":a;n[i]=p.a.sum(e.filter((function(e){return s===e.eta&&"Janssen"!==e.forn})).map((function(e){return e.d2})))+p.a.sum(e.filter((function(e){return s===e.eta&&"Janssen"===e.forn})).map((function(e){return e.d1})))+p.a.sum(e.filter((function(e){return s===e.eta})).map((function(e){return e.dpi})));var l=p.a.sum(j.filter((function(e){return e.area===t&&e.eta===s})).map((function(e){return e.totale_popolazione})));n["vaccinati_"+i]=n[i],n[i]=n[i]/l*100};for(s.s();!(o=s.n()).done;)l()}catch(xe){s.e(xe)}finally{s.f()}return n})).value(),he={};return p()(null===m||void 0===m?void 0:m.map(x)).map((function(e){return"90+"!==e.eta&&"80-89"!==e.eta||(e.eta="80+"),e})).groupBy("code").map((function(e,t){return he[t]=p()(null===e||void 0===e?void 0:e.map(x)).groupBy("eta").map((function(e,a){var n="Fascia "+a;"80+"===a&&(n="Fascia over 80"),"00-04"===a&&(n="Fascia 0-4");var i={prima:p.a.sum(e.filter((function(e){return"Janssen"!==e.forn})).map((function(e){return e.d1}))),seconda:p.a.sum(e.filter((function(e){return"Janssen"!==e.forn})).map((function(e){return e.d2})))+p.a.sum(e.filter((function(e){return"Janssen"===e.forn&&e.area===t})).map((function(e){return e.d1})))+p.a.sum(e.filter((function(e){return e.area===t})).map((function(e){return e.dpi}))),addizionale:p.a.sum(e.map((function(e){return e.db1}))),second_booster:p.a.sum(e.map((function(e){return e.db2}))),third_booster:p.a.sum(e.map((function(e){return e.db3}))),"Totale platea":p.a.sum(j.filter((function(e){return e.eta===a&&e.area===t})).map((function(e){return e.totale_popolazione})))};return{label:n,third_booster:i.third_booster,second_booster:i.second_booster>i.third_booster?i.second_booster-i.third_booster:0,addizionale:i.addizionale>i.second_booster?i.addizionale-i.second_booster:0,seconda:i.seconda>i.addizionale?i.seconda-i.addizionale:0,prima:i.prima>i.seconda?i.prima-i.seconda:0,totale:i["Totale platea"]>i.prima?i["Totale platea"]-i.prima:0,"Totale platea":i["Totale platea"]}})).value().sort((function(e,t){return e.label<t.label?1:-1})),e})).value(),{timestamp:z,tot:D,totCampagna:S,databoxContent:B,weekContent:oe,agedosesContent:me,agedosesContentHistory:{keyValueDosesHistory:be,keysDosesAgesHistory:ve,dosesAgesHistory:je,dosesAgesColorHistory:["#090d4d","#0b34a3","#244bb3","#0a5dbb","#3073cf","#548bd6","#b6d5f4"],dosesAgesDataHistory:pe,dosesAgesRegionDataHistory:he,secondDosesMapDataHistory:fe},deliverySummary:L,totalDeliverySummary:F,totalDoses:k}},P=function(){var e=Object(b.a)(d.a.mark((function e(t){var a,n,i,o,s,l,r,b,v,j,p,f,h,x,O,g,y,N,P,B,L,Y,F,V,R,I,H,E,U,J;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.campagnaUrl,n=t.summaryUrl,e.next=3,Promise.all([fetch(_),fetch(z),fetch(D),fetch(S),fetch(k),fetch(A),fetch(M),fetch(n),fetch(a)]);case 3:for(i=e.sent,o=Object(c.a)(i,9),s=o[0],l=o[1],r=o[2],b=o[3],v=o[4],j=o[5],p=o[6],f=o[7],h=o[8],x=[],O=0;O<w.length;O++)x.push(fetch(C+w[O]+".json"));return e.next=18,Promise.all(x);case 18:return g=e.sent,e.next=21,Promise.all([s.json(),l.json(),r.json(),b.json(),v.json(),j.json(),p.json(),f.json(),h.json()]);case 21:for(y=e.sent,N=Object(c.a)(y,9),P=N[0],B=N[1],L=N[2],Y=N[3],F=N[4],V=N[5],R=N[6],I=N[7],H=N[8],E=[],O=0;O<g.length;O++)E.push(g[O].json());return e.next=36,Promise.all(E);case 36:for(U=e.sent,J=U[0],O=1;O<U.length;O++)J.data=[].concat(Object(m.a)(J.data),Object(m.a)(U[O].data));return e.abrupt("return",Object(u.a)({},T({dataSommVaxSummary:P,dataSommVaxDetail:J,dataVaxSummary:B,dataLastUpdate:L,dataPlatea:Y,dataPlateaDoseAddizionaleBooster:F,dataPlateaSecondBooster:V,dataPlateaThirdBooster:R,dataSommVaxSummaryCampagna:I,dataSommVaxDetailCampagna:H})));case 40:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=a(4),L=function(e){var t=e.handleRectClick,a=e.height,o=e.width,s=e.data,l=e.keys,c=e.labels,r=e.colors,d=e.selectedCodeAge,u=e.regionSelected,m=Object(i.useRef)(),b=Object(i.useRef)();Object(i.useEffect)((function(){B.h(b.current).selectAll("svg").remove(),j()}),[s,l,c,d]);var v=function(e){var t=B.h(e.node().parentNode),a=parseInt(e.style("width"),10),n=parseInt(e.style("height"),10),i=a/n;function o(){var a=parseInt(t.style("width"));e.attr("width",a),e.attr("height",Math.round(a/i))}e.attr("viewBox","0 0 ".concat(a," ").concat(n)).attr("preserveAspectRatio","xMinYMid").call(o),B.h(window).on("resize."+t.attr("id"),o)};var j=function(){var e=B.i().keys(l)(s),n=B.h(b.current).append("svg").style("margin-bottom",10).attr("width",o).attr("height",a),i=30,m=60,j=B.g().domain([0,B.e(s,(function(e){return e.totale}))]),p=B.f().padding(.2);j.range([0,o]),p.range([0,a]).domain(s.map((function(e){return e.label}))),n.attr("width",o+2*m).attr("height",a+2*i).call(v).attr("id","svg-stack-bar");var f=n.append("g").attr("transform","translate(".concat(m,",").concat(i,")"));f.append("g").attr("class","axis").attr("transform","translate(0, 0)").style("font-size","12px").call(B.b(p)).attr("stroke-width",0).selectAll("text").attr("y",0).attr("x",-30).style("text-anchor","start").style("fill","#19191a");var h=B.h("body").append("div").attr("class","d3-tooltip").style("position","absolute").style("z-index","10").style("display","none").style("padding","10px").style("background","rgba(0,0,0,0.8)").style("border-radius","4px").style("color","#fff"),x=f.selectAll().data(e);x.enter().append("g").attr("fill",(function(e){return r[e.index]})).attr("dose",(function(e){return e.key})).selectAll("rect").data((function(e){return e})).enter().append("rect").on("click",(function(e,a){t(a),h.html("").style("display","none")})).attr("opacity",(function(e){var t=e.data.label.toLowerCase().replaceAll(" ","_");return d===t?1:d?.3:1})).attr("x",(function(e){return j(e[0])+60})).attr("y",(function(e){return p(e.data.label)})).attr("width",(function(e){return j(e[1])-j(e[0])})).attr("height",p.bandwidth()).on("mouseover",(function(e,t){B.h(this).transition().attr("fill","#0BD9D3")})).on("mousemove",(function(e,t){var a=u?" "+u:"";if("totale"===B.h(this.parentNode).attr("dose"))h.style("top",e.pageY-10+"px").style("left",e.pageX+10+"px"),h.html('<div style="text-align: center; line-height: 1.15rem;">\n                <div style="font-size: 12px;">'.concat(a,"</div>\n                <div><b>").concat(t.data.label,'</b></div>\n                <div style="font-size: 14px;">Somministrazioni</div>\n                <div>').concat(t.data.totale.toLocaleString("it"),"</div>\n                </div>")).style("display",null);else{h.html('<div style="text-align: center; line-height: 1.15rem;">\n                        <div style="font-size: 12px;">'.concat(a," ").concat(t.data.label,'</div>\n                        <div style="text-align: center"><b>').concat(c[B.h(this.parentNode).attr("dose")],' </b></div>\n                        <div style="font-size: 14px;"><b>(').concat(99999..toFixed(2).toLocaleString("it"),' %)</b></div>\n                        <div style="font-size: 14px;">Somministrate ').concat(t[1].toLocaleString("it")," su ").concat(t.data.totale.toLocaleString("it"),"</div>")).style("display",null)}})).on("mouseout",(function(e){h.html("").style("display","none"),B.h(this).transition().attr("fill",r[e.key])})),x.exit().remove()};return Object(n.jsx)("div",{ref:b,className:"chart svg-container",children:Object(n.jsx)("svg",{ref:m,className:"svg-content-responsive"})})},Y=a(56),F=function(e){var t=e.handleMapDeliveryClick,a=e.fillMapDeliveryArea,o=e.fillBy,s=e.summary,l=e.tooltip,r=e.percentage,u=Object(i.useState)([]),m=Object(c.a)(u,2),v=m[0],j=m[1],f=Object(i.useState)(0),h=Object(c.a)(f,2),x=h[0],O=h[1];Object(i.useEffect)((function(){if(r)O(100);else{var e=p.a.maxBy(s||{},o);O(e?e[o]:0)}}),[s,o,r]);var g=B.c().center([0,41]).rotate([347,0]).parallels([35,45]).scale(2200).translate([249,239]);return Object(i.useEffect)((function(){(function(){var e=Object(b.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("data/geo/it.json");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,j(Y.a(a,a.objects.regions).features);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.jsx)("div",{className:"map-area",children:Object(n.jsx)("svg",{className:"h-100 w-100",height:478,children:Object(n.jsxs)("g",{className:"countries",children:[v.map((function(e,i){var c,r,d=e.properties.reg_name,u=p.a.filter(s,(function(e){return e.area===d})),m={};return u&&u.length>0&&(m=u[0]),Object(n.jsx)("path",{d:B.d().projection(g)(e),className:"country",id:"".concat(null===(c=m)||void 0===c||null===(r=c.area)||void 0===r?void 0:r.trim()),fill:a({region:m,maxValue:x,field:o}),stroke:"#FFFFFF",strokeWidth:.7,onClick:function(){return t(m)},children:Object(n.jsx)("title",{children:Object(n.jsx)("span",{className:"bg-info",children:l(m)})})},"path-".concat(i))})),");"]})})})},V={weeks:{title:""},total:{title:"",subtitle:"",showLastUpdate:!1,periodTitle:"",periodSubtitle:""},ageDoses:{title:""}},R=Object(i.createContext)(V),I=function(e){var t,a=null!==(t=Object(i.useContext)(R))&&void 0!==t?t:function(){throw new Error("useAmbienteContext must be used inside a AmbienteContext providing a valid selector")}();return Reflect.get(a,e)},H=function(e){var t=e.data,a=Object(i.useState)([]),o=Object(c.a)(a,2),s=o[0],l=o[1],r=Object(i.useState)([]),d=Object(c.a)(r,2),u=d[0],m=d[1],b=Object(i.useState)({}),p=Object(c.a)(b,2),f=p[0],h=p[1],x=Object(i.useState)([]),O=Object(c.a)(x,2),g=O[0],y=O[1],N=Object(i.useState)([]),w=Object(c.a)(N,2),_=w[0],C=w[1],z=Object(i.useState)("totale"),D=Object(c.a)(z,2),S=D[0],k=D[1],A=Object(i.useState)(null),M=Object(c.a)(A,2),T=M[0],P=M[1],B=Object(i.useState)(null),Y=Object(c.a)(B,2),V=Y[0],R=Y[1],H=Object(i.useState)(null),E=Object(c.a)(H,2),U=E[0],J=E[1],W=Object(i.useState)(0),X=Object(c.a)(W,2),G=X[0],Z=X[1];Object(i.useEffect)((function(){Object(j.isEmpty)(t)||(l(t.agedosesContent.dosesAgesColor),m(t.agedosesContent.keysDosesAges),h(t.agedosesContent.keyValueDoses),y(t.agedosesContent.dosesAgesData),Z(t.totCampagna),C(t.agedosesContent.secondDosesMapData))}),[t]);var q=function(){J(null),P(null),R(null),Z(t.totCampagna),y(t.agedosesContent.dosesAgesData),k("totale"),C(t.agedosesContent.secondDosesMapData)},K=I("ageDoses").title;return Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-12 d-flex justify-content-center align-items-center section-title mx-2",children:Object(n.jsx)("div",{children:Object(n.jsx)("h3",{children:K})})}),Object(n.jsxs)("div",{className:"col-12 col-md-12 m-3",children:[Object(n.jsx)("div",{className:"d-lg-none bg-box box-mobile m-3",children:Object(n.jsxs)("div",{className:"text-white",children:[Object(n.jsx)("div",{className:"d-flex justify-content-center pt-5",children:Object(n.jsx)("h5",{children:"Totale somministrazioni"})}),Object(n.jsx)("div",{className:"d-flex justify-content-center",children:Object(n.jsx)("p",{className:"box-numbers",children:G&&G.toLocaleString("it")})}),Object(n.jsx)("div",{className:"col-12 d-flex justify-content-end pb-2",children:Object(n.jsx)("img",{alt:"reset-plot2",src:"reset_white.png",onClick:q,height:"36px"})})]})}),Object(n.jsx)("div",{className:"col-4 col-md-4 d-none d-lg-block",children:Object(n.jsx)("div",{className:"bg-box box-card box-left",children:Object(n.jsxs)("div",{className:"text-white",children:[Object(n.jsx)("div",{className:"d-flex justify-content-start pt-3 pl-5",children:Object(n.jsx)("h5",{children:"Totale somministrazioni"})}),Object(n.jsx)("div",{className:"d-flex justify-content-start pl-5",children:Object(n.jsx)("p",{className:"box-numbers",children:G&&G.toLocaleString("it")})}),Object(n.jsx)("div",{className:"col-12 d-flex justify-content-end pb-2",children:Object(n.jsx)("img",{alt:"Reset",src:"reset_white.png",onClick:q,height:"36px"})})]})})})]}),Object(n.jsxs)("div",{className:"col-12 col-md-6",children:[Object(n.jsx)(L,{width:350,height:300,property:{xprop:"label",yprop:"total"},handleRectClick:function(e){T&&q();var a=e.data.label.toLowerCase().replaceAll(" ","_");if(U===a)q();else{J(a),k(a);var n,i=Object(v.a)(t.agedosesContent.dosesAgesData);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.label===e.data.label){Z(o.totale);break}}}catch(s){i.e(s)}finally{i.f()}}},regionSelected:V,selectedCodeAge:U,colors:s,keys:u,labels:f,data:g}),Object(n.jsx)("p",{className:"d-block d-sm-none text-center",children:"*Tieni premuto sulle barre del grafico per visualizzare i dati sulle dosi somministrate"}),Object(n.jsx)("p",{className:"d-none d-sm-block text-center",children:"*Passa con il mouse sulle barre del grafico per visualizzare i dati sulle dosi somministrate"})]}),Object(n.jsxs)("div",{className:"col-12 col-md-6",children:[Object(n.jsx)("div",{className:"p-4 d-lg-none",children:Object(n.jsx)("div",{className:"text-center",children:Object(n.jsx)("h5",{children:"Totale somministrazioni per regione"})})}),Object(n.jsx)(F,{fillMapDeliveryArea:function(e){var t=e.region,a=e.maxValue,n=e.field,i=0;if(t.code===T)i=1;else if(T){var o=t[n]/(2*a);i=Object(j.max)([o,.1])}else i=Object(j.max)([t[n]/a,.1]);return"rgba(0,102,204,".concat(i,") ")},summary:_,handleMapDeliveryClick:function(e){if(U&&q(),T===e.code)q();else{P(e.code),R(e.area),y(t.agedosesContent.dosesAgesRegionData[e.code]);var a,n=0,i=Object(v.a)(t.agedosesContent.dosesAgesRegionData[e.code]);try{for(i.s();!(a=i.n()).done;){n+=a.value.totale}}catch(o){i.e(o)}finally{i.f()}Z(n)}},fillBy:S,tooltip:function(e){var t,a=null,n=Object(v.a)(_);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.code===e.code&&(a=i)}}catch(o){n.e(o)}finally{n.f()}return e.area+" "+(a&&a[S]&&"("+a[S].toLocaleString("it")+")")},className:"ml-5"}),Object(n.jsx)("div",{className:"p-4 d-none d-lg-block map-legend",children:Object(n.jsx)("div",{className:"d-flex justify-content-end",children:Object(n.jsxs)("h5",{className:"ml-5 pl-sm-1",children:["Totale somministrazioni",Object(n.jsx)("br",{})," per regione"]})})})]})]})},E=function(e){var t,a=I("total"),i=a.title,o=a.subtitle,s=a.showLastUpdate,l=a.periodTitle,c=a.periodSubtitle;return Object(n.jsxs)("div",{className:"h-100 w-100 my-3",children:[Object(n.jsxs)("div",{className:"p-3 mb-5",children:[Object(n.jsx)("h3",{className:"text-center",children:i}),Object(n.jsx)("div",{className:"col-12 d-flex justify-content-center align-items-center",children:Object(n.jsx)("h6",{children:o})})]}),s&&Object(n.jsxs)("div",{className:"mx-auto",children:[Object(n.jsx)("h5",{className:"text-center pb-4",children:"Ultimo aggiornamento dati"}),Object(n.jsx)("h6",{className:"text-center pb-4",children:e.summary.timestamp&&y()(e.summary.timestamp).format("DD-MM-YYYY")})]}),Object(n.jsxs)("div",{className:"d-flex flex-column justify-content-center",children:[Object(n.jsxs)("div",{className:"d-flex justify-content-center align-items-baseline",children:[Object(n.jsx)("img",{src:"meds.png",alt:"meds",className:"pl-2 pr-5"}),Object(n.jsx)("div",{className:"pl-2 mt-4 numbers",children:null===(t=e.summary.totCampagna)||void 0===t?void 0:t.toLocaleString("it")})]}),Object(n.jsx)("span",{className:"border-divider mb-2"}),Object(n.jsx)("div",{className:"d-flex justify-content-center",children:Object(n.jsx)("h3",{children:l})}),c&&Object(n.jsx)("div",{className:"d-flex justify-content-center",children:c})]})]})},U=function(e){var t=e.handleRectClick,a=e.height,o=e.width,s=e.data,l=e.keys,c=e.labels,r=e.colors,d=e.selectedCodeAge,u=e.regionSelected,m=Object(i.useRef)(),b=Object(i.useRef)();Object(i.useEffect)((function(){B.h(b.current).selectAll("svg").remove(),j()}),[s,l,c,d]);var v=function(e){var t=B.h(e.node().parentNode),a=parseInt(e.style("width"),10),n=parseInt(e.style("height"),10),i=a/n;function o(){var a=parseInt(t.style("width"));e.attr("width",a),e.attr("height",Math.round(a/i))}e.attr("viewBox","0 0 ".concat(a," ").concat(n)).attr("preserveAspectRatio","xMinYMid").call(o),B.h(window).on("resize."+t.attr("id"),o)};var j=function(){var e=B.i().keys(l)(s),n=B.h(b.current).append("svg").style("margin-bottom",10).attr("width",o).attr("height",a),i=30,m=60,j=B.g().domain([0,B.e(s,(function(e){return e["Totale platea"]}))]),p=B.f().padding(.2);j.range([0,o]),p.range([0,a]).domain(s.map((function(e){return e.label}))),n.attr("width",o+2*m).attr("height",a+2*i).call(v).attr("id","svg-stack-bar");var f=n.append("g").attr("transform","translate(".concat(m,",").concat(i,")"));f.append("g").attr("class","axis").attr("transform","translate(0, 0)").style("font-size","12px").call(B.b(p)).attr("stroke-width",0).selectAll("text").attr("y",0).attr("x",-30).style("text-anchor","start").style("fill","#19191a");var h=B.h("body").append("div").attr("class","d3-tooltip").style("position","absolute").style("z-index","10").style("display","none").style("padding","10px").style("background","rgba(0,0,0,0.8)").style("border-radius","4px").style("color","#fff"),x=f.selectAll().data(e);x.enter().append("g").attr("fill",(function(e){return r[e.index]})).attr("dose",(function(e){return e.key})).selectAll("rect").data((function(e){return e})).enter().append("rect").on("click",(function(e,a){t(a),h.html("").style("display","none")})).attr("opacity",(function(e){var t=e.data.label.toLowerCase().replaceAll(" ","_");return d===t?1:d?.3:1})).attr("x",(function(e){return j(e[0])+60})).attr("y",(function(e){return p(e.data.label)})).attr("width",(function(e){return j(e[1])-j(e[0])})).attr("height",p.bandwidth()).on("mouseover",(function(e,t){B.h(this).transition().attr("fill","#0BD9D3")})).on("mousemove",(function(e,t){var a=u?" "+u:"";if("totale"===B.h(this.parentNode).attr("dose"))h.style("top",e.pageY-10+"px").style("left",e.pageX+10+"px"),h.html('<div style="text-align: center; line-height: 1.15rem;">\n                <div style="font-size: 12px;">'.concat(a,"</div>\n                <div><b>").concat(t.data.label,'</b></div>\n                <div style="font-size: 14px;">Platea</div>\n                <div>').concat(t.data["Totale platea"].toLocaleString("it"),"</div>\n                </div>")).style("display",null);else{var n=0;if("prima"===B.h(this.parentNode).attr("dose"))n=(t.data.prima+t.data.seconda+t.data.addizionale+t.data.second_booster+t.data.third_booster)/t.data["Totale platea"]*100;else if("seconda"===B.h(this.parentNode).attr("dose"))n=(t.data.seconda+t.data.addizionale+t.data.second_booster+t.data.third_booster)/t.data["Totale platea"]*100;else if("addizionale"===B.h(this.parentNode).attr("dose"))n=(t.data.addizionale+t.data.second_booster+t.data.third_booster)/t.data["Totale platea"]*100;else if("second_booster"===B.h(this.parentNode).attr("dose"))n=(t.data.second_booster+t.data.third_booster)/t.data["Totale platea"]*100;else n=t.data.third_booster/t.data["Totale platea"]*100;h.style("top",e.pageY-10+"px").style("left",e.pageX+10+"px"),n<0?h.html('<div style="text-align: center; line-height: 1.15rem;">\n                        <div style="font-size: 12px;">'.concat(a," ").concat(t.data.label,'</div>\n                        <div style="text-align: center"><b>').concat(c[B.h(this.parentNode).attr("dose")],' </b></div>\n                        <div style="font-size: 14px;">Somministrate ').concat(t[1].toLocaleString("it")," su ").concat(t.data["Totale platea"].toLocaleString("it"),"</div>")).style("display",null):h.html('<div style="text-align: center; line-height: 1.15rem;">\n                        <div style="font-size: 12px;">'.concat(a," ").concat(t.data.label,'</div>\n                        <div style="text-align: center"><b>').concat(c[B.h(this.parentNode).attr("dose")],' </b></div>\n                        <div style="font-size: 14px;"><b>(').concat(n.toFixed(2).toLocaleString("it"),' %)</b></div>\n                        <div style="font-size: 14px;">Somministrate ').concat(t[1].toLocaleString("it")," su ").concat(t.data["Totale platea"].toLocaleString("it"),"</div>")).style("display",null)}})).on("mouseout",(function(e){h.html("").style("display","none"),B.h(this).transition().attr("fill",r[e.key])})),x.exit().remove()};return Object(n.jsx)("div",{ref:b,className:"chart svg-container",children:Object(n.jsx)("svg",{ref:m,className:"svg-content-responsive"})})},J=function(e){var t=e.data,a=Object(i.useState)([]),o=Object(c.a)(a,2),s=o[0],l=o[1],r=Object(i.useState)([]),d=Object(c.a)(r,2),u=d[0],m=d[1],b=Object(i.useState)([]),p=Object(c.a)(b,2),f=p[0],h=p[1],x=Object(i.useState)({}),O=Object(c.a)(x,2),g=O[0],y=O[1],N=Object(i.useState)([]),w=Object(c.a)(N,2),_=w[0],C=w[1],z=Object(i.useState)([]),D=Object(c.a)(z,2),S=D[0],k=D[1],A=Object(i.useState)("somministrazioni"),M=Object(c.a)(A,2),T=M[0],P=M[1],B=Object(i.useState)(null),L=Object(c.a)(B,2),Y=L[0],V=L[1],R=Object(i.useState)(null),I=Object(c.a)(R,2),H=I[0],E=I[1],J=Object(i.useState)(null),W=Object(c.a)(J,2),X=W[0],G=W[1],Z=Object(i.useState)(0),q=Object(c.a)(Z,2),K=q[0],Q=q[1];Object(i.useEffect)((function(){Object(j.isEmpty)(t)||(l(t.agedosesContentHistory.dosesAgesColorHistory),m(t.agedosesContentHistory.dosesAgesHistory),h(t.agedosesContentHistory.keysDosesAgesHistory),y(t.agedosesContentHistory.keyValueDosesHistory),C(t.agedosesContentHistory.dosesAgesDataHistory),Q(t.tot),k(t.agedosesContentHistory.secondDosesMapDataHistory))}),[t]);var $=function(){G(null),V(null),E(null),Q(t.tot),C(t.agedosesContentHistory.dosesAgesDataHistory),P("somministrazioni"),k(t.agedosesContentHistory.secondDosesMapDataHistory)};return Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-12 d-flex justify-content-center align-items-center section-title mx-2",children:Object(n.jsx)("div",{children:Object(n.jsx)("h3",{children:"Somministrazioni per fascia d'et\xe0 - dose fino al 24/09/2023"})})}),Object(n.jsxs)("div",{className:"col-12 col-md-12 m-3",children:[Object(n.jsx)("div",{className:"d-lg-none bg-box box-mobile m-3",children:Object(n.jsxs)("div",{className:"text-white",children:[Object(n.jsx)("div",{className:"d-flex justify-content-center pt-5",children:Object(n.jsx)("h5",{children:"Totale somministrazioni"})}),Object(n.jsx)("div",{className:"d-flex justify-content-center",children:Object(n.jsx)("p",{className:"box-numbers",children:K&&K.toLocaleString("it")})}),Object(n.jsx)("div",{className:"col-12 d-flex justify-content-end pb-2",children:Object(n.jsx)("img",{alt:"reset-plot2",src:"reset_white.png",onClick:$,height:"36px"})})]})}),Object(n.jsx)("div",{className:"col-4 col-md-4 d-none d-lg-block",children:Object(n.jsx)("div",{className:"bg-box box-card box-left",children:Object(n.jsxs)("div",{className:"text-white",children:[Object(n.jsx)("div",{className:"d-flex justify-content-start pt-3 pl-5",children:Object(n.jsx)("h5",{children:"Totale somministrazioni"})}),Object(n.jsx)("div",{className:"d-flex justify-content-start pl-5",children:Object(n.jsx)("p",{className:"box-numbers",children:K&&K.toLocaleString("it")})}),Object(n.jsx)("div",{className:"col-12 d-flex justify-content-end pb-2",children:Object(n.jsx)("img",{alt:"Reset",src:"reset_white.png",onClick:$,height:"36px"})})]})})})]}),Object(n.jsxs)("div",{className:"col-12 col-md-6",children:[Object(n.jsx)(U,{width:350,height:300,property:{xprop:"label",yprop:"total"},handleRectClick:function(e){Y&&$();var a=e.data.label.toLowerCase().replaceAll(" ","_");if(X===a)$();else{G(a),P(a),console.log(a);var n,i=Object(v.a)(t.agedosesContentHistory.dosesAgesDataHistory);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.label===e.data.label){Q(o.totale_somministrazioni);break}}}catch(s){i.e(s)}finally{i.f()}}},regionSelected:H,selectedCodeAge:X,colors:s,keys:f,labels:g,data:_}),Object(n.jsx)("div",{className:"row mb-4 ml-4",children:u.map((function(e,t){return Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"circle",style:{backgroundColor:s[t]}}),Object(n.jsx)("div",{className:"legend-dark mr-4",children:e})]},e)}))}),Object(n.jsx)("p",{className:"d-block d-sm-none text-center",children:"*Tieni premuto sulle barre del grafico per visualizzare i dati sulle dosi somministrate"}),Object(n.jsx)("p",{className:"d-none d-sm-block text-center",children:"*Passa con il mouse sulle barre del grafico per visualizzare i dati sulle dosi somministrate"})]}),Object(n.jsxs)("div",{className:"col-12 col-md-6",children:[Object(n.jsx)("div",{className:"p-4 d-lg-none",children:Object(n.jsx)("div",{className:"text-center",children:Object(n.jsx)("h5",{children:"Percentuale vaccinati per regione"})})}),Object(n.jsx)(F,{fillMapDeliveryArea:function(e){var t=e.region,a=e.maxValue,n=e.field,i=0;if(t.code===Y)i=1;else if(Y){var o=t[n]/(2*a);i=Object(j.max)([o,.1])}else i=Object(j.max)([t[n]/a,.1]);return"rgba(0,102,204,".concat(i,") ")},summary:S,handleMapDeliveryClick:function(e){if(X&&$(),Y===e.code)$();else{V(e.code),E(e.area),C(t.agedosesContentHistory.dosesAgesRegionDataHistory[e.code]);var a,n=Object(v.a)(null===t||void 0===t?void 0:t.totalDeliverySummary);try{for(n.s();!(a=n.n()).done;){var i=a.value;i.code===e.code&&Q(i.dosi_somministrate)}}catch(o){n.e(o)}finally{n.f()}}},fillBy:T,percentage:!0,tooltip:function(e){var t,a=null,n=Object(v.a)(S);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.code===e.code&&(a=i)}}catch(s){n.e(s)}finally{n.f()}var o="somministrazioni"===T?"vaccinati":"vaccinati_"+T;return e.area+" "+(e[T]&&e[T].toFixed(2).toLocaleString("it")+"%")+" "+(a&&a[o]&&"("+a[o].toLocaleString("it")+")")},className:"ml-5"}),Object(n.jsx)("div",{className:"p-4 d-none d-lg-block map-legend",children:Object(n.jsx)("div",{className:"d-flex justify-content-start pr-5",children:Object(n.jsxs)("h5",{className:"pl-3 pl-sm-1",children:["Percentuale vaccinati",Object(n.jsx)("br",{})," per regione"]})})})]})]})},W=function(e){var t=e.data,a=Object(i.useState)(""),o=Object(c.a)(a,2),s=o[0],l=o[1],r=Object(i.useState)(""),d=Object(c.a)(r,2),u=d[0],m=d[1],b=Object(i.useState)(""),v=Object(c.a)(b,2),j=v[0],p=v[1],f=Object(i.useState)(""),h=Object(c.a)(f,2),x=h[0],O=h[1],g=Object(i.useState)(""),y=Object(c.a)(g,2),N=y[0],w=y[1],_=Object(i.useState)(""),C=Object(c.a)(_,2),z=C[0],D=C[1],S=Object(i.useState)(""),k=Object(c.a)(S,2),A=k[0],M=k[1],T=Object(i.useState)(""),P=Object(c.a)(T,2),B=P[0],L=P[1],Y=Object(i.useState)(""),F=Object(c.a)(Y,2),V=F[0],R=F[1],I=Object(i.useState)(""),H=Object(c.a)(I,2),E=H[0],U=H[1],J=Object(i.useState)(""),W=Object(c.a)(J,2),X=W[0],G=W[1],Z=Object(i.useState)(""),q=Object(c.a)(Z,2),K=q[0],Q=q[1],$=Object(i.useState)(""),ee=Object(c.a)($,2),te=ee[0],ae=ee[1],ne=Object(i.useState)(""),ie=Object(c.a)(ne,2),oe=ie[0],se=ie[1],le=Object(i.useState)(""),ce=Object(c.a)(le,2),re=ce[0],de=ce[1],ue=Object(i.useState)(""),me=Object(c.a)(ue,2),be=me[0],ve=me[1],je=Object(i.useState)(""),pe=Object(c.a)(je,2),fe=pe[0],he=pe[1],xe=Object(i.useState)(""),Oe=Object(c.a)(xe,2),ge=Oe[0],ye=Oe[1],Ne=Object(i.useState)(""),we=Object(c.a)(Ne,2),_e=we[0],Ce=we[1],ze=Object(i.useState)(""),De=Object(c.a)(ze,2),Se=De[0],ke=De[1];function Ae(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?null===e||void 0===e?void 0:e.toLocaleString("it",{minimumFractionDigits:2,maximumFractionDigits:2}):null===e||void 0===e?void 0:e.toLocaleString("it")}return Object(i.useEffect)((function(){var e,a,n,i,o,s,c,r,d,u,b,v,j,f,h,x,g,y,N,_,C,z,S,k,A,T,P,B,Y=(null===t||void 0===t||null===(e=t.totalDoses)||void 0===e?void 0:e.prima_dose)+(null===t||void 0===t||null===(a=t.totalDoses)||void 0===a?void 0:a.pregressa_infezione);isNaN(Y)||(l(Ae(Y)),m(Ae(Y/(null===t||void 0===t||null===(B=t.databoxContent)||void 0===B?void 0:B.totalPlatea)*100,!0)));var F,V=(null===t||void 0===t||null===(n=t.totalDoses)||void 0===n?void 0:n.seconda_dose)+(null===t||void 0===t||null===(i=t.totalDoses)||void 0===i?void 0:i.prima_dose_janssen)+(null===t||void 0===t||null===(o=t.totalDoses)||void 0===o?void 0:o.pregressa_infezione);isNaN(V)||(p(Ae(V)),O(Ae(V/(null===t||void 0===t||null===(F=t.databoxContent)||void 0===F?void 0:F.totalPlatea)*100,!0)));w(null===t||void 0===t||null===(s=t.totalDoses)||void 0===s?void 0:s.dose_addizionale_booster),D(Ae((null===t||void 0===t||null===(c=t.totalDoses)||void 0===c?void 0:c.dose_addizionale_booster)/(null===t||void 0===t||null===(r=t.databoxContent)||void 0===r?void 0:r.totalPlateaDoseAddizionaleBooster)*100,!0)),M(Ae(null===t||void 0===t||null===(d=t.totalDoses)||void 0===d?void 0:d.dose_second_booster)),L(Ae((null===t||void 0===t||null===(u=t.totalDoses)||void 0===u?void 0:u.dose_second_booster)/(null===t||void 0===t||null===(b=t.databoxContent)||void 0===b?void 0:b.totalPlateaDoseSecondBooster)*100,!0)),R(Ae(null===t||void 0===t||null===(v=t.totalDoses)||void 0===v?void 0:v.dose_third_booster)),U(Ae((null===t||void 0===t||null===(j=t.totalDoses)||void 0===j?void 0:j.dose_third_booster)/(null===t||void 0===t||null===(f=t.databoxContent)||void 0===f?void 0:f.totalPlateaDoseThirdBooster)*100,!0));var I,H=(null===t||void 0===t||null===(h=t.totalDoses)||void 0===h?void 0:h.prima_dose_baby)+(null===t||void 0===t||null===(x=t.totalDoses)||void 0===x?void 0:x.pregressa_infezione_baby);isNaN(H)||(G(Ae(H)),Q(Ae(H/(null===t||void 0===t||null===(I=t.databoxContent)||void 0===I?void 0:I.totalPlateaBaby)*100,!0)));var E,J=(null===t||void 0===t||null===(g=t.totalDoses)||void 0===g?void 0:g.seconda_dose_baby)+(null===t||void 0===t||null===(y=t.totalDoses)||void 0===y?void 0:y.prima_dose_janssen_baby)+(null===t||void 0===t||null===(N=t.totalDoses)||void 0===N?void 0:N.pregressa_infezione_baby);isNaN(J)||(ae(Ae(J)),se(Ae(J/(null===t||void 0===t||null===(E=t.databoxContent)||void 0===E?void 0:E.totalPlateaBaby)*100,!0)));de(null===t||void 0===t||null===(_=t.totalDoses)||void 0===_?void 0:_.dose_addizionale_booster_baby),ve(Ae((null===t||void 0===t||null===(C=t.totalDoses)||void 0===C?void 0:C.dose_addizionale_booster_baby)/(null===t||void 0===t||null===(z=t.databoxContent)||void 0===z?void 0:z.totalPlateaDoseAddizionaleBoosterBaby)*100,!0));var W,X=(null===t||void 0===t||null===(S=t.totalDoses)||void 0===S?void 0:S.prima_dose_infant)+(null===t||void 0===t||null===(k=t.totalDoses)||void 0===k?void 0:k.pregressa_infezione_infant);isNaN(X)||(he(Ae(X)),ye(Ae(X/(null===t||void 0===t||null===(W=t.databoxContent)||void 0===W?void 0:W.totalPlateaInfant)*100,!0)));var Z,q=(null===t||void 0===t||null===(A=t.totalDoses)||void 0===A?void 0:A.seconda_dose_infant)+(null===t||void 0===t||null===(T=t.totalDoses)||void 0===T?void 0:T.prima_dose_janssen_infant)+(null===t||void 0===t||null===(P=t.totalDoses)||void 0===P?void 0:P.pregressa_infezione_infant);isNaN(q)||(Ce(Ae(q)),ke(Ae(q/(null===t||void 0===t||null===(Z=t.databoxContent)||void 0===Z?void 0:Z.totalPlateaInfant)*100,!0)))}),[t]),Object(n.jsxs)("div",{className:"p-3 mb-5",children:[Object(n.jsx)("div",{className:"col-12 d-flex justify-content-center align-items-center p-3 section-title small",children:Object(n.jsx)("div",{className:"mb-2",children:Object(n.jsx)("h3",{className:"text-center",children:"Ciclo Vaccinale Primario fino al 24/09/2023"})})}),Object(n.jsxs)("div",{className:"row bg-box p-2 mb-4",children:[Object(n.jsx)("div",{className:"col-md-6 col-sm-12",children:Object(n.jsx)("div",{className:"box-card p-2",children:Object(n.jsx)("div",{className:"p-1",children:Object(n.jsxs)("div",{className:"align-items-center justify-content-center text-center mb-4",children:[Object(n.jsx)("h5",{className:"mt-2",children:"Con almeno una dose"}),Object(n.jsx)("div",{className:"box-numbers",children:s}),Object(n.jsxs)("div",{className:"box-text",children:[u," % della popolazione over 12"]}),Object(n.jsx)("div",{className:"box-label",children:"(persone con almeno una somministrazione)"})]})})})}),Object(n.jsx)("div",{className:"col-md-6 col-sm-12",children:Object(n.jsx)("div",{className:"box-card p-2",children:Object(n.jsx)("div",{className:"p-1",children:Object(n.jsxs)("div",{className:"align-items-center justify-content-center text-center mb-4",children:[Object(n.jsx)("h5",{className:"mt-2",children:"Ciclo vaccinale"}),Object(n.jsx)("div",{className:"box-numbers",children:j}),Object(n.jsxs)("div",{className:"box-text",children:[x," % della popolazione over 12"]}),Object(n.jsx)("div",{className:"box-label",children:"(persone che hanno completato il ciclo vaccinale)"})]})})})})]}),Object(n.jsx)("div",{className:"col-12 d-flex justify-content-center align-items-center p-3 section-title small",children:Object(n.jsx)("div",{className:"mb-2",children:Object(n.jsx)("h3",{className:"text-center",children:"Dosi successive fino al 24/09/2023"})})}),Object(n.jsxs)("div",{className:"row bg-box p-2 mb-4",children:[Object(n.jsx)("div",{className:"col-md-6 col-sm-12",children:Object(n.jsx)("div",{className:"box-card p-2",children:Object(n.jsx)("div",{className:"p-1",children:Object(n.jsxs)("div",{className:"align-items-center justify-content-center text-center",children:[Object(n.jsx)("h5",{className:"mt-2 mb-3",children:"Dose addizionale/richiamo (booster)"}),Object(n.jsx)("div",{className:"box-numbers",children:null===N||void 0===N?void 0:N.toLocaleString("it")}),Object(n.jsxs)("div",{className:"box-text",children:[z," % della popolazione potenzialmente oggetto di",Object(n.jsx)("br",{}),"dose addizionale o booster che ha ultimato il ciclo vaccinale",Object(n.jsx)("br",{}),"da almeno 4 mesi"]})]})})})}),Object(n.jsx)("div",{className:"col-md-6 col-sm-12",children:Object(n.jsx)("div",{className:"box-card p-2",children:Object(n.jsx)("div",{className:"p-1",children:Object(n.jsxs)("div",{className:"align-items-center justify-content-center text-center",children:[Object(n.jsx)("h5",{className:"mt-2 mb-3",children:"Booster immuno / 2\xaa dose booster"}),Object(n.jsx)("div",{className:"box-numbers",children:null===A||void 0===A?void 0:A.toLocaleString("it")}),Object(n.jsxs)("div",{className:"box-text",children:[B," % della popolazione potenzialmente oggetto di ",Object(n.jsx)("br",{}),"dose booster/2\xaa booster cha ha ultimato il ciclo vaccinale",Object(n.jsx)("br",{}),"da almeno 4 mesi"]})]})})})}),Object(n.jsx)("div",{className:"col-md-12 col-sm-12",children:Object(n.jsx)("div",{className:"box-card p-2",children:Object(n.jsx)("div",{className:"p-1",children:Object(n.jsxs)("div",{className:"align-items-center justify-content-center text-center",children:[Object(n.jsx)("h5",{className:"mt-2 mb-3",children:"3\xaa dose booster"}),Object(n.jsx)("div",{className:"box-numbers",children:null===V||void 0===V?void 0:V.toLocaleString("it")}),Object(n.jsxs)("div",{className:"box-text",children:[E," % della popolazione potenzialmente oggetto di ",Object(n.jsx)("br",{}),"3\xaa dose booster cha ha ultimato il ciclo vaccinale",Object(n.jsx)("br",{}),"da almeno 4 mesi"]})]})})})})]}),Object(n.jsx)("div",{className:"col-12 d-flex justify-content-center align-items-center p-3 section-title small",children:Object(n.jsx)("div",{className:"mb-2",children:Object(n.jsx)("h3",{className:"text-center",children:"Vaccinazione 5-11 anni fino al 24/09/2023"})})}),Object(n.jsxs)("div",{className:"row bg-box mb-4",children:[Object(n.jsx)("div",{className:"col-md-4 col-sm-12",children:Object(n.jsx)("div",{className:"box-card p-2",children:Object(n.jsx)("div",{className:"p-1",children:Object(n.jsxs)("div",{className:"align-items-center justify-content-center text-center mb-4",children:[Object(n.jsx)("h5",{className:"mt-2",children:"Con almeno una dose"}),Object(n.jsx)("div",{className:"box-numbers",children:X}),Object(n.jsxs)("div",{className:"box-text",children:[K," % della popolazione 5-11"]}),Object(n.jsx)("div",{className:"box-label",children:"(persone con almeno una somministrazione)"})]})})})}),Object(n.jsx)("div",{className:"col-md-4 col-sm-12",children:Object(n.jsx)("div",{className:"box-card p-2",children:Object(n.jsx)("div",{className:"p-1",children:Object(n.jsxs)("div",{className:"align-items-center justify-content-center text-center mb-4",children:[Object(n.jsx)("h5",{className:"mt-2",children:"Ciclo vaccinale"}),Object(n.jsx)("div",{className:"box-numbers",children:te}),Object(n.jsxs)("div",{className:"box-text",children:[oe," % della popolazione 5-11"]}),Object(n.jsx)("div",{className:"box-label",children:"(persone che hanno completato il ciclo vaccinale)"})]})})})}),Object(n.jsx)("div",{className:"col-md-4 col-sm-12",children:Object(n.jsx)("div",{className:"box-card p-2",children:Object(n.jsx)("div",{className:"p-1",children:Object(n.jsxs)("div",{className:"align-items-center justify-content-center text-center",children:[Object(n.jsx)("h5",{className:"mt-2 mb-3",children:"Dose addizionale/richiamo (booster)"}),Object(n.jsx)("div",{className:"box-numbers",children:null===re||void 0===re?void 0:re.toLocaleString("it")}),Object(n.jsxs)("div",{className:"box-text",children:[be," % della popolazione 5-11 potenzialmente oggetto di dose addizionale o booster che ha ultimato il ciclo vaccinale da almeno 4 mesi"]})]})})})})]}),Object(n.jsx)("div",{className:"col-12 d-flex justify-content-center align-items-center p-3 section-title small",children:Object(n.jsx)("div",{className:"mb-2",children:Object(n.jsx)("h3",{className:"text-center",children:"Ciclo Vaccinale Primario 0-4 anni fino al 24/09/2023"})})}),Object(n.jsxs)("div",{className:"row bg-box mb-4",children:[Object(n.jsx)("div",{className:"col-md-6 col-sm-12",children:Object(n.jsx)("div",{className:"box-card p-2",children:Object(n.jsx)("div",{className:"p-1",children:Object(n.jsxs)("div",{className:"align-items-center justify-content-center text-center mb-4",children:[Object(n.jsx)("h5",{className:"mt-2",children:"Con almeno una dose"}),Object(n.jsx)("div",{className:"box-numbers",children:fe}),Object(n.jsxs)("div",{className:"box-text",children:[ge," % della popolazione 0-4"]}),Object(n.jsx)("div",{className:"box-label",children:"(persone con almeno una somministrazione)"})]})})})}),Object(n.jsx)("div",{className:"col-md-6 col-sm-12",children:Object(n.jsx)("div",{className:"box-card p-2",children:Object(n.jsx)("div",{className:"p-1",children:Object(n.jsxs)("div",{className:"align-items-center justify-content-center text-center mb-4",children:[Object(n.jsx)("h5",{className:"mt-2",children:"Ciclo vaccinale"}),Object(n.jsx)("div",{className:"box-numbers",children:_e}),Object(n.jsxs)("div",{className:"box-text",children:[Se," % della popolazione 0-4"]}),Object(n.jsx)("div",{className:"box-label",children:"(persone che hanno completato il ciclo vaccinale)"})]})})})})]})]})},X=function(e){var t;return Object(n.jsxs)("div",{className:"w-100 my-3",children:[Object(n.jsxs)("div",{className:"p-3 mb-5",children:[Object(n.jsxs)("h3",{className:"text-center",children:["Dati storici vaccinazione anti Covid-19 fino al",Object(n.jsx)("br",{}),"24/09/2023"]}),Object(n.jsx)("div",{className:"col-12 justify-content-center align-items-center",children:Object(n.jsx)("div",{className:"d-flex justify-content-center",children:"Dati e statistiche sulla vaccinazione anti Covid-19 a partire dal 27 Dicembre 2020 al 24 Settembre 2023."})})]}),Object(n.jsxs)("div",{className:"d-flex flex-column justify-content-center",children:[Object(n.jsxs)("div",{className:"d-flex justify-content-center align-items-baseline",children:[Object(n.jsx)("img",{src:"meds.png",alt:"meds",className:"pl-2 pr-5"}),Object(n.jsx)("div",{className:"pl-2 mt-4 numbers",children:null===(t=e.summary.tot)||void 0===t?void 0:t.toLocaleString("it")})]}),Object(n.jsx)("span",{className:"border-divider mb-2"}),Object(n.jsx)("div",{className:"d-flex justify-content-center",children:Object(n.jsx)("h3",{children:"Totale somministrazioni fino al 24/09/2023"})})]})]})},G=function(e){var t=e.summary;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(X,{summary:t}),"       ",Object(n.jsx)(J,{data:t}),"              ",Object(n.jsx)(W,{data:t}),"                      "]})},Z={total:{title:"Dati Campagna vaccinale anti Covid-19 2023/2024 fino al 17/09/2024",subtitle:"Dati e statistiche sulla vaccinazione anti Covid-19 a partire da 24 Settembre 2023 al 17 Settembre 2024",showLastUpdate:!1,periodTitle:"Totale somministrazioni fino al 17/09/2024"},ageDoses:{title:"Somministrazioni di XBB 1.5 per fascia d'et\xe0 - fino al 17/09/2024"}},q=function(){var e=Object(i.useState)({}),t=Object(c.a)(e,2),a=t[0],o=t[1];return Object(i.useEffect)((function(){var e="".concat(N,"/somministrazioni-vaccini-latest-campagna-2023-2024.json"),t="".concat(N,"/somministrazioni-vaccini-summary-latest-campagna-2023-2024.json");P({campagnaUrl:e,summaryUrl:t}).then((function(e){o(e)}))}),[]),Object(n.jsxs)(R.Provider,{value:Z,children:[Object(n.jsx)(E,{summary:a}),"              ",Object(n.jsx)(H,{data:a}),"                     ",Object(n.jsxs)("div",{className:"row mt-5 mb-5",children:[Object(n.jsx)("div",{className:"flag-green col-md-4 col-3"}),Object(n.jsx)("div",{className:"col-md-4 col-6",children:Object(n.jsx)("img",{className:"col-md-12",src:"ministero.png",alt:"logo-ministero"})}),Object(n.jsx)("div",{className:"flag-red col-md-4 col-3"})]}),Object(n.jsx)(G,{summary:a})]})},K=a(25),Q=function(e){var t=e.from,a=e.to,o=e.min,s=e.max,l=e.changeFrom,r=e.changeTo,d=Object(i.useState)([0,1]),m=Object(c.a)(d,2),b=m[0],v=m[1];return Object(i.useEffect)((function(){v([t,a])}),[t,a,o,s]),Object(n.jsx)("div",{className:"col-12",style:{display:"flex",justifyContent:"center",flexWrap:"wrap",backgroundColor:"rgb(15, 53, 89)"},children:Object(n.jsx)(K.Range,{draggableTrack:!0,values:b,step:1,min:o,max:s,rtl:!1,onChange:function(e){e[0]!==e[1]&&(v(e),l(e[0]),r(e[1]))},renderTrack:function(e){var t=e.props,a=e.children;return Object(n.jsx)("div",{onMouseDown:t.onMouseDown,onTouchStart:t.onTouchStart,style:Object(u.a)(Object(u.a)({},t.style),{},{height:"36px",display:"flex",width:"100%",marginRight:10,marginLeft:10}),children:Object(n.jsx)("div",{ref:t.ref,style:{height:"5px",width:"100%",borderRadius:"4px",background:Object(K.getTrackBackground)({values:b,colors:["#ccc","black","#ccc"],min:o,max:s,rtl:!1}),alignSelf:"center"},children:a})})},renderThumb:function(e){var t=e.props;e.isDragged;return Object(n.jsx)("div",Object(u.a)(Object(u.a)({},t),{},{style:Object(u.a)(Object(u.a)({},t.style),{},{height:"20px",width:"20px",borderRadius:"50%",backgroundColor:"#ccc",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0px 2px 6px #AAA"})}))}})})},$=function(e){var t=e.height,a=e.width,o=e.data,s=e.keys,l=e.colors,c=e.selectedFrom,r=e.selectedTo,d=(e.property,e.title),u=e.ytitle,m=Object(i.useRef)(),b=Object(i.useRef)();Object(i.useEffect)((function(){B.h(b.current).selectAll("svg").remove(),j()}),[o,s,c,r]);var v=function(e){var t=B.h(e.node().parentNode),a=parseInt(e.style("width"),10),n=parseInt(e.style("height"),10),i=a/n;function o(){var a=parseInt(t.style("width"));e.attr("width",a),e.attr("height",Math.round(a/i))}e.attr("viewBox","0 0 ".concat(a," ").concat(n+10)).attr("preserveAspectRatio","xMinYMid").call(o),B.h(window).on("resize."+t.attr("id"),o)};var j=function(){var e=B.i().keys(s)(o.slice(c,r)),n=B.h(b.current).append("svg").style("margin-bottom",15).attr("width",a).attr("height",t),i=50,m=50,j=B.f().padding(.2),p=B.g().domain([0,B.e(o.slice(c,r),(function(e){return e.total}))]);p.range([t,0]),j.range([0,a]).domain(o.slice(c,r).map((function(e){return e.label}))),n.attr("width",a+2*m).attr("height",t+2*i).call(v).attr("id","svg-stack-bar"),n.append("text").attr("x",a/2+m).attr("y",i/2).attr("class","title").attr("text-anchor","middle").attr("transform","rotate(90)").attr(d),n.append("text").attr("x",-t/2-i).attr("y",m/2.4).attr("transform","rotate(-90)").attr("class","title").text(u);var f=n.append("g").attr("transform","translate(".concat(m,",").concat(i,")"));f.append("g").attr("class","axis").attr("transform","translate(0,".concat(t,")")).style("font-size",16).call(B.a(j)).selectAll("text").attr("y",-5).attr("x",11).attr("transform","rotate(90)").style("text-anchor","start");var h=B.h("body").append("div").attr("class","d3-tooltip").style("position","absolute").style("z-index","10").style("display","none").style("padding","10px").style("background","rgba(0,0,0,0.8)").style("border-radius","4px").style("color","#fff"),x=f.selectAll().data(e);x.enter().append("g").attr("fill",(function(e){return l[e.key]})).attr("supply",(function(e){return e.key})).selectAll("rect").data((function(e){return e})).enter().append("rect").attr("x",(function(e){return j(e.data.label)})).attr("y",(function(e){return p(e[1])})).attr("height",(function(e){return p(e[0])-p(e[1])})).attr("width",j.bandwidth()).on("mouseover",(function(e,t){B.h(this).transition().attr("fill","#0BD9D3")})).on("mousemove",(function(e,t){h.style("top",e.pageY-10+"px").style("left",e.pageX+10+"px"),h.html('<div style="text-align: center"><b>'.concat(B.h(this.parentNode).attr("supply"),"</b></div>\n            <div>").concat((t[1]-t[0]).toLocaleString("it")," su ").concat(t.data.total.toLocaleString("it"),'</div>\n            <div style="text-align: center; font-size: 12px">dal ').concat(t.data.labelfrom," al ").concat(t.data.labelto,"</div>")).style("display",null)})).on("mouseout",(function(e){h.html("").style("display","none"),B.h(this).transition().attr("fill",l[e.key])})),x.exit().remove()};return Object(n.jsx)("div",{ref:b,className:"chart svg-container",children:Object(n.jsx)("svg",{ref:m,className:"svg-content-responsive"})})},ee=function(e){var t=e.data,a=Object(i.useState)([]),o=Object(c.a)(a,2),s=o[0],l=o[1],r=Object(i.useState)([]),d=Object(c.a)(r,2),u=d[0],m=d[1],b=Object(i.useState)([]),v=Object(c.a)(b,2),p=v[0],f=v[1],h=Object(i.useState)(0),x=Object(c.a)(h,2),O=x[0],g=x[1],y=Object(i.useState)(0),N=Object(c.a)(y,2),w=N[0],_=N[1],C=Object(i.useState)(0),z=Object(c.a)(C,2),D=z[0],S=z[1],k=Object(i.useState)(""),A=Object(c.a)(k,2),M=A[0],T=A[1],P=Object(i.useState)(""),B=Object(c.a)(P,2),L=B[0],Y=B[1];Object(i.useEffect)((function(){if(!Object(j.isEmpty)(t)&&(l(t.weekContent.suppliersColor),m(t.weekContent.suppliers),f(t.weekContent.suppliersWeek),_(t.weekContent.suppliersWeek.length),t.weekContent.suppliersWeek.length>=9&&g(t.weekContent.suppliersWeek.length-9),t.weekContent.suppliersWeek.length>0)){var e=t.weekContent.suppliersWeek[t.weekContent.suppliersWeek.length-1];T(e.labelfrom+"/"+e.from.substring(0,4)),Y(e.labelto+"/"+e.to.substring(0,4)),S(e.total)}}),[t]);var F=I("weeks").title;return Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-12 d-flex justify-content-center align-items-center section-title px-5 mx-2",children:Object(n.jsxs)("span",{children:[Object(n.jsx)("h3",{children:F}),Object(n.jsxs)("h6",{children:["Vaccinazioni dal ",Object(n.jsx)("b",{children:M})," al ",Object(n.jsx)("b",{children:L}),": ",null===D||void 0===D?void 0:D.toLocaleString("it")]})]})}),Object(n.jsxs)("div",{className:"row col-12 m-2 p-2 ",children:[Object(n.jsx)("div",{className:"col-12 col-md-6 align-items-end testo-info-campania d-none d-sm-none d-md-flex d-lg-flex"}),Object(n.jsx)("div",{className:"col-12 col-md-6  position-relative",children:Object(n.jsx)("div",{className:"bg-gradient-bar"})}),Object(n.jsx)("div",{className:"col-12 col-md-4",style:{backgroundColor:"#17324D"},children:Object(n.jsxs)("div",{className:"p-2 position-relative",children:[Object(n.jsx)("div",{className:"p-4",children:Object(n.jsx)("img",{src:"group_person.svg",alt:"Logo",className:"img-fluid"})}),Object(n.jsx)("div",{className:"mt-4 ml-3",children:u.map((function(e,t){return Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"circle",style:{backgroundColor:s[e]}}),Object(n.jsx)("span",{className:"legend",children:e})]},e)}))})]})}),Object(n.jsxs)("div",{className:"col-12 col-md-8 text-white",style:{backgroundColor:"#17324D"},children:[Object(n.jsx)("div",{className:"text-white text-center mt-3 ",children:"*Passa con il mouse sulle barre del grafico per visualizzare i dati della settimana"}),Object(n.jsx)($,{title:"",xtitle:"Somministrazione settimanale",ytitle:"",width:780,height:350,marginBottom:10,property:{xprop:"label",yprop:"total"},colors:s,keys:u,data:p,selectedFrom:O,selectedTo:w})]}),p.length>0&&Object(n.jsx)(Q,{min:0,max:p.length,from:O,to:w,changeFrom:function(e){return g(e)},changeTo:function(e){return _(e)}})]}),Object(n.jsxs)("div",{children:["*Fai scorrere i selettori per aumentare o diminuire le settimane da visualizzare",Object(n.jsx)("br",{}),'La voce "Pfizer Pediatrico" include le formulazioni per le fasce di et\xe0 0-4 anni e 5-11 anni']})]})},te={total:{title:"Campagna vaccinale Autunno-Inverno 2024/2025",subtitle:"I dati sono aggiornati su base settimanale e sono disponibili in formato aperto con il dettaglio giornaliero.",showLastUpdate:!0,periodTitle:"Totale somministrazioni dal 17/09/2024",periodSubtitle:"Il dato pu\xf2 subire variazioni negative a seguito di rettifiche da parte delle regioni."},weeks:{title:"Somministrazioni su base settimanale"},ageDoses:{title:"Somministrazioni per fascia d'et\xe0"}},ae=function(){var e=Object(i.useState)({}),t=Object(c.a)(e,2),a=t[0],o=t[1];return Object(i.useEffect)((function(){var e="".concat(N,"/somministrazioni-vaccini-latest-campagna-2024-2025.json"),t="".concat(N,"/somministrazioni-vaccini-summary-latest-campagna-2024-2025.json");P({campagnaUrl:e,summaryUrl:t}).then((function(e){o(e),function(){var e=document.getElementById("loader-custom");e&&(e.className=e.className.includes("d-none")?e.className:e.className+" d-none")}()}))}),[]),Object(n.jsxs)(R.Provider,{value:te,children:[Object(n.jsx)(E,{summary:a}),"              ",Object(n.jsx)(ee,{data:a}),"                        ",Object(n.jsx)(H,{data:a}),"                     ",Object(n.jsxs)("div",{className:"row mt-5 mb-5",children:[Object(n.jsx)("div",{className:"flag-green col-md-4 col-3"}),Object(n.jsx)("div",{className:"col-md-4 col-6",children:Object(n.jsx)("img",{className:"col-md-12",src:"ministero.png",alt:"logo-ministero"})}),Object(n.jsx)("div",{className:"flag-red col-md-4 col-3"})]})]})},ne=function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("footer",{className:"row m-0 bg-footer",children:Object(n.jsxs)("div",{className:"container",children:[Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-2 no-grid pb-2",children:Object(n.jsx)("a",{title:"Collegamento al sito www.salute.gov.it. Apre una nuova pagina.",href:"https://www.salute.gov.it/",children:Object(n.jsx)("img",{src:"logo.svg",alt:"Logo"})})}),Object(n.jsx)("div",{className:"col-md-6 no-grid pb-2",children:Object(n.jsx)("p",{className:"footer-title h3",children:"\xa9 2022 - Testata di propriet\xe0 del Ministero della Salute"})}),Object(n.jsx)("div",{className:"col-md-4 no-grid pb-2",children:Object(n.jsxs)("div",{className:"social-section",children:[Object(n.jsxs)("span",{id:"social-footer",children:[Object(n.jsx)("a",{title:"Collegamento alla pagina Facebook del Ministero della Salute. Apre una nuova pagina.",href:"https://www.facebook.com/MinisteroSalute",children:Object(n.jsx)("span",{className:"fab fa-facebook"})}),Object(n.jsx)("a",{title:"Collegamento alla pagina Twitter del Ministero della Salute. Apre una nuova pagina.",href:"https://twitter.com/ministerosalute",children:Object(n.jsx)("span",{className:"fa-brands fa-x-twitter"})}),Object(n.jsx)("a",{title:"Collegamento al canale Youtube del Ministero della Salute. Apre una nuova pagina.",href:"https://www.youtube.com/user/MinisteroSalute",children:Object(n.jsx)("span",{className:"fab fa-youtube"})}),Object(n.jsx)("a",{title:"Collegamento alla pagina Instagram del Ministero della Salute. Apre una nuova pagina.",href:"https://www.instagram.com/ministerosalute",children:Object(n.jsx)("span",{className:"fab fa-instagram"})}),Object(n.jsx)("a",{title:"Collegamento al canale Telegram del Ministero della Salute. Apre una nuova pagina.",href:"https://t.me/MinisteroSalute",children:Object(n.jsx)("span",{className:"fab fa-telegram"})}),Object(n.jsx)("a",{title:"Collegamento alla pagina Linkedin del Ministero della Salute. Apre una nuova pagina.",href:"https://www.linkedin.com/company/MinisteroSalute",children:Object(n.jsx)("span",{className:"fab fa-linkedin"})})]}),Object(n.jsx)("a",{className:"button-open-data",href:"https://github.com/italia/covid19-opendata-vaccini","aria-label":"vai all'area Covid-19",rel:"noreferrer",alt:"vai all'area Covid-19",children:Object(n.jsxs)("b",{children:["Open Data ",Object(n.jsx)("span",{className:"fa-solid fa-chevron-right"})]})})]})})]}),Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("ul",{className:"footer-links col-12",children:[Object(n.jsx)("li",{children:Object(n.jsx)("a",{title:"Mappa",href:"https://www.salute.gov.it/portale/nuovocoronavirus/dettaglioContenutiNuovoCoronavirus.jsp?lingua=italiano&id=5343&area=nuovoCoronavirus&menu=vuoto",children:"Mappa"})}),Object(n.jsx)("li",{children:Object(n.jsx)("a",{title:"Link",href:"https://www.salute.gov.it/portale/nuovocoronavirus/dettaglioContenutiNuovoCoronavirus.jsp?lingua=italiano&id=5344&area=nuovoCoronavirus&menu=vuoto",children:"Link"})}),Object(n.jsx)("li",{children:Object(n.jsx)("a",{title:"Credits",href:"https://www.salute.gov.it/portale/nuovocoronavirus/dettaglioContenutiNuovoCoronavirus.jsp?lingua=italiano&id=5345&area=nuovoCoronavirus&menu=vuoto",children:"Credits"})}),Object(n.jsx)("li",{children:Object(n.jsx)("a",{title:"Note legali",href:"https://www.salute.gov.it/portale/nuovocoronavirus/dettaglioContenutiNuovoCoronavirus.jsp?lingua=italiano&id=5185&area=nuovoCoronavirus&menu=vuoto",children:"Note legali"})}),Object(n.jsx)("li",{children:Object(n.jsx)("a",{title:"Privacy",href:"https://www.salute.gov.it/portale/nuovocoronavirus/dettaglioContenutiNuovoCoronavirus.jsp?lingua=italiano&id=5186&area=nuovoCoronavirus&menu=vuoto",children:"Privacy"})}),Object(n.jsx)("li",{children:Object(n.jsx)("a",{title:"Social Media Policy",href:"https://www.salute.gov.it/portale/nuovocoronavirus/dettaglioContenutiNuovoCoronavirus.jsp?lingua=italiano&id=5500&area=nuovoCoronavirus&menu=vuoto",children:"Social Media Policy"})}),Object(n.jsx)("li",{children:Object(n.jsx)("a",{title:"Accessibilit\xe0",href:"https://www.salute.gov.it/portale/nuovocoronavirus/dettaglioContenutiNuovoCoronavirus.jsp?lingua=italiano&id=5229&area=nuovoCoronavirus&menu=vuoto",children:"Accessibilit\xe0"})}),Object(n.jsx)("li",{children:Object(n.jsx)("a",{href:"https://form.agid.gov.it/view/90fa205d-e0e3-4521-8b38-ab64ec5189ae",rel:"noreferrer",target:"_blank",children:"Dichiarazione di Accessibilit\xe0"})})]})})]})})})},ie=(a(181),a(182),a(183),a(184),function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"row m-0 bg-tertiary justify-content-md-center",children:Object(n.jsxs)("div",{className:"col-12 d-flex justify-content-md-center justify-content-sm-start logo-section pr-sm-0 pt-2 pb-2",children:[Object(n.jsx)("img",{src:"logo.svg",height:"4px",alt:"Logo",className:"logo pl-5 pr-2"}),Object(n.jsx)("p",{className:"h5",children:Object(n.jsx)("a",{className:"text-decoration-none",href:"https://www.salute.gov.it/","aria-label":"Collegamento al sito www.salute.gov.it. Apre una nuova pagina.",rel:"noreferrer",alt:"Collegamento al sito www.salute.gov.it. Apre una nuova pagina.",children:"Ministero della Salute"})})]})}),Object(n.jsxs)("div",{className:"flag_container clearfix",children:[Object(n.jsx)("div",{className:"green clearfix"}),Object(n.jsx)("div",{className:"white clearfix"}),Object(n.jsx)("div",{className:"red clearfix"})]}),Object(n.jsx)("div",{children:Object(n.jsx)("div",{className:"col-12 d-flex flex-column justify-content-center mainBanner",children:Object(n.jsxs)("div",{className:"row pt-5 row-header-div",children:[Object(n.jsxs)("div",{className:"col-md-9",children:[Object(n.jsx)("h1",{className:"large-title pl-2 d-lg-none d-md-none d-xs-block",children:"Report Vaccini Anti COVID-19"})," ",Object(n.jsx)("h1",{className:"page-title large-title pl-2 d-none d-md-block",children:"Report Vaccini Anti COVID-19"}),"  "]}),Object(n.jsx)("div",{className:"col-md-3 vertical-align",children:Object(n.jsxs)("a",{className:"button-header",href:"https://www.salute.gov.it/portale/nuovocoronavirus/homeNuovoCoronavirus.jsp","aria-label":"vai all'area Covid-19",rel:"noreferrer",alt:"vai all'area Covid-19",children:["vai all'area ",Object(n.jsxs)("b",{children:["Covid-19 ",Object(n.jsx)("span",{className:"fa-solid fa-chevron-right"})]})]})})]})})})]})});var oe=function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)(ie,{}),Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)(ae,{}),Object(n.jsx)(q,{})]}),Object(n.jsx)(ne,{})]})},se=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,186)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,o=t.getLCP,s=t.getTTFB;a(e),n(e),i(e),o(e),s(e)}))};l.a.render(Object(n.jsx)(o.a.StrictMode,{children:Object(n.jsx)(oe,{})}),document.getElementById("root")),se()},50:function(e,t,a){}},[[185,1,2]]]);
//# sourceMappingURL=main.47808db3.chunk.js.map