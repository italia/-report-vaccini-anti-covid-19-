(this["webpackJsonpcovid19-dashboard-vaccini"]=this["webpackJsonpcovid19-dashboard-vaccini"]||[]).push([[0],{11:function(e,t,a){},93:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){},99:function(e,t,a){"use strict";a.r(t);var i=a(0),r=a(1),o=a.n(r),n=a(44),c=a.n(n),s=(a(93),a(8)),l=a(3),d=(a(11),a(39),a(40),a(41),a(42),function(){return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"row m-0",style:{backgroundColor:"#0059b3"},children:[Object(i.jsxs)("div",{className:"col-12 col-md-4 d-flex justify-content-md-center justify-content-sm-start logo-section pt-2 pb-2",children:[Object(i.jsx)("a",{href:"http://www.governo.it",className:"text-decoration-none",target:"_blank",rel:"noreferrer",children:Object(i.jsx)("img",{src:"logo.svg",height:"4px",alt:"Logo",className:"logo pl-5 pr-2"})}),Object(i.jsx)("p",{className:"pt-sm-0",children:Object(i.jsx)("a",{href:"http://www.governo.it",target:"_blank",className:"text-decoration-none",rel:"noreferrer",children:"Presidenza del Consiglio dei Ministri"})})]}),Object(i.jsxs)("div",{className:"col-12 col-md-4 d-flex justify-content-md-center justify-content-sm-start logo-section pr-sm-0 pt-2 pb-2",children:[Object(i.jsx)("a",{className:"text-decoration-none",href:"http://www.governo.it/it/dipartimenti/commissario-straordinario-lemergenza-covid-19/15974",target:"_blank",rel:"noreferrer",children:Object(i.jsx)("img",{src:"logo.svg",height:"4px",alt:"Logo",className:"logo pl-5 pr-2"})}),Object(i.jsx)("p",{className:"pt-sm-0",children:Object(i.jsx)("a",{className:"text-decoration-none",href:"http://www.governo.it/it/dipartimenti/commissario-straordinario-lemergenza-covid-19/15974",target:"_blank",rel:"noreferrer",children:"Commissario Straordinario Covid-19"})})]}),Object(i.jsxs)("div",{className:"col-12 col-md-4 d-flex justify-content-md-center justify-content-sm-start logo-section pt-2 pb-2 pr-sm-3",children:[Object(i.jsx)("a",{href:" http://www.salute.gov.it/portale/home.html",target:"_blank",rel:"noreferrer",children:Object(i.jsx)("img",{src:"logo.svg",height:"4px",alt:"Logo",className:"logo pl-5 pr-2"})}),Object(i.jsx)("p",{className:"pt-sm-0",children:Object(i.jsx)("a",{href:"http://www.salute.gov.it/portale/home.html",className:"text-decoration-none",target:"_blank",rel:"noreferrer",children:"Ministero della Salute"})})]}),Object(i.jsx)("div",{className:"col-12 d-flex flex-column justify-content-center mainBanner",children:Object(i.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(i.jsx)("img",{src:"logo.png",alt:"Logo",className:"main-logo"}),Object(i.jsx)("span",{className:"pl-3",children:"Report Vaccini Anti COVID-19"})]})})]})})}),m=function(){return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"footer-wrapper p-4 clearfix",children:Object(i.jsx)("footer",{className:"footer_container container",id:"footer",children:Object(i.jsxs)("div",{className:"row title_row",children:[Object(i.jsxs)("div",{className:"col-md-4 d-flex justify-content-md-center justify-content-sm-start logo-section pt-2 pb-2",children:[Object(i.jsx)("a",{href:"http://www.governo.it",className:"text-decoration-none",target:"_blank",rel:"noreferrer",children:Object(i.jsx)("img",{src:"logo.svg",height:"4px",alt:"Logo",className:"logo pl-5 pr-2"})}),Object(i.jsx)("p",{className:"pt-sm-0",children:"Presidenza del Consiglio dei Ministri"})]}),Object(i.jsxs)("div",{className:"col-md-4 d-flex justify-content-md-center justify-content-sm-start logo-section pt-2 pb-2",children:[Object(i.jsx)("a",{href:"http://www.governo.it",className:"text-decoration-none",target:"_blank",rel:"noreferrer",children:Object(i.jsx)("img",{src:"logo.svg",height:"4px",alt:"Logo",className:"logo pl-5 pr-2"})}),Object(i.jsx)("p",{className:"pt-sm-0",children:"Commissario Straordinario Covid-19"})]}),Object(i.jsxs)("div",{className:"col-md-4 d-flex justify-content-md-center justify-content-sm-start logo-section pt-2 pb-2",children:[Object(i.jsx)("a",{href:"http://www.governo.it",className:"text-decoration-none",target:"_blank",rel:"noreferrer",children:Object(i.jsx)("img",{src:"logo.svg",height:"4px",alt:"Logo",className:"logo pl-5 pr-2"})}),Object(i.jsx)("p",{className:"pt-sm-0",children:"Ministero della Salute"})]})]})})})})},u=a(45),p=a.n(u),j=function(e){var t;return Object(i.jsxs)("div",{className:"h-100 w-100 mt-2 mb-3 max-width-total",children:[Object(i.jsx)("div",{className:"timestamp mx-auto",children:Object(i.jsxs)("h6",{className:"text-center pb-4",children:["Report aggiornato al: "," ",e.summary.timestamp&&p()(e.summary.timestamp).format("DD-MM-YYYY HH:mm")]})}),Object(i.jsxs)("div",{className:"d-flex flex-column justify-content-center",children:[Object(i.jsxs)("div",{className:"d-flex justify-content-center align-items-baseline",children:[Object(i.jsx)("img",{src:"meds.png",alt:"meds",className:"pl-2 pr-5"})," ",Object(i.jsx)("h1",{className:"pl-2 mt-4 font-weight-light",children:null===(t=e.summary.tot)||void 0===t?void 0:t.toLocaleString("it")})]}),Object(i.jsx)("span",{className:"border-top mb-2"}),Object(i.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(i.jsx)("img",{src:"logo.png",alt:"fiore",height:"30"}),Object(i.jsx)("img",{src:"logo.png",alt:"fiore",height:"30"}),Object(i.jsx)("img",{src:"logo.png",alt:"fiore",height:"30",className:"pr-5"})," ",Object(i.jsx)("h4",{className:"pl-2",children:"Totale somministrazioni"})]})]})]})},g=a(6),h=a.n(g),b=a(17),f=(a(9),a(2)),v=a.n(f),x=function(e){return function(t,a){return t+ +(null===a||void 0===a?void 0:a[e])}},O=function(e){return function(t,a){return(null===a||void 0===a?void 0:a[e])>t?null===a||void 0===a?void 0:a[e]:t}},y=function(e){return function(t,a){var i=a[e];return t[i]||(t[i]=[]),t[i].push(a),t}},_=function(e){return function(t){return function(a){return a[e]===t}}},N=(_("area")("ITA"),_("TML_FASCIA_ETA"),function(e){return Object(s.a)(Object(s.a)({},e),{},{area:w[e.area],code:e.area})}),w={ABR:"Abruzzo",BAS:"Basilicata",CAL:"Calabria",CAM:"Campania",EMR:"Emilia-Romagna",FVG:"Friuli-Venezia Giulia",LAZ:"Lazio",LIG:"Liguria",LOM:"Lombardia",MAR:"Marche",MOL:"Molise",PAB:"P.A. Bolzano",PAT:"P.A. Trento",PIE:"Piemonte",PUG:"Puglia",SAR:"Sardegna",SIC:"Sicilia",TOS:"Toscana",UMB:"Umbria",VDA:"Valle d'Aosta",VEN:"Veneto"},S=(function(e){var t={};for(var a in e)t[e[a]]=a}(w),"https://raw.githubusercontent.com/italia/covid19-opendata-vaccini/master/dati"),k="".concat(S,"/somministrazioni-vaccini-summary-latest.json"),z="".concat(S,"/somministrazioni-vaccini-latest.json"),C="".concat(S,"/vaccini-summary-latest.json"),D="".concat(S,"/punti-somministrazione-tipologia.json"),L="".concat(S,"/anagrafica-vaccini-summary-latest.json"),B="".concat(S,"/last-update-dataset.json"),A="".concat(S,"/consegne-vaccini-latest.json"),F=function(e){var t,a,i,r=e.dataSommVaxSummary.data.filter((function(e){return"ITA"!==e.area})).reduce(x("totale"),0),o=e.dataSupplierDoses.data,n=e.dataSommVaxDetail.data.map(N),c=e.dataVaxSummary.data.map(N),s=e.dataProfileSummary.data,l=null===e||void 0===e||null===(t=e.dataSommVaxDetail)||void 0===t?void 0:t.data,d={prima_dose:v.a.sum(null===l||void 0===l?void 0:l.map((function(e){return null===e||void 0===e?void 0:e.prima_dose}))),seconda_dose:v.a.sum(null===l||void 0===l?void 0:l.map((function(e){return null===e||void 0===e?void 0:e.seconda_dose}))),prima_dose_janssen:v.a.sum(null===l||void 0===l?void 0:l.filter((function(e){return"Janssen"===e.fornitore})).map((function(e){return null===e||void 0===e?void 0:e.prima_dose}))),vax_somministrati:null===(a=v.a.sum(null===o||void 0===o||null===(i=o.filter((function(e){var t;return"2020-12-27"!==(null===e||void 0===e||null===(t=e.data_consegna)||void 0===t?void 0:t.substr(0,10))})))||void 0===i?void 0:i.map((function(e){return null===e||void 0===e?void 0:e.numero_dosi}))))||void 0===a?void 0:a.toLocaleString("it")},m=[{name:"Over 80*",code:"categoria_over80",total:l.reduce(x("categoria_over80"),0)},{name:"Soggetti Fragili e Caregiver",code:"categoria_soggetti_fragili",total:l.reduce(x("categoria_soggetti_fragili"),0)},{name:"Operatori Sanitari e Sociosanitari",code:"categoria_operatori_sanitari_sociosanitari",total:l.reduce(x("categoria_operatori_sanitari_sociosanitari"),0)},{name:"Personale non sanitario impiegato in strutture sanitarie e in attivit\xe0 lavorativa a rischio",code:"categoria_personale_non_sanitario",total:l.reduce(x("categoria_personale_non_sanitario"),0)},{name:"Ospiti Strutture Residenziali",code:"categoria_ospiti_rsa",total:l.reduce(x("categoria_ospiti_rsa"),0)},{name:"Fascia 70 - 79*",code:"categoria_70_79",total:l.reduce(x("categoria_70_79"),0)},{name:"Fascia 60 - 69*",code:"categoria_60_69",total:l.reduce(x("categoria_60_69"),0)},{name:"Personale Scolastico",code:"categoria_personale_scolastico",total:l.reduce(x("categoria_personale_scolastico"),0)},{name:"Comparto Difesa e Sicurezza",code:"categoria_forze_armate",total:l.reduce(x("categoria_forze_armate"),0)},{name:"Altro",code:"categoria_altro",total:l.reduce(x("categoria_altro"),0)}],u=v.a.groupBy(o,"fornitore"),p=Object.keys(u).map((function(e){var t=u[e].map((function(e){return e.numero_dosi}));return{totale:v.a.sum(t),fornitore:e,allDoses:u[e]}})),j=v.a.sum(p.map((function(e){return null===e||void 0===e?void 0:e.totale}))),g=v.a.groupBy(o,"area"),h=Object.keys(g).map((function(e){var t=g[e].map((function(e){return e.numero_dosi})),a=v.a.sum(t);return{area:w[e],dosi_somministrate:a}})),b=e.dataSommVaxSummary.data.reduce(y("area"),{}),f={};Object.keys(b).map((function(e){var t,a,i,r,o;return f[e]=[{name:"Over 80*",code:"categoria_over80",total:null===(t=b[e])||void 0===t?void 0:t.reduce(x("categoria_over80"),0)},{name:"Soggetti fragili e Caregiver",code:"categoria_soggetti_fragili",total:b[e].reduce(x("categoria_soggetti_fragili"),0)},{name:"Operatori Sanitari e Sociosanitari",code:"categoria_operatori_sanitari_sociosanitari",total:b[e].reduce(x("categoria_operatori_sanitari_sociosanitari"),0)},{name:"Personale non sanitario impiegato in strutture sanitarie e in attivit\xe0 lavorativa a rischio",code:"categoria_personale_non_sanitario",total:b[e].reduce(x("categoria_personale_non_sanitario"),0)},{name:"Ospiti Strutture Residenziali",code:"categoria_ospiti_rsa",total:null===(a=b[e])||void 0===a?void 0:a.reduce(x("categoria_ospiti_rsa"),0)},{name:"Fascia 70 - 79*",code:"categoria_70_79",total:b[e].reduce(x("categoria_70_79"),0)},{name:"Fascia 60 - 69*",code:"categoria_60_69",total:b[e].reduce(x("categoria_60_69"),0)},{name:"Personale Scolastico",code:"categoria_personale_scolastico",total:null===(i=b[e])||void 0===i?void 0:i.reduce(x("categoria_personale_scolastico"),0)},{name:"Comparto Difesa e Sicurezza",code:"categoria_forze_armate",total:null===(r=b[e])||void 0===r?void 0:r.reduce(x("categoria_forze_armate"),0)},{name:"Altro",code:"categoria_altro",total:null===(o=b[e])||void 0===o?void 0:o.reduce(x("categoria_altro"),0)}],f})),c.forEach((function(e){f[e.code]?e.byCategory=f[e.code].reduce(y("code"),{}):e.byCategory={cat_oss:[{name:"Operatori Sanitari e Sociosanitari",code:"cat_oss",total:0}],cat_pns:[{name:"Personale non sanitario",code:"cat_pns",total:0}],cat_rsa:[{name:"Ospiti Strutture Residenziali",code:"cat_rsa",total:0}],over60:[{name:"Over 80",code:"over60",total:0}]}}));var O=v.a.groupBy(c,"code"),_=e.dataVaxLocations.data.map(N),S=0,k=v()(e.dataVaxLocations.data.map(N)).groupBy("area").map((function(e,t){return S=S>e.length?S:e.length,{area:t,locations:e.length}})).value(),z=v()(e.dataSommVaxDetail.data.map(N)).groupBy("code").map((function(e,t){var a,i=v.a.head(O[t]);return{code:t,area:null===(a=v.a.head(e))||void 0===a?void 0:a.area,categoria_operatori_sanitari_sociosanitari:v.a.sumBy(e,"categoria_operatori_sanitari_sociosanitari"),categoria_over80:v.a.sumBy(e,"categoria_over80"),categoria_ospiti_rsa:v.a.sumBy(e,"categoria_ospiti_rsa"),categoria_personale_non_sanitario:v.a.sumBy(e,"categoria_personale_non_sanitario"),categoria_forze_armate:v.a.sumBy(e,"categoria_forze_armate"),categoria_personale_scolastico:v.a.sumBy(e,"categoria_personale_scolastico"),categoria_altro:v.a.sumBy(e,"categoria_altro"),byAge:v()(e).groupBy("fascia_anagrafica").map((function(t,a){var r,o=v.a.sumBy(t,(function(e){return e.sesso_maschile+e.sesso_femminile})),n=o/(i.dosi_consegnate||1);return{age:a,fascia_anagrafica:a,dosi_somministrate:o,dosi_consegnate:i.dosi_consegnate||0,percentuale_somministrazione:+(100*n).toFixed(1),area:null===(r=v.a.head(e))||void 0===r?void 0:r.area,totale:o}})).value(),sesso_femminile:v.a.sumBy(e,"sesso_femminile"),sesso_maschile:v.a.sumBy(e,"sesso_maschile"),dosi_consegnate:i.dosi_consegnate||0,dosi_somministrate:i.dosi_somministrate||0,percentuale_somministrazione:i.percentuale_somministrazione||0}})).value(),C=v()(e.dataSommVaxDetail.data.map(N)).groupBy((function(e){return e.fascia_anagrafica.toString().trim()})).map((function(e,t){var a=v()(e).groupBy("code").map((function(e,a){var i=v.a.sumBy(e,(function(e){return e.sesso_maschile+e.sesso_femminile})),r=i/(v.a.head(O[a]).dosi_consegnate||1);return{age:t,dosi_somministrate:i,sesso_maschile:v.a.sumBy(e,"sesso_maschile"),sesso_femminile:v.a.sumBy(e,"sesso_femminile"),code:a,dosi_consegnate:v.a.head(O[a]).dosi_consegnate||0,percentuale_somministrazione:+(100*r).toFixed(1),area:v.a.head(e).area}})).value();return{age:t,details:a}})).groupBy("age").value(),D={gen_m:s.reduce(x("sesso_maschile"),0),gen_f:s.reduce(x("sesso_femminile"),0)};return{timestamp:e.dataLastUpdate.ultimo_aggiornamento,tot:r,deliverySummary:c,categoriesAndAges:s,categories:m,categoriesByRegions:f,locations:_,gender:D,dataSomeVaxDetail:n,locationsByRegion:k,maxNumberOfLocations:S,allDosesSupplier:p,doesesByArea:h,totalSuplier:j,totalDoses:d,totalDeliverySummaryByAge:C,totalDeliverySummary:z}},T=function(){var e=Object(b.a)(h.a.mark((function e(){var t,a,i,r,o,n,c,d,m,u,p,j,g,b,f,v,x,O;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([fetch(k),fetch(z),fetch(C),fetch(L),fetch(D),fetch(B),fetch(A)]);case 2:return t=e.sent,a=Object(l.a)(t,7),i=a[0],r=a[1],o=a[2],n=a[3],c=a[4],d=a[5],m=a[6],e.next=13,Promise.all([i.json(),r.json(),o.json(),n.json(),c.json(),d.json(),m.json()]);case 13:return u=e.sent,p=Object(l.a)(u,7),j=p[0],g=p[1],b=p[2],f=p[3],v=p[4],x=p[5],O=p[6],e.abrupt("return",Object(s.a)({},F({dataSommVaxSummary:j,dataSommVaxDetail:g,dataVaxSummary:b,dataProfileSummary:f,dataLastUpdate:x,dataVaxLocations:v,dataSupplierDoses:O})));case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=a(5),E=a.n(M),R=a(18),I=a.n(R);a(96);!function(){function e(e,t,a){var i=/(^-?[0-9]+(\.?[0-9]*)[df]?e?[0-9]?%?$|^0x[0-9a-f]+$|[0-9]+)/gi,r=/(^[ ]*|[ ]*$)/g,o=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,n=/^0x[0-9a-f]+$/i,c=/^0/,s=/(<([^>]+)>)/gi,l=e.toString().replace(r,"")||"",d=t.toString().replace(r,"")||"";a||(l=l.replace(s,""),d=d.replace(s,""));var m=l.replace(i,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),u=d.replace(i,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),p=parseInt(l.match(n),10)||1!==m.length&&l.match(o)&&Date.parse(l),j=parseInt(d.match(n),10)||p&&d.match(o)&&Date.parse(d)||null;if(j){if(p<j)return-1;if(p>j)return 1}for(var g=0,h=Math.max(m.length,u.length);g<h;g++){var b=!(m[g]||"").match(c)&&parseFloat(m[g],10)||m[g]||0,f=!(u[g]||"").match(c)&&parseFloat(u[g],10)||u[g]||0;if(isNaN(b)!==isNaN(f))return isNaN(b)?1:-1;if(typeof b!==typeof f&&(b+="",f+=""),b<f)return-1;if(b>f)return 1}return 0}M.extend(M.fn.dataTableExt.oSort,{"natural-asc":function(t,a){return e(t,a,!0)},"natural-desc":function(t,a){return-1*e(t,a,!0)},"natural-nohtml-asc":function(t,a){return e(t,a,!1)},"natural-nohtml-desc":function(t,a){return-1*e(t,a,!1)},"natural-ci-asc":function(t,a){return e(t=t.toString().toLowerCase(),a=a.toString().toLowerCase(),!0)},"natural-ci-desc":function(t,a){return-1*e(t=t.toString().toLowerCase(),a=a.toString().toLowerCase(),!0)}})}(),M.DataTable=I.a;var V=[{title:"Regioni",data:"area"},{title:"Dosi somministrate",data:"dosi_somministrate"},{title:"Dosi consegnate",data:"dosi_consegnate"},{title:"%",data:"percentuale_somministrazione"}],P=function(e){var t=e.deliveryTableData;return Object(r.useEffect)((function(){M("#datatable").find("tfoot"),M("#datatable").find("table").append("<tfoot><th></th><th></th><th></th><th></th></tfoot>")}),[]),Object(r.useEffect)((function(){M("#datatable").find("table").DataTable({dom:"<'row'<'col-12'l>><'row'<'col-12'tr>>",paging:!1,searching:!0,destroy:!0,data:t,columns:V,language:{decimal:",",thousands:"."},columnDefs:[{targets:0,width:"160px"},{type:"natural",targets:3},{targets:[1,2,3],render:function(e,t,a){return Number(e).toLocaleString("it")}}],footerCallback:function(e,t,a,i,r){var o=M("#datatable").find("table").DataTable(),n=function(e){return"string"===typeof e?1*e.replace(/[$,]/g,""):"number"===typeof e?e:0},c=o.column(2,{search:"applied"}).data().reduce((function(e,t){return n(e)+n(t)}),0),s=o.column(1,{search:"applied"}).data().reduce((function(e,t){return n(e)+n(t)}),0),l=c?s/c*100:0;M(o.column(3).footer()).html(l.toFixed(1)+"%"),M(o.column(2).footer()).html(c.toLocaleString("it")),M(o.column(1).footer()).html(s.toLocaleString("it")),M(o.column(0).footer()).html("Totale")}})}),[t]),Object(i.jsx)("div",{id:"datatable",children:Object(i.jsx)("table",{className:"table h-100 table-borderless compact table-hover",cellSpacing:"0",width:"100%",style:{paddingBottom:6}})})},$=a(4),Y=function(e){var t=e.handleDeliveryBarChartClick,a=e.height,o=e.width,n=e.data,c=e.selected,s=e.property,l=e.title,d=e.ytitle,m=Object(r.useRef)(),u=Object(r.useRef)();Object(r.useEffect)((function(){$.g(u.current).selectAll("svg").remove(),j()}),[n,c]);var p=function(e){var t=$.g(e.node().parentNode),a=parseInt(e.style("width"),10),i=parseInt(e.style("height"),10),r=a/i;function o(){var a=parseInt(t.style("width"));e.attr("width",a),e.attr("height",Math.round(a/r))}e.attr("viewBox","0 0 ".concat(a," ").concat(i)).attr("preserveAspectRatio","xMinYMid").call(o),$.g(window).on("resize."+t.attr("id"),o)};var j=function(){var e=(null===n||void 0===n?void 0:n.reduce(O(s.yprop),0))||0,i=$.g(u.current).append("svg").attr("width",o).attr("height",a),r=50,m=50,j=$.e().padding(.2),g=$.f().domain([0,e]);g.range([a,0]),j.range([0,o]).domain(n.map((function(e){return e[s.xprop]}))),i.attr("width",o+2*m).attr("height",a+2*r).call(p).attr("id","svg-bar"),i.append("text").attr("x",o/2+m).attr("y",r/2).attr("class","title").attr("text-anchor","middle").attr(l),i.append("text").attr("x",-a/2-r).attr("y",m/2.4).attr("transform","rotate(-90)").attr("class","title").text(d);var h=i.append("g").attr("transform","translate(".concat(m,",").concat(r,")"));h.append("g").attr("class","axis").attr("transform","translate(0,".concat(a,")")).style("font-size",20).call($.a(j));var b=h.selectAll().data(n);b.enter().append("rect").on("click",(function(e,a){t(a)})).attr("id",(function(e){return null===e||void 0===e?void 0:e.fascia_anagrafica})).attr("opacity",(function(e){return c?c===(null===e||void 0===e?void 0:e.fascia_anagrafica)?1:.3:1})).attr("class","bar").attr("x",(function(e){return j(e[s.xprop])})).attr("y",(function(e){return g(e[s.yprop])})).attr("height",(function(e){return a-g(e[s.yprop])})).attr("width",j.bandwidth()).append("title").attr("x",(function(e){return j(e[s.xprop])})).attr("y",(function(e){return g(e[s.yprop])})).text((function(e){return"Fascia ".concat(e[s.xprop]," totale: ").concat(e[s.yprop])})),b.enter().append("text").attr("class","bartext").attr("text-anchor","middle").attr("fill","white").attr("x",(function(e){return j(e[s.xprop])+35})).attr("y",(function(e){return a-g(e[s.yprop])>=0?g(e[s.yprop])-10:g(e[s.yprop])})).text((function(e){return e[s.yprop].toLocaleString("it")})),b.exit().remove()};return Object(i.jsx)("div",{ref:u,className:"chart svg-container",children:Object(i.jsx)("svg",{ref:m,className:"svg-content-responsive"})})},U=a(48),G=(a(97),function(e){var t=e.handleMapDeliveryClick,a=e.fillMapDeliveryArea,o=e.fillBy,n=e.summary,c=e.tooltip,s=Object(r.useState)([]),d=Object(l.a)(s,2),m=d[0],u=d[1],p=Object(r.useState)(0),j=Object(l.a)(p,2),g=j[0],f=j[1];Object(r.useEffect)((function(){var e=v.a.maxBy(n||{},o);f(e?e[o]:0)}),[n,o]);var x=$.c().center([0,41]).rotate([347,0]).parallels([35,45]).scale(2200).translate([249,239]);return Object(r.useEffect)((function(){(function(){var e=Object(b.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("data/geo/it.json");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,u(U.a(a,a.objects.regions).features);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(i.jsx)("div",{className:"map-area mt-sx-3",style:{marginTop:"80px"},children:Object(i.jsx)("svg",{className:"h-100 w-100",height:478,children:Object(i.jsxs)("g",{className:"countries",children:[m.map((function(e,r){var s,l,d=e.properties.reg_name,m=v.a.filter(n,(function(e){return e.area===d})),u={};return m&&m.length>0&&(u=m[0]),Object(i.jsx)("path",{d:$.d().projection(x)(e),className:"country",id:"".concat(null===(s=u)||void 0===s||null===(l=s.area)||void 0===l?void 0:l.trim()),fill:a({region:u,maxValue:g,field:o}),stroke:"#FFFFFF",strokeWidth:.7,onClick:function(){return t(u)},children:Object(i.jsx)("title",{children:Object(i.jsx)("span",{className:"bg-info",children:c(u)})})},"path-".concat(r))})),");"]})})})}),H=function(e){var t,a,o=e.data,n=Object(r.useState)([]),c=Object(l.a)(n,2),s=c[0],d=c[1],m=Object(r.useState)([]),u=Object(l.a)(m,2),p=u[0],j=u[1],g=Object(r.useState)(null),h=Object(l.a)(g,2),b=h[0],v=h[1],x=Object(r.useState)(0),O=Object(l.a)(x,2),y=O[0],_=O[1],N=Object(r.useState)({}),w=Object(l.a)(N,2),S=w[0],k=w[1],z=Object(r.useState)([]),C=Object(l.a)(z,2),D=C[0],L=C[1],B=Object(r.useState)(null),A=Object(l.a)(B,2),F=A[0],T=A[1];Object(r.useEffect)((function(){Object(f.isEmpty)(o)||(d(o.totalDeliverySummary),L(o.categoriesAndAges),k(o.gender),j(o.totalDeliverySummary),_(o.tot))}),[o]);var M=function(){v(null),j(o.totalDeliverySummary),_(o.tot),k(o.gender),L(o.categoriesAndAges),T(null),d(o.totalDeliverySummary)};return Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:"row",children:Object(i.jsx)("div",{className:"col-12 d-flex justify-content-end",children:Object(i.jsx)("img",{alt:"reset",src:"reset.png",onClick:M})})}),Object(i.jsxs)("div",{className:"row",style:{backgroundColor:"#F8FBFE"},children:[Object(i.jsxs)("div",{className:"col-12 col-lg-5 h-100 order-md-2 order-lg-1 ",children:[Object(i.jsx)("div",{className:"container-info d-none d-sm-none d-md-flex d-lg-flex",children:Object(i.jsx)("span",{"data-toggle":"tooltip",title:"% somministrazioni su dosi consegnate",className:"circle-info",children:"i"})}),Object(i.jsx)(P,{deliveryTableData:p,className:"mr-5 h-100"})]}),Object(i.jsxs)("div",{className:"col-12 col-lg-7 order-md-1 order-lg-2",children:[Object(i.jsx)("div",{className:"p-4 position-relative d-lg-none",children:Object(i.jsxs)("div",{className:"w-100 h-100 d-flex justify-content-start pr-5",children:[Object(i.jsx)("img",{src:"logo.png",width:"35",height:"35",alt:"Logo"}),Object(i.jsxs)("h5",{className:"pl-3 pl-sm-1",children:["Distribuzione somministrazioni",Object(i.jsx)("br",{})," rispetto alle consegne"]})]})}),Object(i.jsx)("div",{className:"p-5 d-none d-lg-block",children:Object(i.jsxs)("div",{className:"d-flex justify-content-end",style:{position:"absolute ",top:150,right:50},children:[Object(i.jsx)("img",{src:"logo.png",width:"35",height:"35",alt:"Logo",style:{position:"absolute",top:-10}}),Object(i.jsxs)("h5",{className:"pl-3 pl-sm-1 text-right",children:[Object(i.jsx)("span",{"data-toggle":"tooltip",title:"Nel grafico \xe8 rappresentato il tasso di somministrazione,  ovvero il rapporto tra le somministrazioni e le dosi consegnate (%)",className:"circle-info",style:{position:"relative",right:23,top:25},children:"i"}),"Distribuzione somministrazioni",Object(i.jsx)("br",{})," rispetto alle consegne"]})]})}),Object(i.jsx)(G,{fillMapDeliveryArea:function(e){var t=e.region,a=e.maxValue,i=e.field,r=0;if(t.code===b)r=1;else if(b){var o=t[i]/(2*a);r=Object(f.max)([o,.1])}else r=Object(f.max)([t[i]/a,.1]);return"rgba(0,102,204,".concat(r,") ")},summary:s,handleMapDeliveryClick:function(e){if(F&&M(),b===e.code)M();else{var t=Object(f.find)(o.totalDeliverySummary,(function(t){return t.code===e.code}));j([t]),L((null===t||void 0===t?void 0:t.byAge)||[]),v(e.code),_(t.dosi_somministrate),k({gen_m:t.sesso_maschile,gen_f:t.sesso_femminile})}},tooltip:function(e){return e.area+" "+(e.percentuale_somministrazione&&e.percentuale_somministrazione.toLocaleString("it"))+"%"},fillBy:"percentuale_somministrazione",className:"ml-5 w-100 h-100"}),Object(i.jsx)("div",{className:"p-4 position-relative",children:Object(i.jsxs)("div",{className:"text-black w-100",children:[Object(i.jsxs)("div",{className:"w-100 h-100 d-flex justify-content-start ",children:[Object(i.jsx)("img",{src:"logo.png",width:"45",height:"45",alt:"Logo",className:"mt-3"}),Object(i.jsx)("span",{className:"font-50 pl-3",children:null===y||void 0===y?void 0:y.toLocaleString("it")})]}),Object(i.jsx)("div",{className:"w-100  h-100 d-flex justify-content-start",children:Object(i.jsx)("h5",{children:"Totale somministrazioni"})})]})})]})]}),Object(i.jsxs)("div",{className:"row position-powerbi",style:{backgroundColor:"#F8FBFE"},children:[Object(i.jsx)("div",{className:"col-12 col-md-6 align-items-end testo-info-campania d-none d-sm-none d-md-flex d-lg-flex"}),Object(i.jsxs)("div",{className:"col-12 col-md-6  position-relative",children:[Object(i.jsx)("div",{className:"bg-gradient-bar"}),Object(i.jsxs)("div",{className:"row",children:[Object(i.jsxs)("div",{className:"col-6 d-flex align-items-baseline",children:[Object(i.jsx)("img",{src:"user_f.png",alt:"users",width:"75px"}),Object(i.jsx)("span",{className:"text-center font-weight-light text-white",children:Object(i.jsx)("h3",{className:"total_gender",children:null===S||void 0===S||null===(t=S.gen_f)||void 0===t?void 0:t.toLocaleString("it")})})]}),Object(i.jsxs)("div",{className:"col-6  d-flex align-items-baseline",children:[Object(i.jsx)("img",{src:"user_m.png",alt:"users",width:"75px"}),Object(i.jsx)("span",{className:"text-center font-weight-light text-white",children:Object(i.jsx)("h3",{className:"total_gender",children:null===S||void 0===S||null===(a=S.gen_m)||void 0===a?void 0:a.toLocaleString("it")})})]})]})]}),Object(i.jsx)("div",{className:"col-12 col-md-5",style:{backgroundColor:"#17324D"},children:Object(i.jsxs)("div",{className:"p-4 position-relative",children:[Object(i.jsx)("div",{style:{height:100},children:Object(i.jsx)("img",{src:"group_person.svg",alt:"Logo",className:"img-fluid"})}),Object(i.jsxs)("div",{className:"text-white w-100",children:[Object(i.jsx)("div",{className:"w-100 h-100 d-flex justify-content-end",children:Object(i.jsx)("img",{src:"logo.png",width:"40",height:"40",alt:"Logo"})}),Object(i.jsx)("div",{className:"w-100  h-100 d-flex justify-content-end text-right",children:Object(i.jsxs)("h3",{children:["Somministrazioni",Object(i.jsx)("br",{})," per fasce di et\xe0"]})})]})]})}),Object(i.jsx)("div",{className:"col-12  col-md-7",style:{backgroundColor:"#17324D"},children:Object(i.jsx)(Y,{title:"",xtitle:"Fascia d'et\xe0",ytitle:"",width:800,handleDeliveryBarChartClick:function(e){if(b&&M(),e.fascia_anagrafica===F)M();else{var t=Object(f.find)(o.categoriesAndAges,(function(t){return t.fascia_anagrafica===e.fascia_anagrafica}));L(o.categoriesAndAges),_(t.totale),T(e.fascia_anagrafica),j(Object(f.head)(o.totalDeliverySummaryByAge[e.fascia_anagrafica]).details),k({gen_m:e.sesso_maschile,gen_f:e.sesso_femminile}),d(Object(f.head)(o.totalDeliverySummaryByAge[e.fascia_anagrafica]).details)}},height:300,selected:F,property:{xprop:"fascia_anagrafica",yprop:"totale"},data:D})})]})]})},J=function(e){var t=e.handleRectClick,a=e.height,o=e.width,n=e.data,c=void 0===n?[]:n,s=e.selectedCodeCategory,l=e.property,d=e.title,m=(e.ytitle,Object(r.useRef)()),u=Object(r.useRef)();function p(e,t){e.each((function(){for(var e,a=$.g(this),i=!1,r=a.text().split(/\s+/).reverse(),o=[],n=a.attr("y"),c=parseFloat(a.attr("dy")),s=a.text(null).attr("y",15).append("tspan").attr("x",0).attr("y",n).attr("dy",c+"em");e=r.pop();)o.push(e),s.text(o.join(" ")),s.node().getComputedTextLength()>t&&(i=!0,o.pop(),s.text(o.join(" ")),o=[e],s=a.append("tspan").attr("x",0).attr("y",n).attr("dy","1.0em").text(e));i&&a.attr("y",-1)}))}Object(r.useEffect)((function(){$.g(u.current).selectAll("svg").remove(),g()}),[c,s]);var j=function(e){var t=$.g(e.node().parentNode),a=parseInt(e.style("width"),10),i=parseInt(e.style("height"),10),r=a/i;function o(){var a=parseInt(t.style("width"));e.attr("width",a),e.attr("height",Math.round(a/r))}e.attr("viewBox","-20 30 ".concat(a," ").concat(i)).attr("preserveAspectRatio","xMinYMid").call(o),$.g(window).on("resize."+t.attr("id"),o)};var g=function(){var e=(null===c||void 0===c?void 0:c.reduce(O(l.yprop),0))||0,i=$.g(u.current).append("svg").attr("width",o).attr("height",a),r=50,n=220,m=$.f().domain([0,e]).range([0,o-20]),g=$.e().paddingInner(.8).paddingOuter(0).range([0,a]).domain(null===c||void 0===c?void 0:c.map((function(e){return e[l.xprop]})));i.attr("width",o+2*n).attr("height",a+2*r).call(j).attr("id","svg-horizontal-bar"),i.append("text").attr("x",o/2+n).attr("y",r/2).attr("class","hb-title").attr("text-anchor","middle").attr(d);var h=i.append("g").attr("transform","translate(".concat(n,",").concat(r,")"));h.append("g").attr("class","hb-axis").call($.b(g)).selectAll(".tick text").call(p,150).style("font-size","18px").attr("transform","translate(85,0)");var b=h.selectAll().data(c);b.enter().append("rect").on("click",(function(e,a){t(a)})).attr("opacity",(function(e){return s===e.code?1:s?.3:1})).attr("class","hb-bar").attr("x",m(0)+95).attr("y",(function(e){return g(e[l.xprop])})).attr("width",(function(e){return m(e[l.yprop])})).attr("height",4*g.bandwidth()).append("hb-title").attr("x",(function(e){return m(e[l.xprop])})).attr("y",(function(e){return g(e[l.yprop])})).text((function(e){return"Fascia ".concat(e[l.xprop]," totale: ").concat(e[l.yprop])})),b.enter().append("text").attr("class","hb-bartext").attr("text-anchor","middle").attr("fill","white").attr("x",(function(e){return m(e[l.yprop])+140})).attr("y",(function(e){return a-g(e[l.xprop])>=0?g(e[l.xprop])+20:g(e[l.xprop])})).text((function(e){return e[l.yprop].toLocaleString("it")})),b.exit().remove()};return Object(i.jsx)("div",{ref:u,className:"chart svg-container",style:{marginTop:40},children:Object(i.jsx)("svg",{ref:m,className:"svg-content-responsive"})})},W=function(e){var t=e.data,a=Object(r.useState)([]),o=Object(l.a)(a,2),n=o[0],c=o[1],s=Object(r.useState)([]),d=Object(l.a)(s,2),m=d[0],u=d[1],p=Object(r.useState)(null),j=Object(l.a)(p,2),g=j[0],h=j[1],b=Object(r.useState)(0),v=Object(l.a)(b,2),x=v[0],O=v[1],y=Object(r.useState)("dosi_somministrate"),_=Object(l.a)(y,2),N=_[0],w=_[1],S=Object(r.useState)(null),k=Object(l.a)(S,2),z=k[0],C=k[1];Object(r.useEffect)((function(){Object(f.isEmpty)(t)||(c(t.categories),O(t.tot),u(null===t||void 0===t?void 0:t.totalDeliverySummary))}),[t]);var D=function(){C(null),c(null===t||void 0===t?void 0:t.categories),O(null===t||void 0===t?void 0:t.tot),u(null===t||void 0===t?void 0:t.totalDeliverySummary),h(null),w("dosi_somministrate")};return Object(i.jsxs)("div",{className:"row ",children:[Object(i.jsxs)("div",{style:{marginTop:40},className:"col-12  d-flex justify-content-center align-items-center p-5 bg-title-plot",children:[Object(i.jsx)("img",{src:"logo.png",width:"86",height:"86",alt:"Logo",className:"img-fluid",style:{zIndex:10}}),Object(i.jsx)("h3",{className:"text-center",children:"Somministrazioni per categoria"})]}),Object(i.jsxs)("div",{className:"col-12 col-md-12 h-100  ",children:[Object(i.jsx)("div",{className:"mb-5  d-lg-none ",style:{position:"relative",background:"#013366"},children:Object(i.jsxs)("div",{className:"text-white w-100",children:[Object(i.jsx)("div",{className:"w-100  h-100 d-flex justify-content-start pt-5 pl-4",children:Object(i.jsxs)("h5",{children:["Totale",Object(i.jsx)("br",{}),"somministrazioni"]})}),Object(i.jsx)("div",{className:"w-100  h-100 d-flex justify-content-start pl-4",children:Object(i.jsx)("p",{className:"numeri_box",children:x&&x.toLocaleString("it")})}),Object(i.jsx)("div",{className:"col-12 d-flex justify-content-end  pb-2",children:Object(i.jsx)("img",{alt:"reset-plot2",src:"reset_white.png",onClick:D,height:35})})]})}),Object(i.jsx)("div",{className:"col-3 col-md-3  d-none d-lg-block",style:{height:100},children:Object(i.jsx)("div",{style:{position:"relative",background:"#17324D",top:-90,left:105},children:Object(i.jsxs)("div",{className:"text-white w-100",children:[Object(i.jsx)("div",{className:"w-100  h-100 d-flex justify-content-start pt-3 pl-4",children:Object(i.jsxs)("h5",{children:["Totale",Object(i.jsx)("br",{}),"somministrazioni"]})}),Object(i.jsx)("div",{className:"w-100  h-100 d-flex justify-content-start pl-4",children:Object(i.jsx)("p",{className:"numeri_box",children:x&&x.toLocaleString("it")})}),Object(i.jsx)("div",{className:"col-12 d-flex justify-content-end  pb-2",children:Object(i.jsx)("img",{alt:"Reset",src:"reset_white.png",onClick:D,height:35})})]})})})]}),Object(i.jsxs)("div",{className:"col-12 col-md-6 h-100",children:[Object(i.jsx)(J,{title:"",xtitle:"Vaccinazioni per categoria",handleRectClick:function(e){if(z&&D(),g===(null===e||void 0===e?void 0:e.code))D();else if(e){var a=Object(f.find)(t.categories,(function(t){return t.code===e.code}));h(e.code),w(e.code),O(null===a||void 0===a?void 0:a.total)}},ytitle:"",width:220,height:460,property:{xprop:"name",yprop:"total"},data:n,selectedCodeCategory:g}),Object(i.jsx)("p",{children:"*non considerato in categorie prioritarie"})]}),Object(i.jsxs)("div",{className:"col-12 col-md-6 h-100",style:{overflow:"hidden"},children:[Object(i.jsx)("div",{className:"p-4 position-relative d-lg-none",children:Object(i.jsxs)("div",{className:"w-100 h-100 d-flex justify-content-start pr-5",children:[Object(i.jsx)("img",{src:"logo.png",width:"35",height:"35",alt:"Logo"}),Object(i.jsxs)("h5",{className:"pl-3 pl-sm-1",children:["Vaccinazioni",Object(i.jsx)("br",{})," per regione"]})]})}),Object(i.jsx)(G,{fillMapDeliveryArea:function(e){var t=e.region,a=e.maxValue,i=e.field,r=0;if(t.code===z)r=1;else if(z){var o=t[i]/(2*a);r=Object(f.max)([o,.1])}else r=Object(f.max)([t[i]/a,.1]);return"rgba(0,102,204,".concat(r,") ")},summary:m,handleMapDeliveryClick:function(e){g&&D(),z===e.code?D():(C(e.code),c(t.categoriesByRegions[e.code]),O(e.dosi_somministrate))},fillBy:N,tooltip:function(e){return e.area+" "+(e[N]&&e[N].toLocaleString("it"))},className:"ml-5 w-100 h-100"}),Object(i.jsx)("div",{className:"p-4 position-relative d-none d-lg-block",style:{left:"300px",top:"-390px"},children:Object(i.jsxs)("div",{className:"w-100 h-100 d-flex justify-content-start pr-5",children:[Object(i.jsx)("img",{src:"logo.png",width:"35",height:"35",alt:"Logo"}),Object(i.jsxs)("h5",{className:"pl-3 pl-sm-1",children:["Somministrazioni",Object(i.jsx)("br",{})," per regione"]})]})})]})]})},Z=function(e){var t=+e.width,a=+e.height,o=Object(r.useRef)(),n=Object(r.useRef)();Object(r.useEffect)((function(){$.g(n.current).selectAll("svg").remove(),s()}),[e]);var c=function(e){var t=$.g(e.node().parentNode),a=parseInt(e.style("width"),10),i=parseInt(e.style("height"),10),r=a/i;function o(){var a=parseInt(t.style("width"));e.attr("width",a),e.attr("height",Math.round(a/r))}e.attr("viewBox","0 0 ".concat(a," ").concat(i)).attr("preserveAspectRatio","xMinYMid").call(o),$.g(window).on("resize."+t.attr("id"),o)};var s=function(){var i=(null===e||void 0===e?void 0:e.data)||[],r=(null===i||void 0===i?void 0:i.reduce(O(e.property.yprop),0))||0,o=$.g(n.current).append("svg").attr("width",t).attr("height",a),s=50,l=20,d=$.e().padding(.5),m=$.f().domain([0,r]);m.range([a,0]),d.range([0,t]).domain(i.map((function(t){return t[e.property.xprop]}))),o.attr("width",t+2*l).attr("height",a+2*s).call(c).attr("id","svg-bar"),o.append("text").attr("x",t/8+l).attr("y",s/6).attr("class","title-bar-dark").attr("text-anchor","middle").attr(e.title),o.append("text").attr("x",-a/2-s).attr("y",l/2.4).attr("transform","rotate(-90)").attr("class","title-bar-dark").text(e.ytitle);var u=o.append("g").attr("transform","translate(".concat(l,",").concat(s,")"));u.append("g").attr("class","axis-dark").attr("transform","translate(0,".concat(a,")")).style("font-size",20).call($.a(d));var p=u.selectAll().data(i);p.enter().append("rect").on("click",(function(t,a){e.handleDeliveryBarChartClick(a)})).attr("id",(function(e){return null===e||void 0===e?void 0:e.fornitore})).attr("opacity",(function(t){var a;return(null===(a=e.selected)||void 0===a?void 0:a.fornitore)===(null===t||void 0===t?void 0:t.fornitore)?1:e.selected?.3:1})).attr("class","bg-bar").attr("x",(function(t){return+d(t[e.property.xprop])})).attr("y",(function(t){return m(t[e.property.yprop])})).attr("height",(function(t){return a-m(t[e.property.yprop])})).attr("width",d.bandwidth()).append("title").attr("x",(function(t){return d(t[e.property.xprop])})).attr("y",(function(t){return m(t[e.property.yprop])})).text((function(t){return"Fascia ".concat(t[e.property.xprop]," totale: ").concat(t[e.property.yprop])})),p.enter().append("text").attr("class","bartext-dark").attr("text-anchor","center").attr("fill","black").attr("x",(function(t){return d(t[e.property.xprop])})).attr("y",(function(t){return a-m(t[e.property.yprop])>=0?m(t[e.property.yprop])-10:m(t[e.property.yprop])})).text((function(t){var a;return null===(a=t[e.property.yprop])||void 0===a?void 0:a.toLocaleString("it")})),p.exit().remove()};return Object(i.jsx)("div",{ref:n,children:Object(i.jsx)("svg",{ref:o})})},q=function(e){var t=Object(r.useState)(null),a=Object(l.a)(t,2),o=a[0],n=a[1],c=Object(r.useState)(null),s=Object(l.a)(c,2),d=s[0],m=s[1],u=Object(r.useState)([]),p=Object(l.a)(u,2),j=p[0],g=p[1],h=Object(r.useState)(0),b=Object(l.a)(h,2),v=b[0],x=b[1],O=function(){var t,a,i;g(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.allDosesSupplier),x(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.totalSuplier),m(null),n(null),x(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.totalSuplier)};Object(r.useEffect)((function(){var t,a;Object(f.isEmpty)(e)||(g(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.allDosesSupplier),x(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.totalSuplier))}),[e]);var y=function(e){m(e)};return Object(i.jsxs)("div",{className:"row",children:[Object(i.jsxs)("div",{className:"col-12 col-md-12 h-100",children:[Object(i.jsxs)("div",{className:"col-12 d-flex justify-content-center align-items-center p-5 bg-title-plot",children:[Object(i.jsx)("h3",{className:"text-center",children:"Distribuzione vaccini per fornitore"}),Object(i.jsx)("img",{src:"logo.png",width:"86",height:"86",alt:"Logo",className:"d-none d-lg-block",style:{position:"absolute",right:28,zIndex:10}})]}),Object(i.jsxs)("div",{className:"col-12 col-md-12 h-100",children:[Object(i.jsx)("div",{className:"mb-5 d-lg-none",style:{position:"relative",background:"#013366"},children:Object(i.jsxs)("div",{className:"text-white w-100",children:[Object(i.jsx)("div",{className:"w-100  h-100 d-flex justify-content-start pt-5 pl-4",children:Object(i.jsx)("h5",{children:"Totale vaccini distribuiti"})}),Object(i.jsx)("div",{className:"w-100  h-100 d-flex justify-content-start pl-4",children:Object(i.jsxs)("p",{className:"numeri_box",children:[null===v||void 0===v?void 0:v.toLocaleString("it"),"             "]})}),Object(i.jsx)("div",{className:"col-12 d-flex justify-content-end  pb-2",children:Object(i.jsx)("img",{alt:"reset-plot2",src:"reset_white.png",onClick:O,height:35})})]})}),Object(i.jsx)("div",{className:"offset-md-9 col-md-3  d-none d-lg-block",style:{height:100},children:Object(i.jsx)("div",{style:{position:"relative",background:"#17324D",top:-90,left:-50},children:Object(i.jsxs)("div",{className:"text-white w-100",children:[Object(i.jsx)("div",{className:"w-100 h-100 d-flex justify-content-start pt-3 pl-4",children:Object(i.jsxs)("h5",{children:["Totale",Object(i.jsx)("br",{}),"vaccini distribuiti"]})}),Object(i.jsx)("div",{className:"w-100  h-100 d-flex justify-content-start pl-4",children:Object(i.jsx)("p",{className:"numeri_box",children:null===v||void 0===v?void 0:v.toLocaleString("it")})}),Object(i.jsx)("div",{className:"col-12 d-flex justify-content-end  pb-2",children:Object(i.jsx)("img",{alt:"Reset",src:"reset_white.png",onClick:O,height:35})})]})})})]})]}),Object(i.jsx)("div",{className:"col-12 col-md-6 h-100 pb-5",children:Object(i.jsx)(Z,{title:"",xtitle:"Fascia d'et\xe0",ytitle:"",width:"800",handleDeliveryBarChartClick:function(e){d===e?O():o?(O(),function(e){if(document.getElementById(e)&&e){var t=new MouseEvent("click",{bubbles:!0,cancelable:!0});document.getElementById(e).dispatchEvent(t)}}(e.fornitore)):(y(e),m(e),x(null===e||void 0===e?void 0:e.totale))},height:"300",selected:d,property:{xprop:"fornitore",yprop:"totale"},data:j})}),Object(i.jsx)("div",{className:" d-none d-sm-none d-md-block d-lg-none  col-md-6"})]})};a(98);E.a.DataTable=I.a;var K=[{title:"Regione",data:"area"},{title:"Punto di somministrazione",data:"denominazione_struttura"},{title:"Tipologia",data:"tipologia"}],Q=function(e){return Object(r.useEffect)((function(){var t,a=e.setLocationCount,i=E()("#datatable-locations").find("table").DataTable({dom:"<'row'<'col-sm-12 col-md-6'l><'col-sm-12 col-md-6'>><'row'<'col-sm-12'tr>><'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7'p>>",paging:!1,columnDefs:[{targets:[1,2],searchable:!1}],searching:!0,destroy:!0,bLengthChange:!1,info:!1,scrollY:"550px",scrollCollapse:!0,data:(null===(t=e.summary)||void 0===t?void 0:t.locations)||[],columns:K});(null===e||void 0===e?void 0:e.selected)?i.search(e.selected).draw():i.search(" ").draw(),a(i.rows({search:"applied"}).count()/2)})),Object(i.jsx)("div",{id:"datatable-locations",children:Object(i.jsx)("table",{className:"display compact",cellSpacing:"0",width:"100%"})})},X=function(e){var t=e.locationCount;return Object(i.jsx)("div",{className:"text-white w-100",children:Object(i.jsx)("div",{className:"w-100  h-100 d-flex justify-content-start pt-5 pl-4",children:Object(i.jsxs)("h3",{children:["Totale: ",t]})})})},ee=function(){return Object(i.jsxs)("div",{className:"w-100 h-100 d-flex justify-content-start pr-5",children:[Object(i.jsx)("img",{src:"logo.png",width:"35",height:"35",alt:"Logo"}),Object(i.jsxs)("h5",{className:"pl-3 pl-sm-1",children:["Principali punti di",Object(i.jsx)("br",{})," somministrazione ",Object(i.jsx)("br",{})," per regione"]})]})},te=function(e){var t=e.data,a=Object(r.useState)({}),o=Object(l.a)(a,2),n=o[0],c=o[1],d=Object(r.useState)(""),m=Object(l.a)(d,2),u=m[0],p=m[1],j=Object(r.useState)(0),g=Object(l.a)(j,2),h=g[0],b=g[1];Object(r.useEffect)((function(){Object(f.isEmpty)(t)||c(t)}),[t]);var v=function(){p(""),b(0)};return Object(i.jsxs)("div",{className:"row ",children:[Object(i.jsxs)("div",{className:"col-12 d-flex justify-content-center align-items-center p-5 bg-title-plot",children:[Object(i.jsx)("img",{src:"logo.png",width:"86",height:"86",alt:"Logo",className:"img-fluid",style:{zIndex:10}}),Object(i.jsxs)("div",{style:{paddingTop:50},children:[Object(i.jsx)("h3",{className:"text-center",children:"Principali punti di somministrazione"}),Object(i.jsxs)("div",{className:"text-center position-relative",children:["(Sono inclusi i punti di somministrazione ospedalieri e territoriali;",Object(i.jsx)("br",{})," non sono inclusi i punti di somministrazione temporanei)"]})]})]}),Object(i.jsxs)("div",{className:"col-12 col-md-12 h-100 p-0",style:{marginTop:20},children:[Object(i.jsx)("div",{className:"mb-5  d-lg-none ",style:{position:"relative",background:"#013366"},children:Object(i.jsxs)("div",{className:"text-white w-100",children:[Object(i.jsx)(X,{locationCount:h}),Object(i.jsx)("div",{className:"col-12 d-flex justify-content-end  pb-2",children:Object(i.jsx)("img",{alt:"reset-plot",src:"reset_white.png",onClick:v,height:35})})]})}),Object(i.jsx)("div",{className:"col-3 col-md-3 h-100 d-none d-lg-block",children:Object(i.jsx)("div",{style:{position:"relative",background:"#17324D",top:-90,left:40},children:Object(i.jsxs)("div",{className:"text-white w-100",children:[Object(i.jsx)(X,{locationCount:h}),Object(i.jsx)("div",{className:"col-12 d-flex justify-content-end  pb-2",children:Object(i.jsx)("img",{alt:"reset-white",src:"reset_white.png",onClick:v,height:35})})]})})})]}),Object(i.jsxs)("div",{className:"col-12 col-md-6 pt-5",children:[Object(i.jsx)("div",{className:"p-4 position-relative d-lg-none",style:{left:150,top:-115},children:Object(i.jsx)(ee,{})}),Object(i.jsx)("div",{className:"p-4 position-relative d-none d-lg-block",style:{left:"300px",top:"-60px"},children:Object(i.jsx)(ee,{})}),Object(i.jsx)("div",{style:{marginTop:-200},children:Object(i.jsx)(G,{fillMapDeliveryArea:function(e){var t=e.region,a=e.maxValue,i=e.field,r=0;if(t.area===u)r=1;else if(u){var o=t[i]/(2*a);r=Object(f.max)([o,.1])}else r=Object(f.max)([t[i]/a,.1]);return"rgba(23,50,77,".concat(r,")")},summary:t.locationsByRegion,handleMapDeliveryClick:function(e){u===e.area?p(null):p(e.area)},tooltip:function(e){return e.area+": "+(e.locations&&e.locations.toLocaleString("it"))},fillBy:"locations",className:"ml-5 w-100 h-100"})})]}),Object(i.jsx)("div",{className:"col-12 col-md-6 pt-3 pl-3",style:{marginTop:-20},children:Object(i.jsx)(Q,{summary:Object(s.a)({},n),selected:u,className:"mr-5 h-100",setLocationCount:b})})]})};var ae=function(){var e,t,a=Object(r.useState)({}),o=Object(l.a)(a,2),n=o[0],c=o[1];Object(r.useEffect)((function(){T().then((function(e){!function(){var e=document.getElementById("loader-custom");e&&(e.className=e.className.includes("d-none")?e.className:e.className+" d-none")}(),c(e)}))}),[]);var u=(null===n||void 0===n||null===(e=n.totalDoses)||void 0===e?void 0:e.seconda_dose)+(null===n||void 0===n||null===(t=n.totalDoses)||void 0===t?void 0:t.prima_dose_janssen),p=isNaN(u)?"":null===u||void 0===u?void 0:u.toLocaleString("it");return Object(i.jsxs)("div",{children:[Object(i.jsx)(d,{}),Object(i.jsxs)("div",{className:"container",children:[Object(i.jsx)("div",{className:"row",children:Object(i.jsx)("div",{className:"col-12 d-flex justify-content-center",children:Object(i.jsx)(j,{className:"mb-3",summary:Object(s.a)({},n)})})}),Object(i.jsx)("div",{style:{padding:20}}),Object(i.jsx)("div",{className:"row position-powerbi",style:{backgroundColor:"#17324D"},children:Object(i.jsx)("div",{className:"col-12",children:Object(i.jsxs)("div",{className:"p-4 position-relative d-flex justify-content-center  h-100",style:{backgroundColor:"#17324D",minHeight:240},children:[Object(i.jsx)("div",{className:"d-none  d-lg-block",style:{height:100,position:"absolute",left:"20px",top:"20px"},children:Object(i.jsx)("img",{src:"group_person.svg",alt:"Logo",className:"img-fluid"})}),Object(i.jsx)("div",{className:"  d-none  d-lg-block position-absolute center-logo",children:Object(i.jsx)("img",{src:"logo.png",width:"80",height:"80",alt:"Logo"})}),Object(i.jsxs)("div",{className:"text-white w-100",style:{padding:20},children:[Object(i.jsxs)("div",{className:"w-100  h-100 align-items-center d-flex justify-content-center text-right",children:[Object(i.jsxs)("h4",{style:{marginRight:10},children:["Totale",Object(i.jsx)("br",{})," persone vaccinate"]}),Object(i.jsxs)("div",{className:"d-flex justify-content-center text-right align-items-center border-pink",children:[" ",p]})]}),Object(i.jsx)("div",{className:"text-center position-relative",style:{top:-10},children:"(persone che hanno completato il ciclo vaccinale)"})]})]})})}),Object(i.jsx)(H,{data:n}),Object(i.jsx)(W,{data:n}),Object(i.jsx)(q,{data:n}),Object(i.jsx)(te,{data:n}),Object(i.jsx)("div",{className:"row",children:Object(i.jsxs)("div",{className:"col-12 text-center pt-5 pb-3",children:["I dati visualizzati sono disponibili all'indirizzo"," ",Object(i.jsx)("a",{href:"https://github.com/italia/covid19-opendata-vaccini",children:"https://github.com/italia/covid19-opendata-vaccini"})]})})]}),Object(i.jsx)(m,{})]})},ie=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,100)).then((function(t){var a=t.getCLS,i=t.getFID,r=t.getFCP,o=t.getLCP,n=t.getTTFB;a(e),i(e),r(e),o(e),n(e)}))};c.a.render(Object(i.jsx)(o.a.StrictMode,{children:Object(i.jsx)(ae,{})}),document.getElementById("root")),ie()}},[[99,1,2]]]);
//# sourceMappingURL=main.04ecfd70.chunk.js.map