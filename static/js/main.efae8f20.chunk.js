(this["webpackJsonpcovid19-dashboard-vaccini"]=this["webpackJsonpcovid19-dashboard-vaccini"]||[]).push([[0],{176:function(e,t,a){},185:function(e,t,a){"use strict";a.r(t);var o=a(0),i=a(1),n=a.n(i),l=a(55),s=a.n(l),c=(a(176),a(7)),r=a(3),d=(a(177),a(52),a(178),a(179),a(180),function(){return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{className:"row m-0 bg-tertiary",children:[Object(o.jsxs)("div",{className:"col-12 col-md-4 d-flex justify-content-md-center justify-content-sm-start logo-section pt-2 pb-2",children:[Object(o.jsx)("img",{src:"logo.svg",height:"4px",alt:"Logo",className:"logo pl-5 pr-2"}),Object(o.jsx)("p",{className:"pt-2",children:Object(o.jsx)("a",{href:"http://www.governo.it","aria-label":"Presidenza del Consiglio dei Ministri",className:"text-decoration-none",rel:"noreferrer",alt:"Presidenza del Consiglio dei Ministri",children:"Presidenza del Consiglio dei Ministri"})})]}),Object(o.jsxs)("div",{className:"col-12 col-md-4 d-flex justify-content-md-center justify-content-sm-start logo-section pr-sm-0 pt-2 pb-2",children:[Object(o.jsx)("img",{src:"logo.svg",height:"4px",alt:"Logo",className:"logo pl-5 pr-2"}),Object(o.jsx)("p",{className:"pt-2",children:Object(o.jsx)("a",{className:"text-decoration-none",href:"https://www.governo.it/it/dipartimenti/unit-il-completamento-della-campagna-vaccinale-e-ladozione-di-altre-misure-di-contrasto","aria-label":"Unit\xe0 Completamento Campagna Vaccinale",rel:"noreferrer",alt:"Unit\xe0 Completamento Campagna Vaccinale",children:"Unit\xe0 Completamento Campagna Vaccinale"})})]}),Object(o.jsxs)("div",{className:"col-12 col-md-4 d-flex justify-content-md-center justify-content-sm-start logo-section pt-2 pb-2 pr-sm-3",children:[Object(o.jsx)("img",{src:"logo.svg",height:"4px",alt:"Logo",className:"logo pl-5 pr-2"}),Object(o.jsx)("p",{className:"pt-2",children:Object(o.jsx)("a",{href:"http://www.salute.gov.it/portale/home.html",className:"text-decoration-none","aria-label":"Ministero della Salute",rel:"noreferrer",alt:"Ministero della Salute",children:"Ministero della Salute"})})]}),Object(o.jsx)("div",{className:"col-12 d-flex flex-column justify-content-center mainBanner",children:Object(o.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(o.jsx)("img",{src:"Coccarda.svg",alt:"Logo",height:"150px",className:"main-logo"}),Object(o.jsx)("h1",{className:"large-title pl-2 pt-4 d-lg-none d-md-none d-xs-block",children:"Report Vaccini Anti COVID-19"})," ",Object(o.jsx)("h1",{className:"page-title large-title pl-2 pt-5 d-none d-md-block",children:"Report Vaccini Anti COVID-19"}),"  "]})})]})})}),u=function(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"row",children:Object(o.jsxs)("div",{className:"col-12 text-center pt-5 pb-3",children:["I dati visualizzati sono disponibili all'indirizzo"," ",Object(o.jsx)("a",{href:"https://github.com/italia/covid19-opendata-vaccini",alt:"Repository Dati Covid Governo Italiano",children:"https://github.com/italia/covid19-opendata-vaccini"})]})}),Object(o.jsxs)("div",{className:"row m-0 p-2 bg-footer",children:[Object(o.jsxs)("div",{className:"col-12 col-md-4 d-flex justify-content-md-center justify-content-sm-start logo-section pt-2 pb-2",children:[Object(o.jsx)("img",{src:"logo.svg",height:"4px",alt:"Logo",className:"logo pl-5 pr-2"}),Object(o.jsx)("p",{className:"pt-2",children:Object(o.jsx)("a",{href:"http://www.governo.it","aria-label":"Presidenza del Consiglio dei Ministri",className:"text-decoration-none",rel:"noreferrer",alt:"Presidenza del Consiglio dei Ministri",children:"Presidenza del Consiglio dei Ministri"})})]}),Object(o.jsxs)("div",{className:"col-12 col-md-4 d-flex justify-content-md-center justify-content-sm-start logo-section pr-sm-0 pt-2 pb-2",children:[Object(o.jsx)("img",{src:"logo.svg",height:"4px",alt:"Logo",className:"logo pl-5 pr-2"}),Object(o.jsx)("p",{className:"pt-2",children:Object(o.jsx)("a",{className:"text-decoration-none",href:"https://www.governo.it/it/dipartimenti/unit-il-completamento-della-campagna-vaccinale-e-ladozione-di-altre-misure-di-contrasto","aria-label":"Unit\xe0 Completamento Campagna Vaccinale",rel:"noreferrer",alt:"Unit\xe0 Completamento Campagna Vaccinale",children:"Unit\xe0 Completamento Campagna Vaccinale"})})]}),Object(o.jsxs)("div",{className:"col-12 col-md-4 d-flex justify-content-md-center justify-content-sm-start logo-section pt-2 pb-2 pr-sm-3",children:[Object(o.jsx)("img",{src:"logo.svg",height:"4px",alt:"Logo",className:"logo pl-5 pr-2"}),Object(o.jsx)("p",{className:"pt-2",children:Object(o.jsx)("a",{href:"http://www.salute.gov.it/portale/home.html",className:"text-decoration-none","aria-label":"Ministero della Salute",rel:"noreferrer",alt:"Ministero della Salute",children:"Ministero della Salute"})})]})]})]})},b=a(8),m=a.n(b),v=function(e){var t;return Object(o.jsxs)("div",{className:"h-100 w-100 my-3",children:[Object(o.jsx)("div",{className:"mx-auto",children:Object(o.jsxs)("h6",{className:"text-center pb-4",children:["Report aggiornato al: "," ",e.summary.timestamp&&m()(e.summary.timestamp).format("DD-MM-YYYY HH:mm")]})}),Object(o.jsxs)("div",{className:"d-flex flex-column justify-content-center",children:[Object(o.jsxs)("div",{className:"d-flex justify-content-center align-items-baseline",children:[Object(o.jsx)("img",{src:"meds.png",alt:"meds",className:"pl-2 pr-5"})," ",Object(o.jsx)("div",{className:"pl-2 mt-4 numbers",children:null===(t=e.summary.tot)||void 0===t?void 0:t.toLocaleString("it")})]}),Object(o.jsx)("span",{className:"border-divider mb-2"}),Object(o.jsxs)("div",{className:"d-flex justify-content-center",children:[" ",Object(o.jsx)("h3",{children:"Totale somministrazioni"})]}),Object(o.jsx)("div",{className:"d-flex justify-content-center",children:"Il dato pu\xf2 subire variazioni negative a seguito di rettifiche da parte delle regioni"})]})]})},j=a(9),p=a.n(j),x=a(28),h=a(19),f=a(5),O=(a(10),a(2)),g=a.n(O),y=function(e){return function(t,a){return t+ +(null===a||void 0===a?void 0:a[e])}},N=function(e){return function(t){return function(a){return a[e]===t}}},_=(N("area")("ITA"),N("TML_FASCIA_ETA"),function(e){return Object(c.a)(Object(c.a)({},e),{},{area:z[e.area],code:e.area})}),z={ABR:"Abruzzo",BAS:"Basilicata",CAL:"Calabria",CAM:"Campania",EMR:"Emilia-Romagna",FVG:"Friuli-Venezia Giulia",LAZ:"Lazio",LIG:"Liguria",LOM:"Lombardia",MAR:"Marche",MOL:"Molise",PAB:"P.A. Bolzano",PAT:"P.A. Trento",PIE:"Piemonte",PUG:"Puglia",SAR:"Sardegna",SIC:"Sicilia",TOS:"Toscana",UMB:"Umbria",VDA:"Valle d'Aosta",VEN:"Veneto"},S=(function(e){var t={};for(var a in e)t[e[a]]=a}(z),"https://raw.githubusercontent.com/italia/covid19-opendata-vaccini/master/dati"),D=[2020,2021,2022,2023],C="".concat(S,"/somministrazioni-vaccini-summary-latest.json"),w="".concat(S,"/somministrazioni-vaccini-latest-"),k="".concat(S,"/vaccini-summary-latest.json"),B="".concat(S,"/punti-somministrazione-tipologia.json"),A="".concat(S,"/last-update-dataset.json"),M="".concat(S,"/consegne-vaccini-latest.json"),T="".concat(S,"/platea.json"),P="".concat(S,"/platea-dose-addizionale-booster.json"),L="".concat(S,"/platea-second-booster.json"),G="".concat(S,"/platea-3a-booster.json"),Y="".concat(S,"/soggetti-guariti.json"),R="".concat(S,"/copertura-vaccinale.json"),F=function(e){var t,a,o,i,n,l,s,c,r,d,u,b=null===e||void 0===e||null===(t=e.dataSommVaxSummary)||void 0===t?void 0:t.data,v=null===e||void 0===e||null===(a=e.dataSommVaxDetail)||void 0===a?void 0:a.data,j=null===e||void 0===e||null===(o=e.dataVaxSummary)||void 0===o?void 0:o.data,p=null===e||void 0===e||null===(i=e.dataCopertura)||void 0===i?void 0:i.data,x=null===e||void 0===e||null===(n=e.dataPlatea)||void 0===n?void 0:n.data,h=null===e||void 0===e||null===(l=e.dataGuariti)||void 0===l?void 0:l.data,O=null===e||void 0===e||null===(s=e.dataSupplierDoses)||void 0===s?void 0:s.data,N=null===e||void 0===e||null===(c=e.dataVaxLocations)||void 0===c?void 0:c.data,z=null===e||void 0===e||null===(r=e.dataPlateaDoseAddizionaleBooster)||void 0===r?void 0:r.data,S=null===e||void 0===e||null===(d=e.dataPlateaSecondBooster)||void 0===d?void 0:d.data,D=null===e||void 0===e||null===(u=e.dataPlateaThirdBooster)||void 0===u?void 0:u.data,C=["60-69","70-79","80+"],w=["0-4 ","05-11","12-19","20-29","30-39","40-49","50-59","60-69","70-79","80+"],k=e.dataLastUpdate.ultimo_aggiornamento,B=null===b||void 0===b?void 0:b.filter((function(e){return"ITA"!==e.area})).reduce(y("totale"),0),A={somministrazioni_over60:g.a.sum(null===p||void 0===p?void 0:p.map((function(e){return C.includes(null===e||void 0===e?void 0:e.fascia_anagrafica)?null===e||void 0===e?void 0:e.vaccinati:0}))),guarigioni_over60:g.a.sum(null===p||void 0===p?void 0:p.map((function(e){return C.includes(null===e||void 0===e?void 0:e.fascia_anagrafica)?null===e||void 0===e?void 0:e.guariti:0}))),prima_dose:g.a.sum(null===v||void 0===v?void 0:v.map((function(e){return"05-11"===(null===e||void 0===e?void 0:e.eta)||"00-04"===(null===e||void 0===e?void 0:e.eta)?0:null===e||void 0===e?void 0:e.d1}))),pregressa_infezione:g.a.sum(null===v||void 0===v?void 0:v.map((function(e){return"05-11"===(null===e||void 0===e?void 0:e.eta)||"00-04"===(null===e||void 0===e?void 0:e.eta)?0:null===e||void 0===e?void 0:e.dpi}))),seconda_dose:g.a.sum(null===v||void 0===v?void 0:v.map((function(e){return"05-11"===(null===e||void 0===e?void 0:e.eta)||"00-04"===(null===e||void 0===e?void 0:e.eta)?0:null===e||void 0===e?void 0:e.d2}))),prima_dose_janssen:g.a.sum(null===v||void 0===v?void 0:v.filter((function(e){return"Janssen"===e.forn&&"05-11"!==(null===e||void 0===e?void 0:e.eta)&&"00-04"!==(null===e||void 0===e?void 0:e.eta)})).map((function(e){return null===e||void 0===e?void 0:e.d1}))),prima_dose_infant:g.a.sum(null===v||void 0===v?void 0:v.map((function(e){return"00-04"===(null===e||void 0===e?void 0:e.eta)?null===e||void 0===e?void 0:e.d1:0}))),seconda_dose_infant:g.a.sum(null===v||void 0===v?void 0:v.map((function(e){return"00-04"===(null===e||void 0===e?void 0:e.eta)?null===e||void 0===e?void 0:e.d2:0}))),pregressa_infezione_infant:g.a.sum(null===v||void 0===v?void 0:v.map((function(e){return"00-04"===(null===e||void 0===e?void 0:e.eta)?null===e||void 0===e?void 0:e.dpi:0}))),prima_dose_janssen_infant:g.a.sum(null===v||void 0===v?void 0:v.filter((function(e){return"Janssen"===e.forn&&"00-04"===(null===e||void 0===e?void 0:e.eta)})).map((function(e){return null===e||void 0===e?void 0:e.d1}))),prima_dose_baby:g.a.sum(null===v||void 0===v?void 0:v.map((function(e){return"05-11"===(null===e||void 0===e?void 0:e.eta)?null===e||void 0===e?void 0:e.d1:0}))),seconda_dose_baby:g.a.sum(null===v||void 0===v?void 0:v.map((function(e){return"05-11"===(null===e||void 0===e?void 0:e.eta)?null===e||void 0===e?void 0:e.d2:0}))),pregressa_infezione_baby:g.a.sum(null===v||void 0===v?void 0:v.map((function(e){return"05-11"===(null===e||void 0===e?void 0:e.eta)?null===e||void 0===e?void 0:e.dpi:0}))),prima_dose_janssen_baby:g.a.sum(null===v||void 0===v?void 0:v.filter((function(e){return"Janssen"===e.forn&&"05-11"===(null===e||void 0===e?void 0:e.eta)})).map((function(e){return null===e||void 0===e?void 0:e.d1}))),dose_addizionale_booster:g.a.sum(null===v||void 0===v?void 0:v.map((function(e){return"05-11"===(null===e||void 0===e?void 0:e.eta)||"00-04"===(null===e||void 0===e?void 0:e.eta)?0:null===e||void 0===e?void 0:e.db1}))),dose_second_booster:g.a.sum(null===v||void 0===v?void 0:v.map((function(e){return"05-11"===(null===e||void 0===e?void 0:e.eta)||"00-04"===(null===e||void 0===e?void 0:e.eta)?0:null===e||void 0===e?void 0:e.db2}))),dose_third_booster:g.a.sum(null===v||void 0===v?void 0:v.map((function(e){return"05-11"===(null===e||void 0===e?void 0:e.eta)||"00-04"===(null===e||void 0===e?void 0:e.eta)?0:null===e||void 0===e?void 0:e.db3}))),dose_addizionale_booster_baby:g.a.sum(null===v||void 0===v?void 0:v.map((function(e){return"05-11"===(null===e||void 0===e?void 0:e.eta)?null===e||void 0===e?void 0:e.db1:0})))},M=g.a.sum(null===x||void 0===x?void 0:x.map((function(e){return"05-11"!==(null===e||void 0===e?void 0:e.eta)&&"00-04"!==(null===e||void 0===e?void 0:e.eta)?null===e||void 0===e?void 0:e.totale_popolazione:0}))),T=g.a.sum(null===x||void 0===x?void 0:x.map((function(e){return"05-11"===(null===e||void 0===e?void 0:e.eta)?null===e||void 0===e?void 0:e.totale_popolazione:0}))),P=g.a.sum(null===x||void 0===x?void 0:x.map((function(e){return"00-04"===(null===e||void 0===e?void 0:e.eta)?null===e||void 0===e?void 0:e.totale_popolazione:0}))),L=g.a.sum(null===x||void 0===x?void 0:x.map((function(e){return C.includes(null===e||void 0===e?void 0:e.eta)?null===e||void 0===e?void 0:e.totale_popolazione:0}))),G=g.a.sum(null===z||void 0===z?void 0:z.map((function(e){return"05-11"!==(null===e||void 0===e?void 0:e.categoria_prevalente)&&"00-04"!==(null===e||void 0===e?void 0:e.categoria_prevalente)?null===e||void 0===e?void 0:e.totale_popolazione:0}))),Y=g.a.sum(null===z||void 0===z?void 0:z.map((function(e){return"05-11"===(null===e||void 0===e?void 0:e.categoria_prevalente)?null===e||void 0===e?void 0:e.totale_popolazione:0}))),R=g.a.sum(null===S||void 0===S?void 0:S.map((function(e){return null===e||void 0===e?void 0:e.totale_popolazione}))),F=g.a.sum(null===D||void 0===D?void 0:D.map((function(e){return null===e||void 0===e?void 0:e.totale_popolazione}))),I=g.a.sum(null===h||void 0===h?void 0:h.map((function(e){return"05-11"!==(null===e||void 0===e?void 0:e.eta)&&"00-04"!==(null===e||void 0===e?void 0:e.eta)?null===e||void 0===e?void 0:e.guariti_senza_somm:0}))),V=g.a.sum(null===h||void 0===h?void 0:h.map((function(e){return"05-11"!==(null===e||void 0===e?void 0:e.eta)&&"00-04"!==(null===e||void 0===e?void 0:e.eta)?null===e||void 0===e?void 0:e.guariti_post_somm:0}))),E=g.a.sum(null===h||void 0===h?void 0:h.map((function(e){return"05-11"!==(null===e||void 0===e?void 0:e.eta)&&"00-04"!==(null===e||void 0===e?void 0:e.eta)?null===e||void 0===e?void 0:e.guariti_post_1booster:0}))),J=g.a.sum(null===h||void 0===h?void 0:h.map((function(e){return"05-11"!==(null===e||void 0===e?void 0:e.eta)&&"00-04"!==(null===e||void 0===e?void 0:e.eta)?null===e||void 0===e?void 0:e.guariti_post_2booster:0}))),U=g.a.sum(null===h||void 0===h?void 0:h.map((function(e){return"05-11"===(null===e||void 0===e?void 0:e.eta)?null===e||void 0===e?void 0:e.guariti_senza_somm:0}))),H={totalGuaritiNotBaby:I,totalGuaritiDoppiaNotBaby:V,totalGuaritiBoosterNotBaby:E,totalGuaritiSecondBoosterNotBaby:J,totalPlateaDoseAddizionaleBoosterBaby:Y,totalGuaritiDoppiaBaby:g.a.sum(null===h||void 0===h?void 0:h.map((function(e){return"05-11"===(null===e||void 0===e?void 0:e.eta)?null===e||void 0===e?void 0:e.guariti_post_somm:0}))),totalGuaritiBaby:U,totalGuaritiInfant:g.a.sum(null===h||void 0===h?void 0:h.map((function(e){return"00-04"===(null===e||void 0===e?void 0:e.eta)?null===e||void 0===e?void 0:e.guariti_senza_somm:0}))),totalPlatea:M,totalPlateaBaby:T,totalPlateaInfant:P,totalPlateaDoseAddizionaleBooster:G,totalPlateaDoseSecondBooster:R,totalPlateaDoseThirdBooster:F,totalPlateaOver60:L},$={guariti:"Guarigioni 120 gg",somministrazioni:"Somministrazioni 120 gg",totale:"Totale fascia"},W=Object.keys($),X=Object.values($),Z=g()(p).filter((function(e){return C.includes(e.fascia_anagrafica)})).groupBy("fascia_anagrafica").map((function(e,t){var a="80+"===t?"Fascia over 80":"Fascia "+t,o={guariti:g.a.sum(e.map((function(e){return e.guariti}))),somministrazioni:g.a.sum(e.map((function(e){return e.vaccinati}))),totale:g.a.sum(x.filter((function(e){return e.eta===t})).map((function(e){return e.totale_popolazione})))};return{label:a,guariti:o.guariti,somministrazioni:o.somministrazioni>o.guariti?o.somministrazioni-o.guariti:0,totale:o.totale>o.somministrazioni?o.totale-o.somministrazioni:0}})).value().sort((function(e,t){return e.label<t.label?1:-1})),q=g()(null===p||void 0===p?void 0:p.map(_)).filter((function(e){return C.includes(e.fascia_anagrafica)})).groupBy("code").map((function(e,t){var a,o={code:t,area:null===(a=g.a.head(e))||void 0===a?void 0:a.area,totale:g.a.sum(e.map((function(e){return e.guariti+e.vaccinati})))},i=g.a.sum(x.filter((function(e){return e.area===t&&C.includes(e.eta)})).map((function(e){return e.totale_popolazione})));o.totale=o.totale/i*100;var n,l=Object(f.a)(w.filter((function(e){return C.includes(e)})));try{var s=function(){var a=n.value,i="80+"===a?"fascia_over_80":"fascia_"+a;o[i]=g.a.sum(e.filter((function(e){return a===e.fascia_anagrafica})).map((function(e){return e.guariti+e.vaccinati})));var l=g.a.sum(x.filter((function(e){return e.area===t&&e.eta===a})).map((function(e){return e.totale_popolazione})));o[i]=o[i]/l*100};for(l.s();!(n=l.n()).done;)s()}catch(c){l.e(c)}finally{l.f()}return o})).value(),K={};g()(null===p||void 0===p?void 0:p.map(_)).filter((function(e){return C.includes(e.fascia_anagrafica)})).groupBy("code").map((function(e,t){return K[t]=g()(null===e||void 0===e?void 0:e.map(_)).groupBy("fascia_anagrafica").map((function(e,a){var o="80+"===a?"Fascia over 80":"Fascia "+a,i={guariti:g.a.sum(e.map((function(e){return e.guariti}))),somministrazioni:g.a.sum(e.map((function(e){return e.vaccinati}))),totale:g.a.sum(x.filter((function(e){return e.eta===a&&e.area===t})).map((function(e){return e.totale_popolazione})))};return{label:o,guariti:i.guariti,somministrazioni:i.somministrazioni>i.guariti?i.somministrazioni-i.guariti:0,totale:i.totale>i.somministrazioni?i.totale-i.somministrazioni:0}})).value().sort((function(e,t){return e.label<t.label?1:-1})),e})).value();var Q={over60:X,keyValueOver60:$,keysOver60:W,over60Color:["#090d4d","#244bb3","#b6d5f4"],over60Data:Z,over60RegionData:K,over60MapData:q},ee=null===j||void 0===j?void 0:j.map(_),te=g.a.groupBy(ee,"code"),ae=g()(null===v||void 0===v?void 0:v.map(_)).groupBy("code").map((function(e,t){var a,o=g.a.head(te[t]);return{code:t,area:null===(a=g.a.head(e))||void 0===a?void 0:a.area,dosi_consegnate:o.dosi_consegnate||0,dosi_somministrate:o.dosi_somministrate||0,percentuale_somministrazione:o.percentuale_somministrazione||0}})).value(),oe=g.a.sum(null===h||void 0===h?void 0:h.map((function(e){return(null===e||void 0===e?void 0:e.guariti_senza_somm)+(null===e||void 0===e?void 0:e.guariti_post_somm)+(null===e||void 0===e?void 0:e.guariti_post_1booster)+(null===e||void 0===e?void 0:e.guariti_post_2booster)}))),ie={senza:"Guariti senza somministrazione da al massimo 6 mesi",post:"Guariti post 2\xaa dose/unica dose da al massimo 4 mesi",booster:"Guariti post 1\xaa dose booster da al massimo 6 mesi","2booster":"Guariti post 2\xaa dose booster da al massimo 6 mesi"},ne=Object.keys(ie),le=Object.values(ie),se=g()(h).groupBy("eta").map((function(e,t){var a="Fascia "+t;"80+"===t&&(a="Fascia over 80"),"00-04"===t&&(a="Fascia 0-4");var o={senza:g.a.sum(e.map((function(e){return e.guariti_senza_somm}))),post:g.a.sum(e.map((function(e){return e.guariti_post_somm}))),booster:g.a.sum(e.map((function(e){return e.guariti_post_1booster}))),"2booster":g.a.sum(e.map((function(e){return e.guariti_post_2booster})))};return{label:a,senza:o.senza,post:o.post>o.senza?o.post-o.senza:0,booster:o.booster>o.post?o.booster-o.post:0,"2booster":o["2booster"]>o.booster?o["2booster"]-o.booster:0,Totale:o.senza+o.post+o.booster+o["2booster"]}})).value().sort((function(e,t){return e.label<t.label?1:-1})),ce=g()(null===h||void 0===h?void 0:h.map(_)).groupBy("code").map((function(e,t){var a,o,i={code:t,area:null===(a=g.a.head(e))||void 0===a?void 0:a.area,guariti:g.a.sum(e.map((function(e){return e.guariti_senza_somm+e.guariti_post_somm+e.guariti_post_1booster+e.guariti_post_2booster})))},n=Object(f.a)(w);try{var l=function(){var t=o.value;i["80+"===t?"fascia_over_80":"fascia_"+t]=g.a.sum(e.filter((function(e){return t===e.eta})).map((function(e){return e.guariti_senza_somm+e.guariti_post_somm+e.guariti_post_1booster+e.guariti_post_2booster})))};for(n.s();!(o=n.n()).done;)l()}catch(s){n.e(s)}finally{n.f()}return i})).value(),re={};g()(null===h||void 0===h?void 0:h.map(_)).groupBy("code").map((function(e,t){return re[t]=g()(null===e||void 0===e?void 0:e.map(_)).groupBy("eta").map((function(e,t){var a="Fascia "+t;"80+"===t&&(a="Fascia over 80"),"00-04"===t&&(a="Fascia 0-4");var o={senza:g.a.sum(e.map((function(e){return e.guariti_senza_somm}))),post:g.a.sum(e.map((function(e){return e.guariti_post_somm}))),booster:g.a.sum(e.map((function(e){return e.guariti_post_1booster}))),"2booster":g.a.sum(e.map((function(e){return e.guariti_post_2booster})))};return{label:a,senza:o.senza,post:o.post>o.senza?o.post-o.senza:0,booster:o.booster>o.post?o.booster-o.post:0,"2booster":o["2booster"]>o.booster?o["2booster"]-o.booster:0,Totale:o.senza+o.post+o.booster+o["2booster"]}})).value().sort((function(e,t){return e.label<t.label?1:-1})),e})).value();var de,ue={totalGuaritiHealedSection:oe,healed:le,keyValueHealed:ie,keysHealed:ne,healedColor:["#b6d5f4","#0a5dbb","#244bb3","#090d4d"],healedData:se,healedRegionData:re,healedMapData:ce},be=["#0f69c9","#4d99eb","#77b2f2","#b5d4f5","#d1e0f0","#edf2f7","#ffffff"],me={},ve=[],je=Object(f.a)(e.dataSommVaxDetail.data);try{for(je.s();!(de=je.n()).done;){var pe=de.value;ve.includes(pe.forn)||ve.push(pe.forn)}}catch(Ee){je.e(Ee)}finally{je.f()}var xe=ve.indexOf("Pfizer Pediatrico");-1!==xe&&(ve.splice(xe,1),ve.push("Pfizer Pediatrico"));for(var he=0,fe=ve;he<fe.length;he++){var Oe=fe[he];Object.keys(me).length-1<be.length?me[Oe]=be[Object.keys(me).length]:me[Oe]="#ffffff"}var ge={},ye=0,Ne=[],_e=new Date("2020-12-21");do{var ze,Se={label:m()(_e).format("DD/MM"),from:m()(_e).format("YYYY-MM-DD"),labelfrom:m()(_e).format("DD/MM"),to:m()(new Date(_e.getTime()+5184e5)).format("YYYY-MM-DD"),labelto:m()(new Date(_e.getTime()+5184e5)).format("DD/MM"),total:0},De=Object(f.a)(ve);try{for(De.s();!(ze=De.n()).done;){Se[ze.value]=0}}catch(Ee){De.e(Ee)}finally{De.f()}ge[m()(_e).format("YYYY-MM-DD")]=ye,ge[m()(new Date(_e.getTime()+864e5)).format("YYYY-MM-DD")]=ye,ge[m()(new Date(_e.getTime()+1728e5)).format("YYYY-MM-DD")]=ye,ge[m()(new Date(_e.getTime()+2592e5)).format("YYYY-MM-DD")]=ye,ge[m()(new Date(_e.getTime()+3456e5)).format("YYYY-MM-DD")]=ye,ge[m()(new Date(_e.getTime()+432e6)).format("YYYY-MM-DD")]=ye,ge[m()(new Date(_e.getTime()+5184e5)).format("YYYY-MM-DD")]=ye,ye++,Ne.push(Se),_e=new Date(_e.getTime()+6048e5)}while(_e<=new Date);var Ce,we=Object(f.a)(e.dataSommVaxDetail.data);try{for(we.s();!(Ce=we.n()).done;){var ke=Ce.value,Be=Ne[ge[m()(new Date(ke.data)).format("YYYY-MM-DD")]];Be.total+=ke.f+ke.m,Be[ke.forn]+=ke.f+ke.m}}catch(Ee){we.e(Ee)}finally{we.f()}var Ae={suppliersColor:me,suppliers:ve,suppliersWeek:Ne},Me={third_booster:"3\xaa dose Booster ",second_booster:"2\xaa dose Booster ",addizionale:"1\xaa dose Booster",seconda:"2\xaa dose/unica dose",prima:"1\xaa dose",totale:"Totale fascia"},Te=Object.keys(Me),Pe=Object.values(Me),Le=g()(v).map((function(e){return"90+"!==e.eta&&"80-89"!==e.eta||(e.eta="80+"),e})).groupBy("eta").map((function(e,t){var a="Fascia "+t;"80+"===t&&(a="Fascia over 80"),"00-04"===t&&(a="Fascia 0-4");var o={prima:g.a.sum(e.filter((function(e){return"Janssen"!==e.forn})).map((function(e){return e.d1}))),seconda:g.a.sum(e.filter((function(e){return"Janssen"!==e.forn})).map((function(e){return e.d2})))+g.a.sum(e.filter((function(e){return"Janssen"===e.forn})).map((function(e){return e.d1})))+g.a.sum(e.map((function(e){return e.dpi}))),addizionale:g.a.sum(e.map((function(e){return e.db1}))),second_booster:g.a.sum(e.map((function(e){return e.db2}))),third_booster:g.a.sum(e.map((function(e){return e.db3}))),"Totale platea":g.a.sum(x.filter((function(e){return e.eta===t})).map((function(e){return e.totale_popolazione})))};return{label:a,third_booster:o.third_booster,second_booster:o.second_booster>o.third_booster?o.second_booster-o.third_booster:0,addizionale:o.addizionale>o.second_booster?o.addizionale-o.second_booster:0,seconda:o.seconda>o.addizionale?o.seconda-o.addizionale:0,prima:o.prima>o.seconda?o.prima-o.seconda:0,totale:o["Totale platea"]>o.prima?o["Totale platea"]-o.prima:0,"Totale platea":o["Totale platea"]}})).value().sort((function(e,t){return e.label<t.label?1:-1})),Ge=g()(null===v||void 0===v?void 0:v.map(_)).map((function(e){return"90+"!==e.eta&&"80-89"!==e.eta||(e.eta="80+"),e})).groupBy("code").map((function(e,t){var a,o={code:t,area:null===(a=g.a.head(e))||void 0===a?void 0:a.area,somministrazioni:g.a.sum(e.filter((function(e){return"Janssen"!==e.forn})).map((function(e){return e.d2})))+g.a.sum(e.filter((function(e){return"Janssen"===e.forn})).map((function(e){return e.d1})))+g.a.sum(e.map((function(e){return e.dpi})))},i=g.a.sum(x.filter((function(e){return e.area===t})).map((function(e){return e.totale_popolazione})));o.somministrazioni=o.somministrazioni/i*100;var n,l=Object(f.a)(w);try{var s=function(){var a=n.value,i="80+"===a?"fascia_over_80":"fascia_"+a;o[i]=g.a.sum(e.filter((function(e){return a===e.eta&&"Janssen"!==e.forn})).map((function(e){return e.d2})))+g.a.sum(e.filter((function(e){return a===e.eta&&"Janssen"===e.forn})).map((function(e){return e.d1})))+g.a.sum(e.filter((function(e){return a===e.eta})).map((function(e){return e.dpi})));var l=g.a.sum(x.filter((function(e){return e.area===t&&e.eta===a})).map((function(e){return e.totale_popolazione})));o[i]=o[i]/l*100};for(l.s();!(n=l.n()).done;)s()}catch(Ee){l.e(Ee)}finally{l.f()}return o})).value(),Ye={};g()(null===v||void 0===v?void 0:v.map(_)).map((function(e){return"90+"!==e.eta&&"80-89"!==e.eta||(e.eta="80+"),e})).groupBy("code").map((function(e,t){return Ye[t]=g()(null===e||void 0===e?void 0:e.map(_)).groupBy("eta").map((function(e,a){var o="Fascia "+a;"80+"===a&&(o="Fascia over 80"),"00-04"===a&&(o="Fascia 0-4");var i={prima:g.a.sum(e.filter((function(e){return"Janssen"!==e.forn})).map((function(e){return e.d1}))),seconda:g.a.sum(e.filter((function(e){return"Janssen"!==e.forn})).map((function(e){return e.d2})))+g.a.sum(e.filter((function(e){return"Janssen"===e.forn&&e.area===t})).map((function(e){return e.d1})))+g.a.sum(e.filter((function(e){return e.area===t})).map((function(e){return e.dpi}))),addizionale:g.a.sum(e.map((function(e){return e.db1}))),second_booster:g.a.sum(e.map((function(e){return e.db2}))),third_booster:g.a.sum(e.map((function(e){return e.db3}))),"Totale platea":g.a.sum(x.filter((function(e){return e.eta===a&&e.area===t})).map((function(e){return e.totale_popolazione})))};return{label:o,third_booster:i.third_booster,second_booster:i.second_booster>i.third_booster?i.second_booster-i.third_booster:0,addizionale:i.addizionale>i.second_booster?i.addizionale-i.second_booster:0,seconda:i.seconda>i.addizionale?i.seconda-i.addizionale:0,prima:i.prima>i.seconda?i.prima-i.seconda:0,totale:i["Totale platea"]>i.prima?i["Totale platea"]-i.prima:0,"Totale platea":i["Totale platea"]}})).value().sort((function(e,t){return e.label<t.label?1:-1})),e})).value();var Re={keyValueDoses:Me,keysDosesAges:Te,dosesAges:Pe,dosesAgesColor:["#090d4d","#0b34a3","#244bb3","#0a5dbb","#3073cf","#548bd6","#b6d5f4"],dosesAgesData:Le,dosesAgesRegionData:Ye,secondDosesMapData:Ge},Fe=g.a.sum(O.map((function(e){return null===e||void 0===e?void 0:e.numero_dosi}))),Ie=g.a.groupBy(O,"forn"),Ve=Object.keys(Ie).map((function(e){var t=Ie[e].map((function(e){return e.numero_dosi}));return{totale:g.a.sum(t),fornitore:e,allDoses:Ie[e]}})).sort((function(e,t){return e.totale<t.totale?1:-1}));return{timestamp:k,tot:B,databoxContent:H,over60Content:Q,healedContent:ue,weekContent:Ae,agedosesContent:Re,deliverySummary:ee,locations:null===N||void 0===N?void 0:N.map(_),locationsByRegion:g()(null===N||void 0===N?void 0:N.map(_)).groupBy("area").map((function(e,t){return{area:t,locations:e.length}})).value(),totalDeliverySummary:ae,totalDoses:A,allDosesSupplier:Ve,totalSuplier:Fe}},I=function(){var e=Object(h.a)(p.a.mark((function e(){var t,a,o,i,n,l,s,d,u,b,m,v,j,h,f,O,g,y,N,_,z,S,I,V,E,J,U,H,$,W,X,Z;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([fetch(C),fetch(k),fetch(B),fetch(A),fetch(M),fetch(T),fetch(P),fetch(L),fetch(G),fetch(Y),fetch(R)]);case 2:for(t=e.sent,a=Object(r.a)(t,11),o=a[0],i=a[1],n=a[2],l=a[3],s=a[4],d=a[5],u=a[6],b=a[7],m=a[8],v=a[9],j=a[10],h=[],f=0;f<D.length;f++)h.push(fetch(w+D[f]+".json"));return e.next=19,Promise.all(h);case 19:return O=e.sent,e.next=22,Promise.all([o.json(),i.json(),n.json(),l.json(),s.json(),d.json(),u.json(),b.json(),m.json(),v.json(),j.json()]);case 22:for(g=e.sent,y=Object(r.a)(g,11),N=y[0],_=y[1],z=y[2],S=y[3],I=y[4],V=y[5],E=y[6],J=y[7],U=y[8],H=y[9],$=y[10],W=[],f=0;f<O.length;f++)W.push(O[f].json());return e.next=39,Promise.all(W);case 39:for(X=e.sent,Z=X[0],f=0;f<X.length;f++)Z.data=[].concat(Object(x.a)(Z.data),Object(x.a)(X[f].data));return e.abrupt("return",Object(c.a)({},F({dataSommVaxSummary:N,dataSommVaxDetail:Z,dataVaxSummary:_,dataLastUpdate:S,dataVaxLocations:z,dataSupplierDoses:I,dataPlatea:V,dataPlateaDoseAddizionaleBooster:E,dataPlateaSecondBooster:J,dataPlateaThirdBooster:U,dataGuariti:H,dataCopertura:$})));case 43:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=a(6),E=a.n(V),J=a(20),U=a.n(J);!function(){function e(e,t,a){var o=/(^-?[0-9]+(\.?[0-9]*)[df]?e?[0-9]?%?$|^0x[0-9a-f]+$|[0-9]+)/gi,i=/(^[ ]*|[ ]*$)/g,n=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,l=/^0x[0-9a-f]+$/i,s=/^0/,c=/(<([^>]+)>)/gi,r=e.toString().replace(i,"")||"",d=t.toString().replace(i,"")||"";a||(r=r.replace(c,""),d=d.replace(c,""));var u=r.replace(o,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),b=d.replace(o,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=parseInt(r.match(l),10)||1!==u.length&&r.match(n)&&Date.parse(r),v=parseInt(d.match(l),10)||m&&d.match(n)&&Date.parse(d)||null;if(v){if(m<v)return-1;if(m>v)return 1}for(var j=0,p=Math.max(u.length,b.length);j<p;j++){var x=!(u[j]||"").match(s)&&parseFloat(u[j],10)||u[j]||0,h=!(b[j]||"").match(s)&&parseFloat(b[j],10)||b[j]||0;if(isNaN(x)!==isNaN(h))return isNaN(x)?1:-1;if(typeof x!==typeof h&&(x+="",h+=""),x<h)return-1;if(x>h)return 1}return 0}V.extend(V.fn.dataTableExt.oSort,{"natural-asc":function(t,a){return e(t,a,!0)},"natural-desc":function(t,a){return-1*e(t,a,!0)},"natural-nohtml-asc":function(t,a){return e(t,a,!1)},"natural-nohtml-desc":function(t,a){return-1*e(t,a,!1)},"natural-ci-asc":function(t,a){return e(t=t.toString().toLowerCase(),a=a.toString().toLowerCase(),!0)},"natural-ci-desc":function(t,a){return-1*e(t=t.toString().toLowerCase(),a=a.toString().toLowerCase(),!0)}})}(),V.DataTable=U.a;var H=[{title:"Regioni",data:"area"},{title:"Dosi somministrate",data:"dosi_somministrate"},{title:"Dosi consegnate",data:"dosi_consegnate"},{title:"%",data:"percentuale_somministrazione"}],$=function(e){var t=e.deliveryTableData;return Object(i.useEffect)((function(){V("#datatable").find("tfoot"),V("#datatable").find("table").append("<tfoot><th></th><th></th><th></th><th></th></tfoot>")}),[]),Object(i.useEffect)((function(){V("#datatable").find("table").DataTable({dom:"<'row'<'col-12'l>><'row'<'col-12'tr>>",paging:!1,searching:!0,destroy:!0,data:t,columns:H,language:{decimal:",",thousands:"."},columnDefs:[{targets:0,width:"160px"},{type:"natural",targets:3},{targets:[1,2,3],render:function(e,t,a){return Number(e).toLocaleString("it")}}],footerCallback:function(e,t,a,o,i){var n=V("#datatable").find("table").DataTable(),l=function(e){return"string"===typeof e?1*e.replace(/[$,]/g,""):"number"===typeof e?e:0},s=n.column(2,{search:"applied"}).data().reduce((function(e,t){return l(e)+l(t)}),0),c=n.column(1,{search:"applied"}).data().reduce((function(e,t){return l(e)+l(t)}),0),r=s?c/s*100:0;V(n.column(3).footer()).html(r.toFixed(1)),V(n.column(2).footer()).html(s.toLocaleString("it")),V(n.column(1).footer()).html(c.toLocaleString("it")),V(n.column(0).footer()).html("Totale")}})}),[t]),Object(o.jsx)("div",{id:"datatable",children:Object(o.jsx)("table",{className:"table h-100 table-borderless compact table-hover deliveries-table",cellSpacing:"0",width:"100%",style:{paddingBottom:6}})})},W=a(4),X=a(58),Z=function(e){var t=e.handleMapDeliveryClick,a=e.fillMapDeliveryArea,n=e.fillBy,l=e.summary,s=e.tooltip,c=e.percentage,d=Object(i.useState)([]),u=Object(r.a)(d,2),b=u[0],m=u[1],v=Object(i.useState)(0),j=Object(r.a)(v,2),x=j[0],f=j[1];Object(i.useEffect)((function(){if(c)f(100);else{var e=g.a.maxBy(l||{},n);f(e?e[n]:0)}}),[l,n,c]);var O=W.c().center([0,41]).rotate([347,0]).parallels([35,45]).scale(2200).translate([249,239]);return Object(i.useEffect)((function(){(function(){var e=Object(h.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("data/geo/it.json");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,m(X.a(a,a.objects.regions).features);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(o.jsx)("div",{className:"map-area",children:Object(o.jsx)("svg",{className:"h-100 w-100",height:478,children:Object(o.jsxs)("g",{className:"countries",children:[b.map((function(e,i){var c,r,d=e.properties.reg_name,u=g.a.filter(l,(function(e){return e.area===d})),b={};return u&&u.length>0&&(b=u[0]),Object(o.jsx)("path",{d:W.d().projection(O)(e),className:"country",id:"".concat(null===(c=b)||void 0===c||null===(r=c.area)||void 0===r?void 0:r.trim()),fill:a({region:b,maxValue:x,field:n}),stroke:"#FFFFFF",strokeWidth:.7,onClick:function(){return t(b)},children:Object(o.jsx)("title",{children:Object(o.jsx)("span",{className:"bg-info",children:s(b)})})},"path-".concat(i))})),");"]})})})},q=function(e){var t=e.data,a=Object(i.useState)([]),n=Object(r.a)(a,2),l=n[0],s=n[1],c=Object(i.useState)([]),d=Object(r.a)(c,2),u=d[0],b=d[1],m=Object(i.useState)(null),v=Object(r.a)(m,2),j=v[0],p=v[1],x=Object(i.useState)(0),h=Object(r.a)(x,2),f=h[0],g=h[1],y=Object(i.useState)(null),N=Object(r.a)(y,2),_=N[0],z=N[1];Object(i.useEffect)((function(){Object(O.isEmpty)(t)||(s(t.totalDeliverySummary),b(t.totalDeliverySummary),g(t.tot))}),[t]);var S=function(){p(null),b(t.totalDeliverySummary),g(t.tot),z(null),s(t.totalDeliverySummary)};return Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-12 d-flex justify-content-end"})}),Object(o.jsxs)("div",{className:"row p-2 p-3 bg-grey",children:[Object(o.jsx)("div",{className:"col-12 col-lg-6 h-100 order-md-2 order-lg-1 p-1 pb-5",children:Object(o.jsx)($,{deliveryTableData:u,className:"mr-5 h-100"})}),Object(o.jsxs)("div",{className:"col-12 col-lg-6 order-md-1 order-lg-2 text-center",children:[Object(o.jsx)("div",{className:"p-4 position-relative d-lg-none",children:Object(o.jsx)("div",{className:"d-flex justify-content-start pr-5",children:Object(o.jsx)("h5",{className:"pl-4 pl-sm-1 justify-content-center",children:"Distribuzione somministrazioni rispetto alle consegne"})})}),Object(o.jsx)("div",{className:"p-4 d-none d-lg-block map-legend mt-5",children:Object(o.jsx)("div",{className:"d-flex justify-content-end",children:Object(o.jsxs)("h5",{className:"pl-1 pl-sm-1 text-left",children:["Distribuzione",Object(o.jsx)("br",{}),"somministrazioni ",Object(o.jsx)("br",{}),"rispetto alle consegne"]})})}),Object(o.jsx)("div",{className:"justify-content-center mt-5",children:Object(o.jsx)(Z,{fillMapDeliveryArea:function(e){var t=e.region,a=e.maxValue,o=e.field,i=0;if(t.code===j)i=1;else if(j){var n=t[o]/(2*a);i=Object(O.max)([n,.1])}else i=Object(O.max)([t[o]/a,.1]);return"rgba(0,102,204,".concat(i,") ")},summary:l,handleMapDeliveryClick:function(e){if(_&&S(),j===e.code)S();else{var a=Object(O.find)(t.totalDeliverySummary,(function(t){return t.code===e.code}));b([a]),p(e.code),g(a.dosi_somministrate)}},tooltip:function(e){return e.area+" "+(e.percentuale_somministrazione&&e.percentuale_somministrazione.toLocaleString("it"))+"%"},fillBy:"percentuale_somministrazione"})}),Object(o.jsx)("div",{className:"p-4 position-relative",children:Object(o.jsxs)("div",{className:"text-black",children:[Object(o.jsx)("div",{className:"d-flex justify-content-center ",children:Object(o.jsx)("span",{className:"numbers",children:null===f||void 0===f?void 0:f.toLocaleString("it")})}),Object(o.jsx)("div",{className:"d-flex justify-content-center",children:Object(o.jsx)("h5",{children:"Totale somministrazioni"})})]})})]})]}),Object(o.jsx)("div",{children:"Il dato delle somministrazioni delle singole regioni pu\xf2 subire variazioni negative a seguito di rettifiche da parte delle stesse"})]})},K=function(e){var t=e.handleRectClick,a=e.height,n=e.width,l=e.data,s=e.keys,c=e.labels,r=e.colors,d=e.selectedCodeAge,u=e.regionSelected,b=Object(i.useRef)(),m=Object(i.useRef)();Object(i.useEffect)((function(){W.h(m.current).selectAll("svg").remove(),j()}),[l,s,c,d]);var v=function(e){var t=W.h(e.node().parentNode),a=parseInt(e.style("width"),10),o=parseInt(e.style("height"),10),i=a/o;function n(){var a=parseInt(t.style("width"));e.attr("width",a),e.attr("height",Math.round(a/i))}e.attr("viewBox","0 0 ".concat(a," ").concat(o)).attr("preserveAspectRatio","xMinYMid").call(n),W.h(window).on("resize."+t.attr("id"),n)};var j=function(){var e=W.i().keys(s)(l),o=W.h(m.current).append("svg").style("margin-bottom",10).attr("width",n).attr("height",a),i=30,b=60,j=W.g().domain([0,W.e(l,(function(e){return e["Totale platea"]}))]),p=W.f().padding(.2);j.range([0,n]),p.range([0,a]).domain(l.map((function(e){return e.label}))),o.attr("width",n+2*b).attr("height",a+2*i).call(v).attr("id","svg-stack-bar");var x=o.append("g").attr("transform","translate(".concat(b,",").concat(i,")"));x.append("g").attr("class","axis").attr("transform","translate(0, 0)").style("font-size","12px").call(W.b(p)).attr("stroke-width",0).selectAll("text").attr("y",0).attr("x",-30).style("text-anchor","start").style("fill","#19191a");var h=W.h("body").append("div").attr("class","d3-tooltip").style("position","absolute").style("z-index","10").style("display","none").style("padding","10px").style("background","rgba(0,0,0,0.8)").style("border-radius","4px").style("color","#fff"),f=x.selectAll().data(e);f.enter().append("g").attr("fill",(function(e){return r[e.index]})).attr("dose",(function(e){return e.key})).selectAll("rect").data((function(e){return e})).enter().append("rect").on("click",(function(e,a){t(a),h.html("").style("display","none")})).attr("opacity",(function(e){var t=e.data.label.toLowerCase().replaceAll(" ","_");return d===t?1:d?.3:1})).attr("x",(function(e){return j(e[0])+60})).attr("y",(function(e){return p(e.data.label)})).attr("width",(function(e){return j(e[1])-j(e[0])})).attr("height",p.bandwidth()).on("mouseover",(function(e,t){W.h(this).transition().attr("fill","#0BD9D3")})).on("mousemove",(function(e,t){var a=u?" "+u:"";if("totale"===W.h(this.parentNode).attr("dose"))h.style("top",e.pageY-10+"px").style("left",e.pageX+10+"px"),h.html('<div style="text-align: center; line-height: 1.15rem;">\n                <div style="font-size: 12px;">'.concat(a,"</div>\n                <div><b>").concat(t.data.label,'</b></div>\n                <div style="font-size: 14px;">Platea</div>\n                <div>').concat(t.data["Totale platea"].toLocaleString("it"),"</div>\n                </div>")).style("display",null);else{var o=0;if("prima"===W.h(this.parentNode).attr("dose"))o=(t.data.prima+t.data.seconda+t.data.addizionale+t.data.second_booster+t.data.third_booster)/t.data["Totale platea"]*100;else if("seconda"===W.h(this.parentNode).attr("dose"))o=(t.data.seconda+t.data.addizionale+t.data.second_booster+t.data.third_booster)/t.data["Totale platea"]*100;else if("addizionale"===W.h(this.parentNode).attr("dose"))o=(t.data.addizionale+t.data.second_booster+t.data.third_booster)/t.data["Totale platea"]*100;else if("second_booster"===W.h(this.parentNode).attr("dose"))o=(t.data.second_booster+t.data.third_booster)/t.data["Totale platea"]*100;else o=t.data.third_booster/t.data["Totale platea"]*100;h.style("top",e.pageY-10+"px").style("left",e.pageX+10+"px"),o<0?h.html('<div style="text-align: center; line-height: 1.15rem;">\n                        <div style="font-size: 12px;">'.concat(a," ").concat(t.data.label,'</div>\n                        <div style="text-align: center"><b>').concat(c[W.h(this.parentNode).attr("dose")],' </b></div>\n                        <div style="font-size: 14px;">Somministrate ').concat(t[1].toLocaleString("it")," su ").concat(t.data["Totale platea"].toLocaleString("it"),"</div>")).style("display",null):h.html('<div style="text-align: center; line-height: 1.15rem;">\n                        <div style="font-size: 12px;">'.concat(a," ").concat(t.data.label,'</div>\n                        <div style="text-align: center"><b>').concat(c[W.h(this.parentNode).attr("dose")],' </b></div>\n                        <div style="font-size: 14px;"><b>(').concat(o.toFixed(2).toLocaleString("it"),' %)</b></div>\n                        <div style="font-size: 14px;">Somministrate ').concat(t[1].toLocaleString("it")," su ").concat(t.data["Totale platea"].toLocaleString("it"),"</div>")).style("display",null)}})).on("mouseout",(function(e){h.html("").style("display","none"),W.h(this).transition().attr("fill",r[e.key])})),f.exit().remove()};return Object(o.jsx)("div",{ref:m,className:"chart svg-container",children:Object(o.jsx)("svg",{ref:b,className:"svg-content-responsive"})})},Q=function(e){var t=e.data,a=Object(i.useState)([]),n=Object(r.a)(a,2),l=n[0],s=n[1],c=Object(i.useState)([]),d=Object(r.a)(c,2),u=d[0],b=d[1],m=Object(i.useState)([]),v=Object(r.a)(m,2),j=v[0],p=v[1],x=Object(i.useState)({}),h=Object(r.a)(x,2),g=h[0],y=h[1],N=Object(i.useState)([]),_=Object(r.a)(N,2),z=_[0],S=_[1],D=Object(i.useState)([]),C=Object(r.a)(D,2),w=C[0],k=C[1],B=Object(i.useState)("somministrazioni"),A=Object(r.a)(B,2),M=A[0],T=A[1],P=Object(i.useState)(null),L=Object(r.a)(P,2),G=L[0],Y=L[1],R=Object(i.useState)(null),F=Object(r.a)(R,2),I=F[0],V=F[1],E=Object(i.useState)(null),J=Object(r.a)(E,2),U=J[0],H=J[1],$=Object(i.useState)(0),W=Object(r.a)($,2),X=W[0],q=W[1];Object(i.useEffect)((function(){Object(O.isEmpty)(t)||(s(t.agedosesContent.dosesAgesColor),b(t.agedosesContent.dosesAges),p(t.agedosesContent.keysDosesAges),y(t.agedosesContent.keyValueDoses),S(t.agedosesContent.dosesAgesData),q(t.tot),k(t.agedosesContent.secondDosesMapData))}),[t]);var Q=function(){H(null),Y(null),V(null),q(t.tot),S(t.agedosesContent.dosesAgesData),T("somministrazioni"),k(t.agedosesContent.secondDosesMapData)};return Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"col-12 d-flex justify-content-center align-items-center section-title mx-2",children:Object(o.jsx)("div",{children:Object(o.jsx)("h3",{children:"Somministrazioni per fascia d'et\xe0 - dose"})})}),Object(o.jsxs)("div",{className:"col-12 col-md-12 m-3",children:[Object(o.jsx)("div",{className:"d-lg-none bg-box box-mobile m-3",children:Object(o.jsxs)("div",{className:"text-white",children:[Object(o.jsx)("div",{className:"d-flex justify-content-center pt-5",children:Object(o.jsx)("h5",{children:"Totale somministrazioni"})}),Object(o.jsx)("div",{className:"d-flex justify-content-center",children:Object(o.jsx)("p",{className:"box-numbers",children:X&&X.toLocaleString("it")})}),Object(o.jsx)("div",{className:"col-12 d-flex justify-content-end pb-2",children:Object(o.jsx)("img",{alt:"reset-plot2",src:"reset_white.png",onClick:Q,height:"36px"})})]})}),Object(o.jsx)("div",{className:"col-4 col-md-4 d-none d-lg-block",children:Object(o.jsx)("div",{className:"bg-box box-card box-left",children:Object(o.jsxs)("div",{className:"text-white",children:[Object(o.jsx)("div",{className:"d-flex justify-content-start pt-3 pl-5",children:Object(o.jsx)("h5",{children:"Totale somministrazioni"})}),Object(o.jsx)("div",{className:"d-flex justify-content-start pl-5",children:Object(o.jsx)("p",{className:"box-numbers",children:X&&X.toLocaleString("it")})}),Object(o.jsx)("div",{className:"col-12 d-flex justify-content-end pb-2",children:Object(o.jsx)("img",{alt:"Reset",src:"reset_white.png",onClick:Q,height:"36px"})})]})})})]}),Object(o.jsxs)("div",{className:"col-12 col-md-6",children:[Object(o.jsx)(K,{width:350,height:300,property:{xprop:"label",yprop:"total"},handleRectClick:function(e){G&&Q();var a=e.data.label.toLowerCase().replaceAll(" ","_");if(U===a)Q();else{H(a),T(a);var o,i=Object(f.a)(t.agedosesContent.dosesAgesData);try{for(i.s();!(o=i.n()).done;){var n=o.value;if(n.label===e.data.label){q(n.totale);break}}}catch(l){i.e(l)}finally{i.f()}}},regionSelected:I,selectedCodeAge:U,colors:l,keys:j,labels:g,data:z}),Object(o.jsx)("div",{className:"row mb-4 ml-4",children:u.map((function(e,t){return Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"circle",style:{backgroundColor:l[t]}}),Object(o.jsx)("div",{className:"legend-dark mr-4",children:e})]},e)}))}),Object(o.jsx)("p",{className:"d-block d-sm-none text-center",children:"*Tieni premuto sulle barre del grafico per visualizzare i dati sulle dosi somministrate"}),Object(o.jsx)("p",{className:"d-none d-sm-block text-center",children:"*Passa con il mouse sulle barre del grafico per visualizzare i dati sulle dosi somministrate"})]}),Object(o.jsxs)("div",{className:"col-12 col-md-6",children:[Object(o.jsx)("div",{className:"p-4 d-lg-none",children:Object(o.jsx)("div",{className:"text-center",children:Object(o.jsx)("h5",{children:"Percentuale vaccinati per regione"})})}),Object(o.jsx)(Z,{fillMapDeliveryArea:function(e){var t=e.region,a=e.maxValue,o=e.field,i=0;if(t.code===G)i=1;else if(G){var n=t[o]/(2*a);i=Object(O.max)([n,.1])}else i=Object(O.max)([t[o]/a,.1]);return"rgba(0,102,204,".concat(i,") ")},summary:w,handleMapDeliveryClick:function(e){if(U&&Q(),G===e.code)Q();else{Y(e.code),V(e.area),S(t.agedosesContent.dosesAgesRegionData[e.code]);var a,o=Object(f.a)(null===t||void 0===t?void 0:t.totalDeliverySummary);try{for(o.s();!(a=o.n()).done;){var i=a.value;i.code===e.code&&q(i.dosi_somministrate)}}catch(n){o.e(n)}finally{o.f()}}},fillBy:M,percentage:!0,tooltip:function(e){var t,a=null,o=Object(f.a)(w);try{for(o.s();!(t=o.n()).done;){var i=t.value;i.code===e.code&&(a=i)}}catch(n){o.e(n)}finally{o.f()}return e.area+" "+(e[M]&&e[M].toFixed(2).toLocaleString("it")+"%")+" "+(a&&a[M]&&"("+a[M].toLocaleString("it")+")")},className:"ml-5"}),Object(o.jsx)("div",{className:"p-4 d-none d-lg-block map-legend",children:Object(o.jsx)("div",{className:"d-flex justify-content-start pr-5",children:Object(o.jsxs)("h5",{className:"pl-3 pl-sm-1",children:["Percentuale vaccinati",Object(o.jsx)("br",{})," per regione"]})})})]})]})},ee=function(e){var t=e.handleRectClick,a=e.height,n=e.width,l=e.data,s=e.keys,c=e.labels,r=e.colors,d=e.selectedCodeAge,u=e.regionSelected,b=Object(i.useRef)(),m=Object(i.useRef)();Object(i.useEffect)((function(){W.h(m.current).selectAll("svg").remove(),j()}),[l,s,c,d]);var v=function(e){var t=W.h(e.node().parentNode),a=parseInt(e.style("width"),10),o=parseInt(e.style("height"),10),i=a/o;function n(){var a=parseInt(t.style("width"));e.attr("width",a),e.attr("height",Math.round(a/i))}e.attr("viewBox","0 0 ".concat(a," ").concat(o)).attr("preserveAspectRatio","xMinYMid").call(n),W.h(window).on("resize."+t.attr("id"),n)};var j=function(){var e=W.i().keys(s)(l),o=W.h(m.current).append("svg").style("margin-bottom",10).attr("width",n).attr("height",a),i=30,b=60,j=W.g().domain([0,W.e(l,(function(e){return e.post+e.senza+e.booster+e["2booster"]}))]),p=W.f().padding(.2);j.range([0,n]),p.range([0,a]).domain(l.map((function(e){return e.label}))),o.attr("width",n+2*b).attr("height",a+2*i).call(v).attr("id","svg-stack-bar");var x=o.append("g").attr("transform","translate(".concat(b,",").concat(i,")"));x.append("g").attr("class","axis").attr("transform","translate(0, 0)").style("font-size","12px").call(W.b(p)).attr("stroke-width",0).selectAll("text").attr("y",0).attr("x",-30).style("text-anchor","start").style("fill","#19191a");var h=W.h("body").append("div").attr("class","d3-tooltip").style("position","absolute").style("z-index","10").style("display","none").style("padding","10px").style("background","rgba(0,0,0,0.8)").style("border-radius","4px").style("color","#fff"),f=x.selectAll().data(e);f.enter().append("g").attr("fill",(function(e){return r[e.index]})).attr("dose",(function(e){return e.key})).selectAll("rect").data((function(e){return e})).enter().append("rect").on("click",(function(e,a){t(a),h.html("").style("display","none")})).attr("opacity",(function(e){var t=e.data.label.toLowerCase().replaceAll(" ","_");return d===t?1:d?.3:1})).attr("x",(function(e){return j(e[0])+60})).attr("y",(function(e){return p(e.data.label)})).attr("width",(function(e){return j(e[1])-j(e[0])})).attr("height",p.bandwidth()).on("mouseover",(function(e,t){W.h(this).transition().attr("fill","#0BD9D3")})).on("mousemove",(function(e,t){var a=u?" "+u:"";h.style("top",e.pageY-10+"px").style("left",e.pageX+10+"px"),h.html('<div style="text-align: center; line-height: 1.15rem;">\n              <div style="font-size: 12px;">'.concat(a," ").concat(t.data.label,'</div>\n              <div style="text-align: center"><b>').concat(c[W.h(this.parentNode).attr("dose")],' </b></div>\n              <div style="font-size: 14px;">').concat(t[1].toLocaleString("it"),"</div>")).style("display",null)})).on("mouseout",(function(e){h.html("").style("display","none"),W.h(this).transition().attr("fill",r[e.key])})),f.exit().remove()};return Object(o.jsx)("div",{ref:m,className:"chart svg-container",children:Object(o.jsx)("svg",{ref:b,className:"svg-content-responsive"})})},te=function(e){var t=e.data,a=Object(i.useState)([]),n=Object(r.a)(a,2),l=n[0],s=n[1],c=Object(i.useState)([]),d=Object(r.a)(c,2),u=d[0],b=d[1],m=Object(i.useState)([]),v=Object(r.a)(m,2),j=v[0],p=v[1],x=Object(i.useState)([]),h=Object(r.a)(x,2),g=h[0],y=h[1],N=Object(i.useState)({}),_=Object(r.a)(N,2),z=_[0],S=_[1],D=Object(i.useState)([]),C=Object(r.a)(D,2),w=C[0],k=C[1],B=Object(i.useState)("guariti"),A=Object(r.a)(B,2),M=A[0],T=A[1],P=Object(i.useState)(null),L=Object(r.a)(P,2),G=L[0],Y=L[1],R=Object(i.useState)(null),F=Object(r.a)(R,2),I=F[0],V=F[1],E=Object(i.useState)(null),J=Object(r.a)(E,2),U=J[0],H=J[1],$=Object(i.useState)(0),W=Object(r.a)($,2),X=W[0],q=W[1];Object(i.useEffect)((function(){Object(O.isEmpty)(t)||(s(t.healedContent.healedColor),b(t.healedContent.healed),y(t.healedContent.healedData),p(t.healedContent.keysHealed),q(t.healedContent.totalGuaritiHealedSection),k(t.healedContent.healedMapData),S(t.healedContent.keyValueHealed))}),[t]);var K=function(){H(null),Y(null),V(null),q(t.healedContent.totalGuaritiHealedSection),y(t.healedContent.healedData),T("guariti"),k(t.healedContent.healedMapData)};return Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"col-12 d-flex justify-content-center align-items-center section-title mx-2",children:Object(o.jsx)("div",{className:"text-center",children:Object(o.jsx)("h3",{className:"mb-0",children:"Platea guariti"})})}),Object(o.jsxs)("div",{className:"col-12 col-md-12 m-3",children:[Object(o.jsx)("div",{className:"d-lg-none bg-box box-mobile m-3",children:Object(o.jsxs)("div",{className:"text-white",children:[Object(o.jsx)("div",{className:"d-flex justify-content-center pt-5",children:Object(o.jsx)("h5",{children:"Totale guariti"})}),Object(o.jsx)("div",{className:"d-flex justify-content-center",children:Object(o.jsx)("p",{className:"box-numbers",children:X&&X.toLocaleString("it")})}),Object(o.jsx)("div",{className:"col-12 d-flex justify-content-end pb-2",children:Object(o.jsx)("img",{alt:"reset-plot2",src:"reset_white.png",onClick:K,height:"36px"})})]})}),Object(o.jsx)("div",{className:"col-4 col-md-4 d-none d-lg-block",children:Object(o.jsx)("div",{className:"bg-box box-card box-left",children:Object(o.jsxs)("div",{className:"text-white",children:[Object(o.jsx)("div",{className:"d-flex justify-content-start pt-3 pl-5",children:Object(o.jsx)("h5",{children:"Totale guariti"})}),Object(o.jsx)("div",{className:"d-flex justify-content-start pl-5",children:Object(o.jsx)("p",{className:"box-numbers",children:X&&X.toLocaleString("it")})}),Object(o.jsx)("div",{className:"col-12 d-flex justify-content-end pb-2",children:Object(o.jsx)("img",{alt:"Reset",src:"reset_white.png",onClick:K,height:"36px"})})]})})})]}),Object(o.jsxs)("div",{className:"col-12 col-md-6",children:[Object(o.jsx)(ee,{width:350,height:300,property:{xprop:"label",yprop:"total"},handleRectClick:function(e){G&&K();var a=e.data.label.toLowerCase().replaceAll(" ","_");if(U===a)K();else{H(a),T(a);var o,i=Object(f.a)(t.healedContent.healedData);try{for(i.s();!(o=i.n()).done;){var n=o.value;if(n.label===e.data.label){q(n.Totale);break}}}catch(l){i.e(l)}finally{i.f()}}},regionSelected:I,selectedCodeAge:U,colors:l,keys:j,labels:z,data:g}),Object(o.jsx)("div",{className:"row mb-4 ml-4",children:u.map((function(e,t){return Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"circle",style:{backgroundColor:l[t]}}),Object(o.jsx)("div",{className:"legend-dark mr-4",children:e})]},e)}))})]}),Object(o.jsxs)("div",{className:"col-12 col-md-6 my-0 py-0",children:[Object(o.jsx)(Z,{fillMapDeliveryArea:function(e){var t=e.region,a=e.maxValue,o=e.field,i=0;if(t.code===G)i=1;else if(G){var n=t[o]/(2*a);i=Object(O.max)([n,.1])}else i=Object(O.max)([t[o]/a,.1]);return"rgba(0,102,204,".concat(i,") ")},summary:w,handleMapDeliveryClick:function(e){if(U&&K(),G===e.code)K();else{Y(e.code),V(e.area),y(t.healedContent.healedRegionData[e.code]);var a,o=0,i=Object(f.a)(t.healedContent.healedRegionData[e.code]);try{for(i.s();!(a=i.n()).done;){o+=a.value.Totale}}catch(n){i.e(n)}finally{i.f()}q(o)}},fillBy:M,percentage:!1,tooltip:function(e){var t,a=null,o=Object(f.a)(w);try{for(o.s();!(t=o.n()).done;){var i=t.value;i.code===e.code&&(a=i)}}catch(n){o.e(n)}finally{o.f()}return e.area+" "+(a&&a[M]&&"("+a[M].toLocaleString("it")+")")},className:"ml-5"}),Object(o.jsx)("p",{className:"text-center",children:"*Seleziona la Regione/Provincia Autonoma per visualizzare il dettaglio."})]})]})},ae=function(e){var t=e.height,a=e.width,n=e.data,l=e.keys,s=e.colors,c=e.selectedFrom,r=e.selectedTo,d=(e.property,e.title),u=e.ytitle,b=Object(i.useRef)(),m=Object(i.useRef)();Object(i.useEffect)((function(){W.h(m.current).selectAll("svg").remove(),j()}),[n,l,c,r]);var v=function(e){var t=W.h(e.node().parentNode),a=parseInt(e.style("width"),10),o=parseInt(e.style("height"),10),i=a/o;function n(){var a=parseInt(t.style("width"));e.attr("width",a),e.attr("height",Math.round(a/i))}e.attr("viewBox","0 0 ".concat(a," ").concat(o+10)).attr("preserveAspectRatio","xMinYMid").call(n),W.h(window).on("resize."+t.attr("id"),n)};var j=function(){var e=W.i().keys(l)(n.slice(c,r)),o=W.h(m.current).append("svg").style("margin-bottom",15).attr("width",a).attr("height",t),i=50,b=50,j=W.f().padding(.2),p=W.g().domain([0,W.e(n.slice(c,r),(function(e){return e.total}))]);p.range([t,0]),j.range([0,a]).domain(n.slice(c,r).map((function(e){return e.label}))),o.attr("width",a+2*b).attr("height",t+2*i).call(v).attr("id","svg-stack-bar"),o.append("text").attr("x",a/2+b).attr("y",i/2).attr("class","title").attr("text-anchor","middle").attr("transform","rotate(90)").attr(d),o.append("text").attr("x",-t/2-i).attr("y",b/2.4).attr("transform","rotate(-90)").attr("class","title").text(u);var x=o.append("g").attr("transform","translate(".concat(b,",").concat(i,")"));x.append("g").attr("class","axis").attr("transform","translate(0,".concat(t,")")).style("font-size",16).call(W.a(j)).selectAll("text").attr("y",-5).attr("x",11).attr("transform","rotate(90)").style("text-anchor","start");var h=W.h("body").append("div").attr("class","d3-tooltip").style("position","absolute").style("z-index","10").style("display","none").style("padding","10px").style("background","rgba(0,0,0,0.8)").style("border-radius","4px").style("color","#fff"),f=x.selectAll().data(e);f.enter().append("g").attr("fill",(function(e){return s[e.key]})).attr("supply",(function(e){return e.key})).selectAll("rect").data((function(e){return e})).enter().append("rect").attr("x",(function(e){return j(e.data.label)})).attr("y",(function(e){return p(e[1])})).attr("height",(function(e){return p(e[0])-p(e[1])})).attr("width",j.bandwidth()).on("mouseover",(function(e,t){W.h(this).transition().attr("fill","#0BD9D3")})).on("mousemove",(function(e,t){h.style("top",e.pageY-10+"px").style("left",e.pageX+10+"px"),h.html('<div style="text-align: center"><b>'.concat(W.h(this.parentNode).attr("supply"),"</b></div>\n            <div>").concat((t[1]-t[0]).toLocaleString("it")," su ").concat(t.data.total.toLocaleString("it"),'</div>\n            <div style="text-align: center; font-size: 12px">dal ').concat(t.data.labelfrom," al ").concat(t.data.labelto,"</div>")).style("display",null)})).on("mouseout",(function(e){h.html("").style("display","none"),W.h(this).transition().attr("fill",s[e.key])})),f.exit().remove()};return Object(o.jsx)("div",{ref:m,className:"chart svg-container",children:Object(o.jsx)("svg",{ref:b,className:"svg-content-responsive"})})},oe=a(27),ie=function(e){var t=e.from,a=e.to,n=e.min,l=e.max,s=e.changeFrom,d=e.changeTo,u=Object(i.useState)([0,1]),b=Object(r.a)(u,2),m=b[0],v=b[1];return Object(i.useEffect)((function(){v([t,a])}),[t,a,n,l]),Object(o.jsx)("div",{className:"col-12",style:{display:"flex",justifyContent:"center",flexWrap:"wrap",backgroundColor:"rgb(15, 53, 89)"},children:Object(o.jsx)(oe.Range,{draggableTrack:!0,values:m,step:1,min:n,max:l,rtl:!1,onChange:function(e){e[0]!==e[1]&&(v(e),s(e[0]),d(e[1]))},renderTrack:function(e){var t=e.props,a=e.children;return Object(o.jsx)("div",{onMouseDown:t.onMouseDown,onTouchStart:t.onTouchStart,style:Object(c.a)(Object(c.a)({},t.style),{},{height:"36px",display:"flex",width:"100%",marginRight:10,marginLeft:10}),children:Object(o.jsx)("div",{ref:t.ref,style:{height:"5px",width:"100%",borderRadius:"4px",background:Object(oe.getTrackBackground)({values:m,colors:["#ccc","black","#ccc"],min:n,max:l,rtl:!1}),alignSelf:"center"},children:a})})},renderThumb:function(e){var t=e.props;e.isDragged;return Object(o.jsx)("div",Object(c.a)(Object(c.a)({},t),{},{style:Object(c.a)(Object(c.a)({},t.style),{},{height:"20px",width:"20px",borderRadius:"50%",backgroundColor:"#ccc",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0px 2px 6px #AAA"})}))}})})},ne=function(e){var t=e.data,a=Object(i.useState)([]),n=Object(r.a)(a,2),l=n[0],s=n[1],c=Object(i.useState)([]),d=Object(r.a)(c,2),u=d[0],b=d[1],m=Object(i.useState)([]),v=Object(r.a)(m,2),j=v[0],p=v[1],x=Object(i.useState)(0),h=Object(r.a)(x,2),f=h[0],g=h[1],y=Object(i.useState)(0),N=Object(r.a)(y,2),_=N[0],z=N[1];return Object(i.useEffect)((function(){Object(O.isEmpty)(t)||(s(t.weekContent.suppliersColor),b(t.weekContent.suppliers),p(t.weekContent.suppliersWeek),z(t.weekContent.suppliersWeek.length),t.weekContent.suppliersWeek.length>=9&&g(t.weekContent.suppliersWeek.length-9))}),[t]),Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"col-12 d-flex justify-content-center align-items-center section-title px-5 mx-2",children:Object(o.jsx)("h3",{children:"Andamento settimanale delle somministrazioni"})}),Object(o.jsxs)("div",{className:"row col-12 m-2 p-2 ",children:[Object(o.jsx)("div",{className:"col-12 col-md-6 align-items-end testo-info-campania d-none d-sm-none d-md-flex d-lg-flex"}),Object(o.jsx)("div",{className:"col-12 col-md-6  position-relative",children:Object(o.jsx)("div",{className:"bg-gradient-bar"})}),Object(o.jsx)("div",{className:"col-12 col-md-4",style:{backgroundColor:"#17324D"},children:Object(o.jsxs)("div",{className:"p-2 position-relative",children:[Object(o.jsx)("div",{className:"p-4",children:Object(o.jsx)("img",{src:"group_person.svg",alt:"Logo",className:"img-fluid"})}),Object(o.jsx)("div",{className:"mt-4 ml-3",children:u.map((function(e,t){return Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"circle",style:{backgroundColor:l[e]}}),Object(o.jsx)("span",{className:"legend",children:e})]},e)}))})]})}),Object(o.jsxs)("div",{className:"col-12 col-md-8 text-white",style:{backgroundColor:"#17324D"},children:[Object(o.jsx)("div",{className:"text-white text-center mt-3 ",children:"*Passa con il mouse sulle barre del grafico per visualizzare i dati della settimana"}),Object(o.jsx)(ae,{title:"",xtitle:"Somministrazione settimanale",ytitle:"",width:780,height:350,marginBottom:10,property:{xprop:"label",yprop:"total"},colors:l,keys:u,data:j,selectedFrom:f,selectedTo:_})]}),j.length>0&&Object(o.jsx)(ie,{min:0,max:j.length,from:f,to:_,changeFrom:function(e){return g(e)},changeTo:function(e){return z(e)}})]}),Object(o.jsx)("div",{children:"*Fai scorrere i selettori per aumentare o diminuire le settimane da visualizzare"})]})},le=function(e){var t=e.handleRectClick,a=e.height,n=e.width,l=e.data,s=e.keys,c=e.labels,r=e.colors,d=e.selectedCodeAge,u=e.regionSelected,b=Object(i.useRef)(),m=Object(i.useRef)();Object(i.useEffect)((function(){W.h(m.current).selectAll("svg").remove(),j()}),[l,s,c,d]);var v=function(e){var t=W.h(e.node().parentNode),a=parseInt(e.style("width"),10),o=parseInt(e.style("height"),10),i=a/o;function n(){var a=parseInt(t.style("width"));e.attr("width",a),e.attr("height",Math.round(a/i))}e.attr("viewBox","0 0 ".concat(a," ").concat(o)).attr("preserveAspectRatio","xMinYMid").call(n),W.h(window).on("resize."+t.attr("id"),n)};var j=function(){var e=W.i().keys(s)(l),o=W.h(m.current).append("svg").style("margin-bottom",10).attr("width",n).attr("height",a),i=30,b=60,j=W.g().domain([0,W.e(l,(function(e){return e.somministrazioni+e.guariti+e.totale}))]),p=W.f().padding(.2);j.range([0,n]),p.range([0,a]).domain(l.map((function(e){return e.label}))),o.attr("width",n+2*b).attr("height",a+2*i).call(v).attr("id","svg-stack-bar");var x=o.append("g").attr("transform","translate(".concat(b,",").concat(i,")"));x.append("g").attr("class","axis").attr("transform","translate(0, 0)").style("font-size","12px").call(W.b(p)).attr("stroke-width",0).selectAll("text").attr("y",0).attr("x",-30).style("text-anchor","start").style("fill","#19191a");var h=W.h("body").append("div").attr("class","d3-tooltip").style("position","absolute").style("z-index","10").style("display","none").style("padding","10px").style("background","rgba(0,0,0,0.8)").style("border-radius","4px").style("color","#fff"),f=x.selectAll().data(e);f.enter().append("g").attr("fill",(function(e){return r[e.index]})).attr("dose",(function(e){return e.key})).selectAll("rect").data((function(e){return e})).enter().append("rect").on("click",(function(e,a){t(a),h.html("").style("display","none")})).attr("opacity",(function(e){var t=e.data.label.toLowerCase().replaceAll(" ","_");return d===t?1:d?.3:1})).attr("x",(function(e){return j(e[0])+60})).attr("y",(function(e){return p(e.data.label)})).attr("width",(function(e){return j(e[1])-j(e[0])})).attr("height",p.bandwidth()).on("mouseover",(function(e,t){W.h(this).transition().attr("fill","#0BD9D3")})).on("mousemove",(function(e,t){var a=u?" "+u:"";if(h.style("top",e.pageY-10+"px").style("left",e.pageX+10+"px"),"totale"===W.h(this.parentNode).attr("dose")){var o=t.data.somministrazioni+t.data.guariti+t.data.totale;h.style("top",e.pageY-10+"px").style("left",e.pageX+10+"px"),h.html('<div style="text-align: center; line-height: 1.15rem;">\n                  <div style="font-size: 12px;">'.concat(a,"</div>\n                  <div><b>").concat(t.data.label,'</b></div>\n                  <div style="font-size: 14px;">Platea</div>\n                  <div>').concat(o.toLocaleString("it"),"</div>\n                  </div>")).style("display",null)}else h.html('<div style="text-align: center; line-height: 1.15rem;">\n                  <div style="font-size: 12px;">'.concat(a," ").concat(t.data.label,'</div>\n                  <div style="text-align: center"><b>').concat(c[W.h(this.parentNode).attr("dose")],' </b></div>\n                  <div style="font-size: 14px;">').concat(t[1].toLocaleString("it"),"</div>")).style("display",null)})).on("mouseout",(function(e){h.html("").style("display","none"),W.h(this).transition().attr("fill",r[e.key])})),f.exit().remove()};return Object(o.jsx)("div",{ref:m,className:"chart svg-container",children:Object(o.jsx)("svg",{ref:b,className:"svg-content-responsive"})})},se=function(e){var t=e.data,a=Object(i.useState)([]),n=Object(r.a)(a,2),l=n[0],s=n[1],c=Object(i.useState)([]),d=Object(r.a)(c,2),u=d[0],b=d[1],m=Object(i.useState)([]),v=Object(r.a)(m,2),j=v[0],p=v[1],x=Object(i.useState)([]),h=Object(r.a)(x,2),f=h[0],g=h[1],y=Object(i.useState)({}),N=Object(r.a)(y,2),_=N[0],z=N[1],S=Object(i.useState)([]),D=Object(r.a)(S,2),C=D[0],w=D[1],k=Object(i.useState)("totale"),B=Object(r.a)(k,2),A=B[0],M=B[1],T=Object(i.useState)(null),P=Object(r.a)(T,2),L=P[0],G=P[1],Y=Object(i.useState)(null),R=Object(r.a)(Y,2),F=R[0],I=R[1],V=Object(i.useState)(null),E=Object(r.a)(V,2),J=E[0],U=E[1];Object(i.useEffect)((function(){Object(O.isEmpty)(t)||(s(t.over60Color),b(t.over60),g(t.over60Data),p(t.keysOver60),w(t.over60MapData),z(t.keyValueOver60))}),[t]);var H=function(){U(null),G(null),I(null),g(t.over60Data),M("totale"),w(t.over60MapData)};return Object(o.jsxs)("div",{className:"row",children:[Object(o.jsxs)("div",{className:"col-12 col-md-6",children:[Object(o.jsx)(le,{width:350,height:120,property:{xprop:"label",yprop:"total"},handleRectClick:function(e){L&&H();var t=e.data.label.toLowerCase().replaceAll(" ","_");J===t?H():(U(t),M(t))},regionSelected:F,selectedCodeAge:J,colors:l,keys:j,labels:_,data:f}),Object(o.jsx)("div",{className:"row mb-4 ml-4",children:u.map((function(e,t){return Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"circle",style:{backgroundColor:l[t]}}),Object(o.jsx)("div",{className:"legend-dark mr-4",children:e})]},e)}))}),Object(o.jsx)("p",{className:"d-none d-sm-block text-center",children:"*Passa con il mouse sulle barre del grafico per visualizzare i dati di dettaglio"})]}),Object(o.jsxs)("div",{className:"col-12 col-md-6 my-0 py-0",children:[Object(o.jsx)("div",{className:"p-4 d-lg-none",children:Object(o.jsx)("div",{className:"text-center",children:Object(o.jsx)("h5",{children:"Percentuale copertura per regione"})})}),Object(o.jsx)(Z,{fillMapDeliveryArea:function(e){var t=e.region,a=e.maxValue,o=e.field,i=0;if(t.code===L)i=1;else if(L){var n=t[o]/(2*a);i=Object(O.max)([n,.1])}else i=Object(O.max)([t[o]/a,.1]);return"rgba(0,102,204,".concat(i,") ")},summary:C,handleMapDeliveryClick:function(e){J&&H(),L===e.code?H():(G(e.code),I(e.area),g(t.over60RegionData[e.code]))},fillBy:A,percentage:!0,tooltip:function(e){return e.area+" "+(e[A]&&e[A].toFixed(2).toLocaleString("it")+"%")},className:"ml-5"}),Object(o.jsx)("div",{className:"p-4 d-none d-lg-block map-legend",children:Object(o.jsx)("div",{className:"d-flex justify-content-start pr-5",children:Object(o.jsxs)("h5",{className:"pl-3 pl-sm-1",children:["Percentuale copertura",Object(o.jsx)("br",{})," per regione"]})})})]})]})},ce=function(e){var t=e.data,a=Object(i.useState)(""),n=Object(r.a)(a,2),l=n[0],s=n[1],c=Object(i.useState)(""),d=Object(r.a)(c,2),u=d[0],b=d[1],m=Object(i.useState)(""),v=Object(r.a)(m,2),j=v[0],p=v[1],x=Object(i.useState)(""),h=Object(r.a)(x,2),f=h[0],O=h[1],g=Object(i.useState)(""),y=Object(r.a)(g,2),N=y[0],_=y[1],z=Object(i.useState)(""),S=Object(r.a)(z,2),D=S[0],C=S[1],w=Object(i.useState)(""),k=Object(r.a)(w,2),B=k[0],A=k[1],M=Object(i.useState)(""),T=Object(r.a)(M,2),P=T[0],L=T[1],G=Object(i.useState)(""),Y=Object(r.a)(G,2),R=Y[0],F=Y[1],I=Object(i.useState)(""),V=Object(r.a)(I,2),E=V[0],J=V[1],U=Object(i.useState)(""),H=Object(r.a)(U,2),$=H[0],W=H[1],X=Object(i.useState)(""),Z=Object(r.a)(X,2),q=Z[0],K=Z[1],Q=Object(i.useState)(""),ee=Object(r.a)(Q,2),te=ee[0],ae=ee[1],oe=Object(i.useState)(""),ie=Object(r.a)(oe,2),ne=ie[0],le=ie[1],ce=Object(i.useState)(""),re=Object(r.a)(ce,2),de=re[0],ue=re[1],be=Object(i.useState)(""),me=Object(r.a)(be,2),ve=me[0],je=me[1],pe=Object(i.useState)(""),xe=Object(r.a)(pe,2),he=xe[0],fe=xe[1],Oe=Object(i.useState)(""),ge=Object(r.a)(Oe,2),ye=ge[0],Ne=ge[1],_e=Object(i.useState)(""),ze=Object(r.a)(_e,2),Se=ze[0],De=ze[1],Ce=Object(i.useState)(""),we=Object(r.a)(Ce,2),ke=we[0],Be=we[1],Ae=Object(i.useState)(""),Me=Object(r.a)(Ae,2),Te=Me[0],Pe=Me[1],Le=Object(i.useState)(""),Ge=Object(r.a)(Le,2),Ye=Ge[0],Re=Ge[1],Fe=Object(i.useState)(""),Ie=Object(r.a)(Fe,2),Ve=Ie[0],Ee=Ie[1],Je=Object(i.useState)(""),Ue=Object(r.a)(Je,2),He=Ue[0],$e=Ue[1],We=Object(i.useState)(""),Xe=Object(r.a)(We,2),Ze=Xe[0],qe=Xe[1],Ke=Object(i.useState)(""),Qe=Object(r.a)(Ke,2),et=Qe[0],tt=Qe[1],at=Object(i.useState)(""),ot=Object(r.a)(at,2),it=ot[0],nt=ot[1],lt=Object(i.useState)(""),st=Object(r.a)(lt,2),ct=st[0],rt=st[1],dt=Object(i.useState)(""),ut=Object(r.a)(dt,2),bt=ut[0],mt=ut[1],vt=Object(i.useState)(""),jt=Object(r.a)(vt,2),pt=jt[0],xt=jt[1],ht=Object(i.useState)(""),ft=Object(r.a)(ht,2),Ot=ft[0],gt=ft[1],yt=Object(i.useState)(""),Nt=Object(r.a)(yt,2),_t=Nt[0],zt=Nt[1],St=Object(i.useState)(""),Dt=Object(r.a)(St,2),Ct=Dt[0],wt=Dt[1],kt=Object(i.useState)(""),Bt=Object(r.a)(kt,2),At=Bt[0],Mt=Bt[1],Tt=Object(i.useState)(""),Pt=Object(r.a)(Tt,2),Lt=Pt[0],Gt=Pt[1],Yt=Object(i.useState)(""),Rt=Object(r.a)(Yt,2),Ft=Rt[0],It=Rt[1],Vt=Object(i.useState)(""),Et=Object(r.a)(Vt,2),Jt=Et[0],Ut=Et[1],Ht=Object(i.useState)(""),$t=Object(r.a)(Ht,2),Wt=$t[0],Xt=$t[1],Zt=Object(i.useState)(""),qt=Object(r.a)(Zt,2),Kt=qt[0],Qt=qt[1],ea=Object(i.useState)(""),ta=Object(r.a)(ea,2),aa=ta[0],oa=ta[1],ia=Object(i.useState)(""),na=Object(r.a)(ia,2),la=na[0],sa=na[1],ca=Object(i.useState)(""),ra=Object(r.a)(ca,2),da=ra[0],ua=ra[1],ba=Object(i.useState)(""),ma=Object(r.a)(ba,2),va=ma[0],ja=ma[1],pa=Object(i.useState)(""),xa=Object(r.a)(pa,2),ha=xa[0],fa=xa[1],Oa=Object(i.useState)(""),ga=Object(r.a)(Oa,2),ya=ga[0],Na=ga[1],_a=Object(i.useState)(""),za=Object(r.a)(_a,2),Sa=za[0],Da=za[1],Ca=Object(i.useState)(""),wa=Object(r.a)(Ca,2),ka=wa[0],Ba=wa[1],Aa=Object(i.useState)(""),Ma=Object(r.a)(Aa,2),Ta=Ma[0],Pa=Ma[1],La=Object(i.useState)(""),Ga=Object(r.a)(La,2),Ya=Ga[0],Ra=Ga[1],Fa=Object(i.useState)(""),Ia=Object(r.a)(Fa,2),Va=Ia[0],Ea=Ia[1],Ja=Object(i.useState)(""),Ua=Object(r.a)(Ja,2),Ha=Ua[0],$a=Ua[1],Wa=Object(i.useState)(""),Xa=Object(r.a)(Wa,2),Za=Xa[0],qa=Xa[1],Ka=Object(i.useState)(""),Qa=Object(r.a)(Ka,2),eo=Qa[0],to=Qa[1],ao=Object(i.useState)(""),oo=Object(r.a)(ao,2),io=oo[0],no=oo[1];function lo(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?null===e||void 0===e?void 0:e.toLocaleString("it",{minimumFractionDigits:2,maximumFractionDigits:2}):null===e||void 0===e?void 0:e.toLocaleString("it")}return Object(i.useEffect)((function(){var e,a,o,i,n,l,c,r,d,u,m,v,j,x,h,f,g,y,N,z,S,D,w,k,B,M,T,P,G,Y,R,I,V,E,U,H,$,X,Z,q,Q,ee,te,oe,ie,ne,se,ce,re,de,be,me,ve,pe,xe,he,Oe,ge,ye,_e,ze,Se,Ce,we,ke,Ae,Me,Te,Le,Ge,Ye,Fe,Ie,Ve,Je,Ue,He,We,Xe,Ze,Ke,Qe,et,at,ot,it;(s(lo(null===t||void 0===t||null===(e=t.totalDoses)||void 0===e?void 0:e.somministrazioni_over60)),b(lo((null===t||void 0===t||null===(a=t.totalDoses)||void 0===a?void 0:a.somministrazioni_over60)/(null===t||void 0===t||null===(o=t.databoxContent)||void 0===o?void 0:o.totalPlateaOver60)*100,!0)),p(lo(null===t||void 0===t||null===(i=t.totalDoses)||void 0===i?void 0:i.guarigioni_over60)),O(lo((null===t||void 0===t||null===(n=t.totalDoses)||void 0===n?void 0:n.guarigioni_over60)/(null===t||void 0===t||null===(l=t.databoxContent)||void 0===l?void 0:l.totalPlateaOver60)*100,!0)),null===t||void 0===t||null===(c=t.totalDoses)||void 0===c?void 0:c.guarigioni_over60)&&(_(lo((null===t||void 0===t||null===(Qe=t.totalDoses)||void 0===Qe?void 0:Qe.guarigioni_over60)+(null===t||void 0===t||null===(et=t.totalDoses)||void 0===et?void 0:et.somministrazioni_over60))),C(lo(((null===t||void 0===t||null===(at=t.totalDoses)||void 0===at?void 0:at.guarigioni_over60)+(null===t||void 0===t||null===(ot=t.totalDoses)||void 0===ot?void 0:ot.somministrazioni_over60))/(null===t||void 0===t||null===(it=t.databoxContent)||void 0===it?void 0:it.totalPlateaOver60)*100,!0)));var lt,st,ct,dt,ut=(null===t||void 0===t||null===(r=t.totalDoses)||void 0===r?void 0:r.prima_dose)+(null===t||void 0===t||null===(d=t.totalDoses)||void 0===d?void 0:d.pregressa_infezione);isNaN(ut)||(A(lo(ut)),L(lo(ut/(null===t||void 0===t||null===(lt=t.databoxContent)||void 0===lt?void 0:lt.totalPlatea)*100,!0)),Pe(lo(ut+(null===t||void 0===t||null===(st=t.databoxContent)||void 0===st?void 0:st.totalGuaritiNotBaby))),Re(lo((ut+(null===t||void 0===t||null===(ct=t.databoxContent)||void 0===ct?void 0:ct.totalGuaritiNotBaby))/(null===t||void 0===t||null===(dt=t.databoxContent)||void 0===dt?void 0:dt.totalPlatea)*100,!0)));var bt,vt=(null===t||void 0===t||null===(u=t.totalDoses)||void 0===u?void 0:u.seconda_dose)+(null===t||void 0===t||null===(m=t.totalDoses)||void 0===m?void 0:m.prima_dose_janssen)+(null===t||void 0===t||null===(v=t.totalDoses)||void 0===v?void 0:v.pregressa_infezione);isNaN(vt)||(F(lo(vt)),J(lo(vt/(null===t||void 0===t||null===(bt=t.databoxContent)||void 0===bt?void 0:bt.totalPlatea)*100,!0)));W(null===t||void 0===t||null===(j=t.totalDoses)||void 0===j?void 0:j.dose_addizionale_booster),K(lo((null===t||void 0===t||null===(x=t.totalDoses)||void 0===x?void 0:x.dose_addizionale_booster)/(null===t||void 0===t||null===(h=t.databoxContent)||void 0===h?void 0:h.totalPlateaDoseAddizionaleBooster)*100,!0)),ae(lo(null===t||void 0===t||null===(f=t.totalDoses)||void 0===f?void 0:f.dose_second_booster)),le(lo((null===t||void 0===t||null===(g=t.totalDoses)||void 0===g?void 0:g.dose_second_booster)/(null===t||void 0===t||null===(y=t.databoxContent)||void 0===y?void 0:y.totalPlateaDoseSecondBooster)*100,!0)),ue(lo(null===t||void 0===t||null===(N=t.totalDoses)||void 0===N?void 0:N.dose_third_booster)),je(lo((null===t||void 0===t||null===(z=t.totalDoses)||void 0===z?void 0:z.dose_third_booster)/(null===t||void 0===t||null===(S=t.databoxContent)||void 0===S?void 0:S.totalPlateaDoseThirdBooster)*100,!0)),fe(lo(null===t||void 0===t||null===(D=t.databoxContent)||void 0===D?void 0:D.totalGuaritiNotBaby)),Ne(lo((null===t||void 0===t||null===(w=t.databoxContent)||void 0===w?void 0:w.totalGuaritiNotBaby)/(null===t||void 0===t||null===(k=t.databoxContent)||void 0===k?void 0:k.totalPlatea)*100,!0)),De(null===t||void 0===t||null===(B=t.databoxContent)||void 0===B?void 0:B.totalGuaritiDoppiaNotBaby),Be(lo((null===t||void 0===t||null===(M=t.databoxContent)||void 0===M?void 0:M.totalGuaritiDoppiaNotBaby)/(null===t||void 0===t||null===(T=t.databoxContent)||void 0===T?void 0:T.totalPlateaDoseAddizionaleBooster)*100,!0)),Ee(lo((null===t||void 0===t||null===(P=t.databoxContent)||void 0===P?void 0:P.totalGuaritiDoppiaNotBaby)+(null===t||void 0===t||null===(G=t.totalDoses)||void 0===G?void 0:G.dose_addizionale_booster))),$e(lo(((null===t||void 0===t||null===(Y=t.databoxContent)||void 0===Y?void 0:Y.totalGuaritiDoppiaNotBaby)+(null===t||void 0===t||null===(R=t.totalDoses)||void 0===R?void 0:R.dose_addizionale_booster))/(null===t||void 0===t||null===(I=t.databoxContent)||void 0===I?void 0:I.totalPlateaDoseAddizionaleBooster)*100,!0)),qe(lo(null===t||void 0===t||null===(V=t.databoxContent)||void 0===V?void 0:V.totalGuaritiBoosterNotBaby)),tt(lo((null===t||void 0===t||null===(E=t.databoxContent)||void 0===E?void 0:E.totalGuaritiBoosterNotBaby)/(null===t||void 0===t||null===(U=t.databoxContent)||void 0===U?void 0:U.totalPlateaDoseSecondBooster)*100,!0)),nt(lo(null===t||void 0===t||null===(H=t.databoxContent)||void 0===H?void 0:H.totalGuaritiSecondBoosterNotBaby)),rt(lo((null===t||void 0===t||null===($=t.databoxContent)||void 0===$?void 0:$.totalGuaritiSecondBoosterNotBaby)/(null===t||void 0===t||null===(X=t.databoxContent)||void 0===X?void 0:X.totalPlateaDoseThirdBooster)*100,!0)),mt(lo((null===t||void 0===t||null===(Z=t.totalDoses)||void 0===Z?void 0:Z.dose_second_booster)+(null===t||void 0===t||null===(q=t.databoxContent)||void 0===q?void 0:q.totalGuaritiBoosterNotBaby))),xt(lo(((null===t||void 0===t||null===(Q=t.totalDoses)||void 0===Q?void 0:Q.dose_second_booster)+(null===t||void 0===t||null===(ee=t.databoxContent)||void 0===ee?void 0:ee.totalGuaritiBoosterNotBaby))/(null===t||void 0===t||null===(te=t.databoxContent)||void 0===te?void 0:te.totalPlateaDoseSecondBooster)*100,!0)),gt(lo((null===t||void 0===t||null===(oe=t.totalDoses)||void 0===oe?void 0:oe.dose_third_booster)+(null===t||void 0===t||null===(ie=t.databoxContent)||void 0===ie?void 0:ie.totalGuaritiSecondBoosterNotBaby))),zt(lo(((null===t||void 0===t||null===(ne=t.totalDoses)||void 0===ne?void 0:ne.dose_third_booster)+(null===t||void 0===t||null===(se=t.databoxContent)||void 0===se?void 0:se.totalGuaritiSecondBoosterNotBaby))/(null===t||void 0===t||null===(ce=t.databoxContent)||void 0===ce?void 0:ce.totalPlateaDoseThirdBooster)*100,!0));var jt,pt=(null===t||void 0===t||null===(re=t.totalDoses)||void 0===re?void 0:re.prima_dose_baby)+(null===t||void 0===t||null===(de=t.totalDoses)||void 0===de?void 0:de.pregressa_infezione_baby);isNaN(pt)||(wt(lo(pt)),Mt(lo(pt/(null===t||void 0===t||null===(jt=t.databoxContent)||void 0===jt?void 0:jt.totalPlateaBaby)*100,!0)));var ht,ft=(null===t||void 0===t||null===(be=t.totalDoses)||void 0===be?void 0:be.seconda_dose_baby)+(null===t||void 0===t||null===(me=t.totalDoses)||void 0===me?void 0:me.prima_dose_janssen_baby)+(null===t||void 0===t||null===(ve=t.totalDoses)||void 0===ve?void 0:ve.pregressa_infezione_baby);isNaN(ft)||(Gt(lo(ft)),It(lo(ft/(null===t||void 0===t||null===(ht=t.databoxContent)||void 0===ht?void 0:ht.totalPlateaBaby)*100,!0)));Ut(lo(null===t||void 0===t||null===(pe=t.databoxContent)||void 0===pe?void 0:pe.totalGuaritiBaby)),Xt(lo((null===t||void 0===t||null===(xe=t.databoxContent)||void 0===xe?void 0:xe.totalGuaritiBaby)/(null===t||void 0===t||null===(he=t.databoxContent)||void 0===he?void 0:he.totalPlateaBaby)*100,!0)),Qt(lo(pt+(null===t||void 0===t||null===(Oe=t.databoxContent)||void 0===Oe?void 0:Oe.totalGuaritiBaby))),oa(lo((pt+(null===t||void 0===t||null===(ge=t.databoxContent)||void 0===ge?void 0:ge.totalGuaritiBaby))/(null===t||void 0===t||null===(ye=t.databoxContent)||void 0===ye?void 0:ye.totalPlateaBaby)*100,!0)),sa(null===t||void 0===t||null===(_e=t.totalDoses)||void 0===_e?void 0:_e.dose_addizionale_booster_baby),ua(lo((null===t||void 0===t||null===(ze=t.totalDoses)||void 0===ze?void 0:ze.dose_addizionale_booster_baby)/(null===t||void 0===t||null===(Se=t.databoxContent)||void 0===Se?void 0:Se.totalPlateaDoseAddizionaleBoosterBaby)*100,!0)),ja(null===t||void 0===t||null===(Ce=t.databoxContent)||void 0===Ce?void 0:Ce.totalGuaritiDoppiaBaby),fa(lo((null===t||void 0===t||null===(we=t.databoxContent)||void 0===we?void 0:we.totalGuaritiDoppiaBaby)/(null===t||void 0===t||null===(ke=t.databoxContent)||void 0===ke?void 0:ke.totalPlateaDoseAddizionaleBoosterBaby)*100,!0)),Na(lo((null===t||void 0===t||null===(Ae=t.databoxContent)||void 0===Ae?void 0:Ae.totalGuaritiDoppiaBaby)+(null===t||void 0===t||null===(Me=t.totalDoses)||void 0===Me?void 0:Me.dose_addizionale_booster_baby))),Da(lo(((null===t||void 0===t||null===(Te=t.databoxContent)||void 0===Te?void 0:Te.totalGuaritiDoppiaBaby)+(null===t||void 0===t||null===(Le=t.totalDoses)||void 0===Le?void 0:Le.dose_addizionale_booster_baby))/(null===t||void 0===t||null===(Ge=t.databoxContent)||void 0===Ge?void 0:Ge.totalPlateaDoseAddizionaleBoosterBaby)*100,!0));var Ot,yt=(null===t||void 0===t||null===(Ye=t.totalDoses)||void 0===Ye?void 0:Ye.prima_dose_infant)+(null===t||void 0===t||null===(Fe=t.totalDoses)||void 0===Fe?void 0:Fe.pregressa_infezione_infant);isNaN(yt)||(Ba(lo(yt)),Pa(lo(yt/(null===t||void 0===t||null===(Ot=t.databoxContent)||void 0===Ot?void 0:Ot.totalPlateaInfant)*100,!0)));var Nt,_t=(null===t||void 0===t||null===(Ie=t.totalDoses)||void 0===Ie?void 0:Ie.seconda_dose_infant)+(null===t||void 0===t||null===(Ve=t.totalDoses)||void 0===Ve?void 0:Ve.prima_dose_janssen_infant)+(null===t||void 0===t||null===(Je=t.totalDoses)||void 0===Je?void 0:Je.pregressa_infezione_infant);isNaN(_t)||(Ra(lo(_t)),Ea(lo(_t/(null===t||void 0===t||null===(Nt=t.databoxContent)||void 0===Nt?void 0:Nt.totalPlateaInfant)*100,!0)));$a(lo(null===t||void 0===t||null===(Ue=t.databoxContent)||void 0===Ue?void 0:Ue.totalGuaritiInfant)),qa(lo((null===t||void 0===t||null===(He=t.databoxContent)||void 0===He?void 0:He.totalGuaritiInfant)/(null===t||void 0===t||null===(We=t.databoxContent)||void 0===We?void 0:We.totalPlateaInfant)*100,!0)),to(lo(yt+(null===t||void 0===t||null===(Xe=t.databoxContent)||void 0===Xe?void 0:Xe.totalGuaritiInfant))),no(lo((yt+(null===t||void 0===t||null===(Ze=t.databoxContent)||void 0===Ze?void 0:Ze.totalGuaritiInfant))/(null===t||void 0===t||null===(Ke=t.databoxContent)||void 0===Ke?void 0:Ke.totalPlateaInfant)*100,!0))}),[t]),Object(o.jsxs)("div",{className:"p-3 mb-5",children:[Object(o.jsx)("div",{className:"col-12 d-flex justify-content-center align-items-center p-3 section-title small",children:Object(o.jsx)("div",{className:"mb-2",children:Object(o.jsxs)("h3",{className:"text-center",children:["Copertura vaccinale Covid-19",Object(o.jsx)("br",{}),"Over 60"]})})}),Object(o.jsxs)("div",{className:"row bg-box p-2 mb-4",children:[Object(o.jsx)("div",{className:"col-md-4 col-sm-12",children:Object(o.jsx)("div",{className:"box-card p-2",children:Object(o.jsx)("div",{className:"p-1",children:Object(o.jsxs)("div",{className:"align-items-center justify-content-center text-center mb-4",children:[Object(o.jsx)("h5",{className:"mt-2",children:"Somministrazioni"}),Object(o.jsx)("div",{className:"box-numbers",children:l}),Object(o.jsxs)("div",{className:"box-text",children:[u," % della popolazione over 60",Object(o.jsx)("br",{}),"oggetto di somministrazione anti Covid-19",Object(o.jsx)("br",{}),"da al massimo 4 mesi"]})]})})})}),Object(o.jsx)("div",{className:"col-md-4 col-sm-12",children:Object(o.jsx)("div",{className:"box-card p-2",children:Object(o.jsx)("div",{className:"p-1",children:Object(o.jsxs)("div",{className:"align-items-center justify-content-center text-center mb-4",children:[Object(o.jsx)("h5",{className:"mt-2",children:"Guarigioni"}),Object(o.jsx)("div",{className:"box-numbers",children:j}),Object(o.jsxs)("div",{className:"box-text",children:[f," % della popolazione over 60",Object(o.jsx)("br",{}),"guarita dall'infezione",Object(o.jsx)("br",{}),"da al massimo 4 mesi"]})]})})})}),Object(o.jsx)("div",{className:"col-md-4 col-sm-12",children:Object(o.jsx)("div",{className:"box-card p-2",children:Object(o.jsx)("div",{className:"p-1",children:Object(o.jsxs)("div",{className:"align-items-center justify-content-center text-center mb-4",children:[Object(o.jsx)("h5",{className:"mt-2",children:"Totale"}),Object(o.jsx)("div",{className:"box-numbers",children:N}),Object(o.jsxs)("div",{className:"box-text",children:[D," % della popolazione over 60"]})]})})})})]}),Object(o.jsx)(se,{data:t.over60Content}),"                   ",Object(o.jsx)("div",{className:"col-12 d-flex justify-content-center align-items-center p-3 section-title small",children:Object(o.jsx)("div",{className:"mb-2",children:Object(o.jsx)("h3",{className:"text-center",children:"Ciclo Vaccinale Primario"})})}),Object(o.jsxs)("div",{className:"row bg-box p-2 mb-4",children:[Object(o.jsx)("div",{className:"col-md-4 col-sm-12",children:Object(o.jsx)("div",{className:"box-card p-2",children:Object(o.jsx)("div",{className:"p-1",children:Object(o.jsxs)("div",{className:"align-items-center justify-content-center text-center mb-4",children:[Object(o.jsx)("h5",{className:"mt-2",children:"Con almeno una dose"}),Object(o.jsx)("div",{className:"box-numbers",children:B}),Object(o.jsxs)("div",{className:"box-text",children:[P," % della popolazione over 12"]}),Object(o.jsx)("div",{className:"box-label",children:"(persone con almeno una somministrazione)"})]})})})}),Object(o.jsx)("div",{className:"col-md-4 col-sm-12",children:Object(o.jsx)("div",{className:"box-card p-2",children:Object(o.jsx)("div",{className:"p-1",children:Object(o.jsxs)("div",{className:"align-items-center justify-content-center text-center mb-4",children:[Object(o.jsx)("h5",{className:"mt-2",children:"Ciclo vaccinale"}),Object(o.jsx)("div",{className:"box-numbers",children:R}),Object(o.jsxs)("div",{className:"box-text",children:[E," % della popolazione over 12"]}),Object(o.jsx)("div",{className:"box-label",children:"(persone che hanno completato il ciclo vaccinale)"})]})})})}),Object(o.jsx)("div",{className:"col-md-4 col-sm-12",children:Object(o.jsx)("div",{className:"box-card p-2",children:Object(o.jsx)("div",{className:"p-1",children:Object(o.jsxs)("div",{className:"align-items-center justify-content-center text-center mb-4",children:[Object(o.jsx)("h5",{className:"mt-2",children:"Guariti"}),Object(o.jsx)("div",{className:"box-numbers",children:he}),Object(o.jsxs)("div",{className:"box-text",children:[ye," % della popolazione over 12"]}),Object(o.jsx)("div",{className:"box-label",children:"guarita da al massimo 6 mesi senza alcuna somministrazione"})]})})})}),Object(o.jsx)("div",{className:"col-md-12 col-sm-12",children:Object(o.jsx)("div",{className:"box-card p-2",children:Object(o.jsx)("div",{className:"p-1",children:Object(o.jsxs)("div",{className:"align-items-center justify-content-center text-center mb-4",children:[Object(o.jsx)("h5",{className:"mt-2",children:"Totale"}),Object(o.jsx)("div",{className:"box-numbers",children:Te}),Object(o.jsxs)("div",{className:"box-text",children:[Ye," % della popolazione over 12"]})]})})})})]}),Object(o.jsx)("div",{className:"col-12 d-flex justify-content-center align-items-center p-3 section-title small",children:Object(o.jsx)("div",{className:"mb-2",children:Object(o.jsx)("h3",{className:"text-center",children:"Dose Addizionale/Booster"})})}),Object(o.jsxs)("div",{className:"row bg-box p-2 mb-4",children:[Object(o.jsx)("div",{className:"col-md-6 col-sm-12",children:Object(o.jsx)("div",{className:"box-card p-2",children:Object(o.jsx)("div",{className:"p-1",children:Object(o.jsxs)("div",{className:"align-items-center justify-content-center text-center",children:[Object(o.jsx)("h5",{className:"mt-2 mb-3",children:"Dose addizionale/richiamo (booster)"}),Object(o.jsx)("div",{className:"box-numbers",children:null===$||void 0===$?void 0:$.toLocaleString("it")}),Object(o.jsxs)("div",{className:"box-text",children:[q," % della popolazione potenzialmente oggetto di",Object(o.jsx)("br",{}),"dose addizionale o booster che ha ultimato il ciclo vaccinale",Object(o.jsx)("br",{}),"da almeno 4 mesi"]})]})})})}),Object(o.jsx)("div",{className:"col-md-6 col-sm-12",children:Object(o.jsx)("div",{className:"box-card p-2",children:Object(o.jsx)("div",{className:"p-1",children:Object(o.jsxs)("div",{className:"align-items-center justify-content-center text-center",children:[Object(o.jsx)("h5",{className:"mt-2 mb-3",children:"Guariti post 2\xaa dose/unica dose"}),Object(o.jsx)("div",{className:"box-numbers",children:null===Se||void 0===Se?void 0:Se.toLocaleString("it")}),Object(o.jsxs)("div",{className:"box-text",children:[ke," % della popolazione potenzialmente oggetto di",Object(o.jsx)("br",{}),"dose addizionale o booster guarita post 2\xaa dose/unica dose",Object(o.jsx)("br",{}),"da al massimo 4 mesi"]})]})})})}),Object(o.jsx)("div",{className:"col-md-12 col-sm-12",children:Object(o.jsx)("div",{className:"box-card p-2",children:Object(o.jsx)("div",{className:"p-1",children:Object(o.jsxs)("div",{className:"align-items-center justify-content-center text-center mb-4",children:[Object(o.jsx)("h5",{className:"mt-2 mb-3",children:"Totale"}),Object(o.jsx)("div",{className:"box-numbers",children:Ve}),Object(o.jsxs)("div",{className:"box-text",children:[He," % della platea dose booster"]})]})})})})]}),Object(o.jsx)("div",{className:"col-12 d-flex justify-content-center align-items-center p-3 section-title small",children:Object(o.jsx)("div",{className:"mb-2",children:Object(o.jsx)("h3",{className:"text-center",children:"Seconda dose booster"})})}),Object(o.jsxs)("div",{className:"row bg-box p-2 mb-4",children:[Object(o.jsx)("div",{className:"col-md-6 col-sm-12",children:Object(o.jsx)("div",{className:"box-card p-2",children:Object(o.jsx)("div",{className:"p-1",children:Object(o.jsxs)("div",{className:"align-items-center justify-content-center text-center",children:[Object(o.jsx)("h5",{className:"mt-2 mb-3",children:"Booster immuno / 2\xaa dose booster"}),Object(o.jsx)("div",{className:"box-numbers",children:null===te||void 0===te?void 0:te.toLocaleString("it")}),Object(o.jsxs)("div",{className:"box-text",children:[ne," % della popolazione potenzialmente oggetto di ",Object(o.jsx)("br",{}),"dose booster/2\xaa booster cha ha ultimato il ciclo vaccinale",Object(o.jsx)("br",{}),"da almeno 4 mesi"]})]})})})}),Object(o.jsx)("div",{className:"col-md-6 col-sm-12",children:Object(o.jsx)("div",{className:"box-card p-2",children:Object(o.jsx)("div",{className:"p-1",children:Object(o.jsxs)("div",{className:"align-items-center justify-content-center text-center",children:[Object(o.jsx)("h5",{className:"mt-2 mb-3",children:"Guariti post 1\xaa dose booster"}),Object(o.jsx)("div",{className:"box-numbers",children:null===Ze||void 0===Ze?void 0:Ze.toLocaleString("it")}),Object(o.jsxs)("div",{className:"box-text",children:[et," % della popolazione potenzialmente oggetto di ",Object(o.jsx)("br",{}),"2\xaa dose booster guarita post 1\xaa dose booster da",Object(o.jsx)("br",{}),"al massimo 6 mesi"]})]})})})}),Object(o.jsx)("div",{className:"col-md-12 col-sm-12",children:Object(o.jsx)("div",{className:"box-card mb-3",children:Object(o.jsx)("div",{className:"p-1",children:Object(o.jsxs)("div",{className:"align-items-center justify-content-center text-center mb-4",children:[Object(o.jsx)("h5",{className:"mt-2 mb-3",children:"Totale"}),Object(o.jsx)("div",{className:"box-numbers",children:bt}),Object(o.jsxs)("div",{className:"box-text",children:[pt," % della platea 2\xaa dose booster"]})]})})})})]}),Object(o.jsx)("div",{className:"col-12 d-flex justify-content-center align-items-center p-3 section-title small",children:Object(o.jsx)("div",{className:"mb-2",children:Object(o.jsx)("h3",{className:"text-center",children:"Terza dose booster"})})}),Object(o.jsxs)("div",{className:"row bg-box p-2 mb-4",children:[Object(o.jsx)("div",{className:"col-md-6 col-sm-12",children:Object(o.jsx)("div",{className:"box-card p-2",children:Object(o.jsx)("div",{className:"p-1",children:Object(o.jsxs)("div",{className:"align-items-center justify-content-center text-center",children:[Object(o.jsx)("h5",{className:"mt-2 mb-3",children:"3\xaa dose booster"}),Object(o.jsx)("div",{className:"box-numbers",children:null===de||void 0===de?void 0:de.toLocaleString("it")}),Object(o.jsxs)("div",{className:"box-text",children:[ve," % della popolazione potenzialmente oggetto di ",Object(o.jsx)("br",{}),"3\xaa dose booster cha ha ultimato il ciclo vaccinale",Object(o.jsx)("br",{}),"da almeno 4 mesi"]})]})})})}),Object(o.jsx)("div",{className:"col-md-6 col-sm-12",children:Object(o.jsx)("div",{className:"box-card p-2",children:Object(o.jsx)("div",{className:"p-1",children:Object(o.jsxs)("div",{className:"align-items-center justify-content-center text-center",children:[Object(o.jsx)("h5",{className:"mt-2 mb-3",children:"Guariti post 2\xaa dose booster"}),Object(o.jsx)("div",{className:"box-numbers",children:null===it||void 0===it?void 0:it.toLocaleString("it")}),Object(o.jsxs)("div",{className:"box-text",children:[ct," % della popolazione potenzialmente oggetto di ",Object(o.jsx)("br",{}),"3\xaa dose booster guarita post 2\xaa dose booster da",Object(o.jsx)("br",{}),"al massimo 6 mesi"]})]})})})}),Object(o.jsx)("div",{className:"col-md-12 col-sm-12",children:Object(o.jsx)("div",{className:"box-card mb-3",children:Object(o.jsx)("div",{className:"p-1",children:Object(o.jsxs)("div",{className:"align-items-center justify-content-center text-center mb-4",children:[Object(o.jsx)("h5",{className:"mt-2 mb-3",children:"Totale"}),Object(o.jsx)("div",{className:"box-numbers",children:Ot}),Object(o.jsxs)("div",{className:"box-text",children:[_t," % della platea 3\xaa dose booster"]})]})})})})]}),Object(o.jsx)("div",{className:"col-12 d-flex justify-content-center align-items-center p-3 section-title small",children:Object(o.jsx)("div",{className:"mb-2",children:Object(o.jsx)("h3",{className:"text-center",children:"Ciclo Vaccinale Primario 5-11 anni"})})}),Object(o.jsxs)("div",{className:"row bg-box mb-4",children:[Object(o.jsx)("div",{className:"col-md-4 col-sm-12",children:Object(o.jsx)("div",{className:"box-card p-2",children:Object(o.jsx)("div",{className:"p-1",children:Object(o.jsxs)("div",{className:"align-items-center justify-content-center text-center mb-4",children:[Object(o.jsx)("h5",{className:"mt-2",children:"Con almeno una dose"}),Object(o.jsx)("div",{className:"box-numbers",children:Ct}),Object(o.jsxs)("div",{className:"box-text",children:[At," % della popolazione 5-11"]}),Object(o.jsx)("div",{className:"box-label",children:"(persone con almeno una somministrazione)"})]})})})}),Object(o.jsx)("div",{className:"col-md-4 col-sm-12",children:Object(o.jsx)("div",{className:"box-card p-2",children:Object(o.jsx)("div",{className:"p-1",children:Object(o.jsxs)("div",{className:"align-items-center justify-content-center text-center mb-4",children:[Object(o.jsx)("h5",{className:"mt-2",children:"Ciclo vaccinale"}),Object(o.jsx)("div",{className:"box-numbers",children:Lt}),Object(o.jsxs)("div",{className:"box-text",children:[Ft," % della popolazione 5-11"]}),Object(o.jsx)("div",{className:"box-label",children:"(persone che hanno completato il ciclo vaccinale)"})]})})})}),Object(o.jsx)("div",{className:"col-md-4 col-sm-12",children:Object(o.jsx)("div",{className:"box-card p-2",children:Object(o.jsx)("div",{className:"p-1",children:Object(o.jsxs)("div",{className:"align-items-center justify-content-center text-center mb-4",children:[Object(o.jsx)("h5",{className:"mt-2",children:"Guariti"}),Object(o.jsx)("div",{className:"box-numbers",children:Jt}),Object(o.jsxs)("div",{className:"box-text",children:[Wt," % della popolazione 5-11"]}),Object(o.jsx)("div",{className:"box-label",children:"guarita da al massimo 6 mesi senza alcuna somministrazione"})]})})})}),Object(o.jsx)("div",{className:"col-md-12 col-sm-12",children:Object(o.jsx)("div",{className:"box-card",children:Object(o.jsx)("div",{className:"p-1",children:Object(o.jsxs)("div",{className:"align-items-center justify-content-center text-center mb-4",children:[Object(o.jsx)("h5",{className:"mt-2",children:"Totale"}),Object(o.jsx)("div",{className:"box-numbers",children:Kt}),Object(o.jsxs)("div",{className:"box-text",children:[aa," % della popolazione 5-11"]})]})})})})]}),Object(o.jsx)("div",{className:"col-12 d-flex justify-content-center align-items-center p-3 section-title small",children:Object(o.jsx)("div",{className:"mb-2",children:Object(o.jsx)("h3",{className:"text-center",children:"Prima Dose Booster 5-11 anni"})})}),Object(o.jsxs)("div",{className:"row bg-box p-2 mb-4",children:[Object(o.jsx)("div",{className:"col-md-6 col-sm-12",children:Object(o.jsx)("div",{className:"box-card p-2",children:Object(o.jsx)("div",{className:"p-1",children:Object(o.jsxs)("div",{className:"align-items-center justify-content-center text-center",children:[Object(o.jsx)("h5",{className:"mt-2 mb-3",children:"Dose addizionale/richiamo (booster)"}),Object(o.jsx)("div",{className:"box-numbers",children:null===la||void 0===la?void 0:la.toLocaleString("it")}),Object(o.jsxs)("div",{className:"box-text",children:[da," % della popolazione 5-11 potenzialmente oggetto di",Object(o.jsx)("br",{}),"dose addizionale o booster che ha ultimato il ciclo vaccinale",Object(o.jsx)("br",{}),"da almeno 4 mesi"]})]})})})}),Object(o.jsx)("div",{className:"col-md-6 col-sm-12",children:Object(o.jsx)("div",{className:"box-card p-2",children:Object(o.jsx)("div",{className:"p-1",children:Object(o.jsxs)("div",{className:"align-items-center justify-content-center text-center",children:[Object(o.jsx)("h5",{className:"mt-2 mb-3",children:"Guariti post 2\xaa dose/unica dose"}),Object(o.jsx)("div",{className:"box-numbers",children:null===va||void 0===va?void 0:va.toLocaleString("it")}),Object(o.jsxs)("div",{className:"box-text",children:[ha," % della popolazione 5-11 potenzialmente oggetto di",Object(o.jsx)("br",{}),"dose addizionale o booster guarita post 2\xaa dose/unica dose",Object(o.jsx)("br",{}),"da al massimo 4 mesi"]})]})})})}),Object(o.jsx)("div",{className:"col-md-12 col-sm-12",children:Object(o.jsx)("div",{className:"box-card p-2",children:Object(o.jsx)("div",{className:"p-1",children:Object(o.jsxs)("div",{className:"align-items-center justify-content-center text-center mb-4",children:[Object(o.jsx)("h5",{className:"mt-2 mb-3",children:"Totale"}),Object(o.jsx)("div",{className:"box-numbers",children:ya}),Object(o.jsxs)("div",{className:"box-text",children:[Sa," % della platea dose booster 5-11"]})]})})})})]}),Object(o.jsx)("div",{className:"col-12 d-flex justify-content-center align-items-center p-3 section-title small",children:Object(o.jsx)("div",{className:"mb-2",children:Object(o.jsx)("h3",{className:"text-center",children:"Ciclo Vaccinale Primario 0-4 anni"})})}),Object(o.jsxs)("div",{className:"row bg-box mb-4",children:[Object(o.jsx)("div",{className:"col-md-4 col-sm-12",children:Object(o.jsx)("div",{className:"box-card p-2",children:Object(o.jsx)("div",{className:"p-1",children:Object(o.jsxs)("div",{className:"align-items-center justify-content-center text-center mb-4",children:[Object(o.jsx)("h5",{className:"mt-2",children:"Con almeno una dose"}),Object(o.jsx)("div",{className:"box-numbers",children:ka}),Object(o.jsxs)("div",{className:"box-text",children:[Ta," % della popolazione 0-4"]}),Object(o.jsx)("div",{className:"box-label",children:"(persone con almeno una somministrazione)"})]})})})}),Object(o.jsx)("div",{className:"col-md-4 col-sm-12",children:Object(o.jsx)("div",{className:"box-card p-2",children:Object(o.jsx)("div",{className:"p-1",children:Object(o.jsxs)("div",{className:"align-items-center justify-content-center text-center mb-4",children:[Object(o.jsx)("h5",{className:"mt-2",children:"Ciclo vaccinale"}),Object(o.jsx)("div",{className:"box-numbers",children:Ya}),Object(o.jsxs)("div",{className:"box-text",children:[Va," % della popolazione 0-4"]}),Object(o.jsx)("div",{className:"box-label",children:"(persone che hanno completato il ciclo vaccinale)"})]})})})}),Object(o.jsx)("div",{className:"col-md-4 col-sm-12",children:Object(o.jsx)("div",{className:"box-card p-2",children:Object(o.jsx)("div",{className:"p-1",children:Object(o.jsxs)("div",{className:"align-items-center justify-content-center text-center mb-4",children:[Object(o.jsx)("h5",{className:"mt-2",children:"Guariti"}),Object(o.jsx)("div",{className:"box-numbers",children:Ha}),Object(o.jsxs)("div",{className:"box-text",children:[Za," % della popolazione 0-4"]}),Object(o.jsx)("div",{className:"box-label",children:"guarita da al massimo 6 mesi senza alcuna somministrazione"})]})})})}),Object(o.jsx)("div",{className:"col-md-12 col-sm-12",children:Object(o.jsx)("div",{className:"box-card",children:Object(o.jsx)("div",{className:"p-1",children:Object(o.jsxs)("div",{className:"align-items-center justify-content-center text-center mb-4",children:[Object(o.jsx)("h5",{className:"mt-2",children:"Totale"}),Object(o.jsx)("div",{className:"box-numbers",children:eo}),Object(o.jsxs)("div",{className:"box-text",children:[io," % della popolazione 0-4"]})]})})})})]})]})},re=function(e){var t=+e.width,a=+e.height,n=Object(i.useRef)(),l=Object(i.useRef)();Object(i.useEffect)((function(){W.h(l.current).selectAll("svg").remove(),c()}),[e]);var s=function(e){var t=W.h(e.node().parentNode),a=parseInt(e.style("width"),10),o=parseInt(e.style("height"),10),i=a/o;function n(){var a=parseInt(t.style("width"));e.attr("width",a),e.attr("height",Math.round(a/i))}e.attr("viewBox","0 0 ".concat(a," ").concat(o)).attr("preserveAspectRatio","xMinYMid").call(n),W.h(window).on("resize."+t.attr("id"),n)};var c=function(){var o,i=(null===e||void 0===e?void 0:e.data)||[],n=(null===i||void 0===i?void 0:i.reduce((o=e.property.yprop,function(e,t){return(null===t||void 0===t?void 0:t[o])>e?null===t||void 0===t?void 0:t[o]:e}),0))||0,c=W.h(l.current).append("svg").attr("width",t).attr("height",a),r=50,d=20,u=W.f().padding(.5),b=W.g().domain([0,n]);b.range([a,0]),u.range([0,t]).domain(i.map((function(t){return t[e.property.xprop]}))),c.attr("width",t+2*d).attr("height",a+2*r).call(s).attr("id","svg-bar");var m=c.append("g").attr("transform","translate(".concat(d,",").concat(r,")"));m.append("g").attr("class","axis-dark").attr("transform","translate(0,".concat(a,")")).style("font-size",16).call(W.a(u));var v=m.selectAll().data(i);v.enter().append("rect").on("click",(function(t,a){e.handleBarChartClick(a)})).attr("id",(function(e){return null===e||void 0===e?void 0:e.fornitore})).attr("opacity",(function(t){var a;return(null===(a=e.selected)||void 0===a?void 0:a.fornitore)===(null===t||void 0===t?void 0:t.fornitore)?1:e.selected?.1:1})).attr("class","bg-bar").attr("x",(function(t){return+u(t[e.property.xprop])})).attr("y",(function(t){return b(t[e.property.yprop])})).attr("height",(function(t){return a-b(t[e.property.yprop])})).attr("width",u.bandwidth()).append("title").attr("x",(function(t){return u(t[e.property.xprop])})).attr("y",(function(t){return b(t[e.property.yprop])})).text((function(t){return"Fornitore ".concat(t[e.property.xprop]," totale: ").concat(t[e.property.yprop])})),v.enter().append("text").attr("class","bartext-dark").attr("text-anchor","center").attr("fill","black").attr("x",(function(t){return u(t[e.property.xprop])-5})).attr("y",(function(t){return a-b(t[e.property.yprop])>=0?b(t[e.property.yprop])-10:b(t[e.property.yprop])})).text((function(t){var a;return null===(a=t[e.property.yprop])||void 0===a?void 0:a.toLocaleString("it")})),v.exit().remove()};return Object(o.jsx)("div",{ref:l,children:Object(o.jsx)("svg",{ref:n})})},de=function(e){var t=Object(i.useState)(null),a=Object(r.a)(t,2),n=a[0],l=a[1],s=Object(i.useState)(null),c=Object(r.a)(s,2),d=c[0],u=c[1],b=Object(i.useState)([]),m=Object(r.a)(b,2),v=m[0],j=m[1],p=Object(i.useState)(0),x=Object(r.a)(p,2),h=x[0],f=x[1],g=function(){var t,a,o;j(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.allDosesSupplier),f(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.totalSuplier),u(null),l(null),f(null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.totalSuplier)};Object(i.useEffect)((function(){if(!Object(O.isEmpty)(e)){var t,a,o=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.allDosesSupplier;o&&o.map((function(e){return e.fornitore.includes("Vaxzevria")&&(e.fornitore="Vaxzevria"),e})),j(o),f(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.totalSuplier)}}),[e]);var y=function(e){u(e)};return Object(o.jsxs)("div",{className:"row",children:[Object(o.jsxs)("div",{className:"col-12 col-md-12 mt-4",children:[Object(o.jsx)("div",{className:"col-12 d-flex justify-content-center align-items-center section-title mx-2",children:Object(o.jsx)("div",{className:"text-center",children:Object(o.jsx)("h3",{children:"Distribuzione vaccini per fornitore"})})}),Object(o.jsxs)("div",{className:"col-12 col-md-12 m-3",children:[Object(o.jsx)("div",{className:"d-lg-none bg-box box-mobile m-3",children:Object(o.jsxs)("div",{className:"text-white",children:[Object(o.jsx)("div",{className:"d-flex justify-content-center pt-5",children:Object(o.jsx)("h5",{children:"Totale vaccini distribuiti"})}),Object(o.jsx)("div",{className:"d-flex justify-content-center",children:Object(o.jsx)("p",{className:"box-numbers",children:null===h||void 0===h?void 0:h.toLocaleString("it")})}),Object(o.jsx)("div",{className:"col-12 d-flex justify-content-end pb-2",children:Object(o.jsx)("img",{alt:"reset-plot2",src:"reset_white.png",onClick:g,height:"36px"})})]})}),Object(o.jsx)("div",{className:"offset-md-8 col-md-4 d-none d-lg-block",children:Object(o.jsx)("div",{className:"bg-box box-card box-right",children:Object(o.jsxs)("div",{className:"text-white",children:[Object(o.jsx)("div",{className:"d-flex justify-content-start pt-3 pl-5",children:Object(o.jsx)("h5",{children:"Totale vaccini distribuiti"})}),Object(o.jsx)("div",{className:"d-flex justify-content-start pl-5",children:Object(o.jsx)("p",{className:"box-numbers",children:null===h||void 0===h?void 0:h.toLocaleString("it")})}),Object(o.jsx)("div",{className:"col-12 d-flex justify-content-end pb-2",children:Object(o.jsx)("img",{alt:"Reset",src:"reset_white.png",onClick:g,height:"36px"})})]})})})]})]}),Object(o.jsx)("div",{className:"col-12 col-md-7 w-100 h-100 pb-5",children:Object(o.jsx)(re,{width:"850",handleBarChartClick:function(e){d===e?g():n?(g(),function(e){if(document.getElementById(e)&&e){var t=new MouseEvent("click",{bubbles:!0,cancelable:!0});document.getElementById(e).dispatchEvent(t)}}(e.fornitore)):(y(e),u(e),f(null===e||void 0===e?void 0:e.totale))},height:"350",selected:d,property:{xprop:"fornitore",yprop:"totale"},data:v})})]})};a(184);E.a.DataTable=U.a;var ue=[{title:"Regione",data:"area"},{title:"Punto di somministrazione",data:"denominazione_struttura"},{title:"Tipologia",data:"tipologia"}],be=function(e){return Object(i.useEffect)((function(){var t,a=e.setLocationCount,o=E()("#datatable-locations").find("table").DataTable({dom:"<'row'<'col-sm-12 col-md-6'l><'col-sm-12 col-md-6'>><'row'<'col-sm-12'tr>><'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7'p>>",paging:!1,columnDefs:[{targets:[1,2],searchable:!1}],searching:!0,destroy:!0,bLengthChange:!1,info:!1,scrollY:"550px",scrollCollapse:!0,data:(null===(t=e.summary)||void 0===t?void 0:t.locations)||[],columns:ue});(null===e||void 0===e?void 0:e.selected)?o.search(e.selected).draw():o.search(" ").draw(),a(o.rows({search:"applied"}).count()/2)})),Object(o.jsx)("div",{id:"datatable-locations",children:Object(o.jsx)("table",{className:"display compact",cellSpacing:"0",width:"100%"})})},me=function(e){var t=e.locationCount;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"d-flex pl-5 pt-3",children:Object(o.jsx)("h5",{children:"Totale punti somministrazione"})}),Object(o.jsx)("div",{className:"d-flex pl-5",children:Object(o.jsx)("p",{className:"box-numbers",children:t})})]})},ve=function(){return Object(o.jsx)("div",{className:"w-100 h-100 d-flex justify-content-start pr-5",children:Object(o.jsxs)("h5",{className:"pl-3 pl-sm-1",children:["Principali punti di",Object(o.jsx)("br",{})," somministrazione ",Object(o.jsx)("br",{})," per regione"]})})},je=function(e){var t=e.data,a=Object(i.useState)({}),n=Object(r.a)(a,2),l=n[0],s=n[1],d=Object(i.useState)(""),u=Object(r.a)(d,2),b=u[0],m=u[1],v=Object(i.useState)(0),j=Object(r.a)(v,2),p=j[0],x=j[1];Object(i.useEffect)((function(){Object(O.isEmpty)(t)||s(t)}),[t]);var h=function(){m(""),x(0)};return Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"col-12 d-flex justify-content-center align-items-center section-title mx-2",children:Object(o.jsxs)("div",{className:"text-center",children:[Object(o.jsx)("h3",{children:"Principali punti di somministrazione"}),Object(o.jsxs)("p",{children:["(Sono inclusi i punti di somministrazione ospedalieri e territoriali;",Object(o.jsx)("br",{}),"non sono inclusi i punti di somministrazione temporanei)"]})]})}),Object(o.jsxs)("div",{className:"col-12 col-md-12 m-3",children:[Object(o.jsxs)("div",{className:"d-lg-none bg-box box-mobile m-3",children:[Object(o.jsx)("div",{className:"text-white",children:Object(o.jsx)(me,{locationCount:p})}),Object(o.jsx)("div",{className:"col-12 d-flex justify-content-end pb-2",children:Object(o.jsx)("img",{alt:"reset-plot",src:"reset_white.png",onClick:h,height:"36"})})]}),Object(o.jsx)("div",{className:"col-4 col-md-4 d-none d-lg-block",children:Object(o.jsx)("div",{className:"bg-box box-card box-left",children:Object(o.jsxs)("div",{className:"text-white",children:[Object(o.jsx)(me,{locationCount:p}),Object(o.jsx)("div",{className:"col-12 d-flex justify-content-end pb-2",children:Object(o.jsx)("img",{alt:"reset-white",src:"reset_white.png",onClick:h,height:"36px"})})]})})})]}),Object(o.jsxs)("div",{className:"col-12 col-md-6",children:[Object(o.jsx)("div",{className:"p-2 d-lg-none text-center",children:"Principali Punti di Somministrazione per Regione"}),Object(o.jsx)("div",{className:"d-none d-lg-block map-legend",children:Object(o.jsx)(ve,{})}),Object(o.jsx)("div",{className:"mt-5",children:Object(o.jsx)(Z,{fillMapDeliveryArea:function(e){var t=e.region,a=e.maxValue,o=e.field,i=0;if(t.area===b)i=1;else if(b){var n=t[o]/(2*a);i=Object(O.max)([n,.1])}else i=Object(O.max)([t[o]/a,.1]);return"rgba(23,50,77,".concat(i,")")},summary:t.locationsByRegion,handleMapDeliveryClick:function(e){b===e.area?m(null):m(e.area)},tooltip:function(e){return e.area+": "+(e.locations&&e.locations.toLocaleString("it"))},fillBy:"locations",className:"ml-5 w-100 h-100"})})]}),Object(o.jsx)("div",{className:"col-12 col-md-6 pl-3",children:Object(o.jsx)(be,{summary:Object(c.a)({},l),selected:b,className:"mr-5 h-100",setLocationCount:x})})]})};var pe=function(){var e=Object(i.useState)({}),t=Object(r.a)(e,2),a=t[0],n=t[1];return Object(i.useEffect)((function(){I().then((function(e){!function(){var e=document.getElementById("loader-custom");e&&(e.className=e.className.includes("d-none")?e.className:e.className+" d-none")}(),n(e)}))}),[]),Object(o.jsxs)("div",{children:[Object(o.jsx)(d,{}),Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)(v,{summary:Object(c.a)({},a)}),"          ",Object(o.jsx)(ce,{data:a}),"                  ",Object(o.jsx)(q,{data:a}),"               ",Object(o.jsx)(te,{data:a}),"                   ",Object(o.jsx)(ne,{data:a}),"                    ",Object(o.jsx)(Q,{data:a}),"                 ",Object(o.jsx)(de,{data:a}),"                 ",Object(o.jsx)(je,{data:a}),"                "]}),Object(o.jsx)(u,{})]})},xe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,186)).then((function(t){var a=t.getCLS,o=t.getFID,i=t.getFCP,n=t.getLCP,l=t.getTTFB;a(e),o(e),i(e),n(e),l(e)}))};s.a.render(Object(o.jsx)(n.a.StrictMode,{children:Object(o.jsx)(pe,{})}),document.getElementById("root")),xe()},52:function(e,t,a){}},[[185,1,2]]]);
//# sourceMappingURL=main.efae8f20.chunk.js.map