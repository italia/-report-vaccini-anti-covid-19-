{"version":3,"sources":["components/HeaderBar.jsx","components/FooterBar.jsx","components/TotalHistory.jsx","components/Total.jsx","utils.js","loadData.js","components/AgeHStackedBarChart.jsx","components/MapArea.jsx","containers/agedoses.jsx","components/AgeHStackedBarChartHistory.jsx","containers/agedosesHistory.jsx","components/StackedBarChart.jsx","components/RangeWeek.jsx","containers/weeks.jsx","containers/databox.jsx","App.jsx","reportWebVitals.js","index.js"],"names":["HeaderBar","className","src","height","alt","href","aria-label","rel","FooterBar","title","id","target","TotalHistory","props","summary","tot","toLocaleString","Total","timestamp","moment","format","totCampagna","sumDoseX","y","acc","x","filterBy","z","replaceArea","filterByArea","area","areaMapping","code","ABR","BAS","CAL","CAM","EMR","FVG","LAZ","LIG","LOM","MAR","MOL","PAB","PAT","PIE","PUG","SAR","SIC","TOS","UMB","VDA","VEN","baseURL","obj","retobj","key","inverse","years","sommVaxSummaryURL","sommVaxDetailBaseURL","vaxSummaryURL","lastUpdateURL","plateaURL","plateaDoseAddizionaleBoosterURL","plateaDoseSecondBoosterURL","plateaDoseThirdBoosterURL","sommVaxDetailCampagna2324URL","sommVaxSummaryCampagna2324URL","elaborate","data","dataSommVaxSummary","dataSommVaxDetail","dataVaxSummary","dataPlatea","dataPlateaDoseAddizionaleBooster","dataPlateaSecondBooster","dataPlateaThirdBooster","dataSommVaxSummaryCampagna2324","dataSommVaxDetailCampagna2324","fasciaEta","fasciaEtaHistory","dataLastUpdate","ultimo_aggiornamento","filter","d","reduce","totalDoses","prima_dose","_","sum","map","e","eta","d1","pregressa_infezione","dpi","seconda_dose","d2","prima_dose_janssen","forn","prima_dose_infant","seconda_dose_infant","pregressa_infezione_infant","prima_dose_janssen_infant","prima_dose_baby","seconda_dose_baby","pregressa_infezione_baby","prima_dose_janssen_baby","dose_addizionale_booster","db1","dose_second_booster","db2","dose_third_booster","db3","dose_addizionale_booster_baby","totalPlatea","totale_popolazione","totalPlateaBaby","totalPlateaInfant","totalPlateaDoseAddizionaleBooster","categoria_prevalente","databoxContent","totalPlateaDoseAddizionaleBoosterBaby","totalPlateaDoseSecondBooster","totalPlateaDoseThirdBooster","deliverySummary","deliveredByArea","groupBy","totalDeliverySummary","items","details","head","dosi_consegnate","dosi_somministrate","percentuale_somministrazione","value","spectrum","suppliersColor","suppliers","row","includes","push","indexOfPediatrico","indexOf","splice","rowFornitore","Object","keys","length","weeksMappingOptimation","index","suppliersWeek","date","Date","entry","label","Moment","getTime","from","labelfrom","to","labelto","total","week","f","m","pop","weekContent","keyValueDoses","keysDosesAges","dosesAges","values","dosesAgesData","rowAge","keyAge","sort","a","b","secondDosesMapData","totale","rowAgeCorrect","dosesAgesRegionData","subItems","agedosesContent","dosesAgesColor","keyValueDosesHistory","keysDosesAgesHistory","dosesAgesHistory","dosesAgesDataHistory","entryTmp","totaleSom","secondDosesMapDataHistory","somministrazioni","popolazione","popolazioneFascia","dosesAgesRegionDataHistory","agedosesContentHistory","dosesAgesColorHistory","loadData","Promise","all","fetch","resSommVaxSummary","resVaxSummary","resLastUpdate","resPlatea","resPlateaDoseAddizionaleBooster","resPlateaDoseSecondBooster","resPlateaDoseThirdBooster","resSommVaxSummaryCampagna2324","resSommVaxDetailCampagna2324","arrayLatestURL","i","arrayLatestRes","json","arrayLatestJson","arrayLatestData","AgeHStackedBarChart","handleRectClick","width","labels","colors","selectedCodeAge","regionSelected","myRef","useRef","divRef","useEffect","d3","current","selectAll","remove","draw","responsivefy","svg","container","node","parentNode","parseInt","style","aspect","resize","targetWidth","attr","Math","round","call","window","on","dataset","append","margin","xScale","domain","yScale","padding","range","chart","tooltip","path","enter","html","ageCode","toLowerCase","replaceAll","bandwidth","this","transition","event","regione","pageY","pageX","toFixed","exit","ref","MapArea","handleMapDeliveryClick","fillMapDeliveryArea","fillBy","percentage","useState","geographies","setGeographies","maxValue","setMaxValue","maxBy","projection","center","rotate","parallels","scale","translate","res","topojson","objects","regions","features","fetchData","reg_name","properties","region","trim","fill","field","stroke","strokeWidth","onClick","AgeDoses","setdosesAgesColor","dosesAgesKeys","setDosesAgesKeys","setKeyValueDoses","setDosesAgesData","categoryMapData","setCategoryMapData","categoryMapField","setCategoryMapField","categorySelectedRegion","setCategorySelectedRegion","categorySelectedRegionDescr","setCategorySelectedRegionDescr","setSelectedCodeAge","totalByCategory","setTotalByCategory","isEmpty","resetFilter","property","xprop","yprop","cat","scaleOp","valueToFill","max","r","perc","AgeDosesHistory","setdosesAges","console","log","totale_somministrazioni","dose","backgroundColor","totalKey","StackedBarChart","selectedFrom","selectedTo","ytitle","slice","text","RangeWeek","min","changeFrom","changeTo","setValues","display","justifyContent","flexWrap","draggableTrack","step","rtl","onChange","renderTrack","children","onMouseDown","onTouchStart","marginRight","marginLeft","borderRadius","background","getTrackBackground","alignSelf","renderThumb","isDragged","alignItems","boxShadow","Weeks","setSuppliersColor","setSuppliers","setSuppliersWeek","setFrom","setTo","totalLastWeek","setTotalLastWeek","fromLastWeek","setFromLastWeek","toLastWeek","setToLastWeek","lastWeek","substring","supply","xtitle","marginBottom","Databox","totalePrimaDose","setTotalePrimaDose","percentualePrimaDosePopolazione","setPercentualePrimaDosePopolazione","totalePersoneVaccinate","setTotalePersoneVaccinate","totalePersoneVaccinatePopolazione","setTotalePersoneVaccinatePopolazione","totaleDoseAddizionaleBooster","setTotaleDoseAddizionaleBooster","percentualeDoseAddizionaleBooster","setPercentualeDoseAddizionaleBooster","totalePersoneSecondBooster","setTotalePersoneSecondBooster","percentualePersoneSecondBooster","setPercentualePersoneSecondBooster","totalePersoneThirdBooster","setTotalePersoneThirdBooster","percentualePersoneThirdBooster","setPercentualePersoneThirdBooster","totalePrimaDoseBaby","setTotalePrimaDoseBaby","percentualePrimaDosePopolazioneBaby","setPercentualePrimaDosePopolazioneBaby","totalePersoneVaccinateBaby","setTotalePersoneVaccinateBaby","totalePersoneVaccinatePopolazioneBaby","setTotalePersoneVaccinatePopolazioneBaby","totaleDoseAddizionaleBoosterBaby","setTotaleDoseAddizionaleBoosterBaby","percentualeDoseAddizionaleBoosterBaby","setPercentualeDoseAddizionaleBoosterBaby","totalePrimaDoseInfant","setTotalePrimaDoseInfant","percentualePrimaDosePopolazioneInfant","setPercentualePrimaDosePopolazioneInfant","totalePersoneVaccinateInfant","setTotalePersoneVaccinateInfant","totalePersoneVaccinatePopolazioneInfant","setTotalePersoneVaccinatePopolazioneInfant","digit","minimumFractionDigits","maximumFractionDigits","prima","isNaN","primaBaby","totBaby","primaInfant","totInfant","App","setSummary","then","loading","document","getElementById","hideLoader","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.8400eb91.chunk.js","sourcesContent":["import React from \"react\";\nimport \"bootstrap-italia/dist/css/bootstrap-italia.min.css\";\nimport \"../App.css\";\nimport \"typeface-titillium-web\";\nimport \"typeface-roboto-mono\";\nimport \"typeface-lora\";\n\nexport const HeaderBar = () => {\n  return (\n    <div>\n      <div className=\"row m-0 bg-tertiary justify-content-md-center\">\n        <div className=\"col-12 d-flex justify-content-md-center justify-content-sm-start logo-section pr-sm-0 pt-2 pb-2\">\n            <img src=\"logo.svg\" height=\"4px\" alt=\"Logo\" className=\"logo pl-5 pr-2\" />\n            <p className=\"h5\">\n                <a className=\"text-decoration-none\" href=\"https://www.salute.gov.it/\" aria-label =\"Collegamento al sito www.salute.gov.it. Apre una nuova pagina.\" rel=\"noreferrer\" alt=\"Collegamento al sito www.salute.gov.it. Apre una nuova pagina.\">\n                Ministero della Salute\n                </a>\n            </p>\n        </div>\n      </div>\n      <div className=\"flag_container clearfix\">\n        <div className=\"green clearfix\"></div>\n        <div className=\"white clearfix\"></div>\n        <div className=\"red clearfix\"></div>\n      </div>\n      <div>\n        {/** TITLE + LOGO*/}\n        <div className=\"col-12 d-flex flex-column justify-content-center mainBanner\">\n          <div className=\"row pt-5 row-header-div\">\n            <div className=\"col-md-9\">\n              <h1 className=\"large-title pl-2 d-lg-none d-md-none d-xs-block\">Report Vaccini Anti COVID-19</h1> {/* Title Mobile*/}\n              <h1 className=\"page-title large-title pl-2 d-none d-md-block\">Report Vaccini Anti COVID-19</h1>  {/* Title Desktop*/}\n            </div>\n            <div className=\"col-md-3 vertical-align\">\n              <a className=\"button-header\" href=\"https://www.salute.gov.it/portale/nuovocoronavirus/homeNuovoCoronavirus.jsp\" aria-label=\"vai all'area Covid-19\" rel=\"noreferrer\" alt=\"vai all'area Covid-19\">vai all'area <b>Covid-19 <span className=\"fa-solid fa-chevron-right\"></span></b></a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n","import React from \"react\";\n\nexport const FooterBar = () => {\n    return (\n        <>\n            <footer className=\"row m-0 bg-footer\">\n                <div className=\"container\">\n                    <div className=\"row\">\n                        <div className=\"col-md-2 no-grid pb-2\">\n                            <a title=\"Collegamento al sito www.salute.gov.it. Apre una nuova pagina.\" href=\"https://www.salute.gov.it/\">\n                                <img src=\"logo.svg\" alt=\"Logo\" />\n                            </a>\n                        </div>\n                        <div className=\"col-md-6 no-grid pb-2\">\n                            <p className=\"footer-title h3\">© 2022 - Testata di proprietà del Ministero della Salute</p>\n                        </div>\n                        <div className=\"col-md-4 no-grid pb-2\">\n                            <div className=\"social-section\">\n                                <span id=\"social-footer\">\n                                    <a title=\"Collegamento alla pagina Facebook del Ministero della Salute. Apre una nuova pagina.\" href=\"https://www.facebook.com/MinisteroSalute\">\n                                        <span className=\"fab fa-facebook\">\n                                        </span>\n                                    </a>\n                                    <a title=\"Collegamento alla pagina Twitter del Ministero della Salute. Apre una nuova pagina.\" href=\"https://twitter.com/ministerosalute\">\n                                        <span className=\"fab fa-twitter\">\n                                        </span>\n                                    </a>\n                                    <a title=\"Collegamento al canale Youtube del Ministero della Salute. Apre una nuova pagina.\" href=\"https://www.youtube.com/user/MinisteroSalute\">\n                                        <span className=\"fab fa-youtube\">\n                                        </span>\n                                    </a>\n                                    <a title=\"Collegamento alla pagina Instagram del Ministero della Salute. Apre una nuova pagina.\" href=\"https://www.instagram.com/ministerosalute\">\n                                        <span className=\"fab fa-instagram\">\n                                        </span>\n                                    </a>\n                                    <a title=\"Collegamento al canale Telegram del Ministero della Salute. Apre una nuova pagina.\" href=\"https://t.me/MinisteroSalute\">\n                                        <span className=\"fab fa-telegram\">\n                                        </span>\n                                    </a>\n                                    <a title=\"Collegamento alla pagina Linkedin del Ministero della Salute. Apre una nuova pagina.\" href=\"https://www.linkedin.com/company/MinisteroSalute\">\n                                        <span className=\"fab fa-linkedin\">\n                                        </span>\n                                    </a>\n                                </span>\n                                <a className=\"button-open-data\" href=\"https://www.governo.it/it/dipartimenti/unit-il-completamento-della-campagna-vaccinale-e-ladozione-di-altre-misure-di-contrasto\" aria-label=\"vai all'area Covid-19\" rel=\"noreferrer\" alt=\"vai all'area Covid-19\"><b>Open Data <span className=\"fa-solid fa-chevron-right\"></span></b></a>\n                            </div>\n\n\n                        </div>\n                    </div>\n                    <div className=\"row\">\n                        <ul className=\"footer-links col-12\">\n                            <li>\n                                <a title=\"Mappa\" href=\"https://www.salute.gov.it/portale/nuovocoronavirus/dettaglioContenutiNuovoCoronavirus.jsp?lingua=italiano&id=5343&area=nuovoCoronavirus&menu=vuoto\">Mappa</a>\n                            </li>\n                            <li>\n                                <a title=\"Link\" href=\"https://www.salute.gov.it/portale/nuovocoronavirus/dettaglioContenutiNuovoCoronavirus.jsp?lingua=italiano&id=5344&area=nuovoCoronavirus&menu=vuoto\">Link</a>\n                            </li>\n                            <li>\n                                <a title=\"Credits\" href=\"https://www.salute.gov.it/portale/nuovocoronavirus/dettaglioContenutiNuovoCoronavirus.jsp?lingua=italiano&id=5345&area=nuovoCoronavirus&menu=vuoto\">Credits</a>\n                            </li>\n                            <li>\n                                <a title=\"Note legali\" href=\"https://www.salute.gov.it/portale/nuovocoronavirus/dettaglioContenutiNuovoCoronavirus.jsp?lingua=italiano&id=5185&area=nuovoCoronavirus&menu=vuoto\">Note legali</a>\n                            </li>\n                            <li>\n                                <a title=\"Privacy\" href=\"https://www.salute.gov.it/portale/nuovocoronavirus/dettaglioContenutiNuovoCoronavirus.jsp?lingua=italiano&id=5186&area=nuovoCoronavirus&menu=vuoto\">Privacy</a>\n                            </li>\n                            <li>\n                                <a title=\"Social Media Policy\" href=\"https://www.salute.gov.it/portale/nuovocoronavirus/dettaglioContenutiNuovoCoronavirus.jsp?lingua=italiano&id=5500&area=nuovoCoronavirus&menu=vuoto\">Social Media Policy</a>\n                            </li>\n                            <li>\n                                <a title=\"Accessibilità\" href=\"https://www.salute.gov.it/portale/nuovocoronavirus/dettaglioContenutiNuovoCoronavirus.jsp?lingua=italiano&id=5229&area=nuovoCoronavirus&menu=vuoto\">Accessibilità</a>\n                            </li>\n                            <li>\n                                <a href=\"https://form.agid.gov.it/view/90fa205d-e0e3-4521-8b38-ab64ec5189ae\" rel=\"noreferrer\" target=\"_blank\">Dichiarazione di Accessibilità</a>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n            </footer>\n    </>\n    );\n};\n","import { React } from \"react\";\n\nexport const TotalHistory = (props) => {\n    return (\n        <div className=\"w-100 my-3\">\n            <div className=\"p-3 mb-5\">\n                <h3 className=\"text-center\">Dati storici vaccinazione anti Covid-19 fino al<br/>24/09/2023</h3>\n                <div className=\"col-12 justify-content-center align-items-center\">\n                    <div className=\"d-flex justify-content-center\">Dati e statistiche sulla vaccinazione anti Covid-19 a partire dal 27 Dicembre 2020 al 24 Settembre 2023.</div>\n                </div>\n            </div>\n            <div className=\"d-flex flex-column justify-content-center\">\n                <div className=\"d-flex justify-content-center align-items-baseline\">\n                    <img src=\"meds.png\" alt=\"meds\" className=\"pl-2 pr-5\" />\n                    {\" \"}\n                    <div className=\"pl-2 mt-4 numbers\">{props.summary.tot?.toLocaleString('it')}</div>\n                </div>\n                <span className=\"border-divider mb-2\"></span>\n                <div className=\"d-flex justify-content-center\">\n                    {\" \"}\n                    <h3>Totale somministrazioni fino al 24/09/2023</h3>\n                </div>\n            </div>\n        </div>\n    );\n};\n","import { React } from \"react\";\nimport moment from \"moment\";\n\nexport const Total = (props) => {\n    return (\n        <div className=\"h-100 w-100 my-3\">\n            <div className=\"p-3 mb-5\">\n                <h3 className=\"text-center\">Campagna vaccinale Autunno-Inverno 2023/2024</h3>\n                <div className=\"col-12 d-flex justify-content-center align-items-center\">\n                    <h6>I dati sono aggiornati su base settimanale e sono disponibili in formato aperto con il dettaglio giornaliero.</h6>\n                </div>\n            </div>\n\n            <div className=\"mx-auto\">\n                <h5 className=\"text-center pb-4\">Ultimo aggiornamento dati</h5>\n                <h6 className=\"text-center pb-4\">\n                    {props.summary.timestamp && moment(props.summary.timestamp).format(\"DD-MM-YYYY\")}\n                </h6>\n            </div>\n            <div className=\"d-flex flex-column justify-content-center\">\n                <div className=\"d-flex justify-content-center align-items-baseline\">\n                    <img src=\"meds.png\" alt=\"meds\" className=\"pl-2 pr-5\" />\n                    {\" \"}\n                    <div className=\"pl-2 mt-4 numbers\">{props.summary.totCampagna?.toLocaleString('it')}</div>\n                </div>\n                <span className=\"border-divider mb-2\"></span>\n                <div className=\"d-flex justify-content-center\">\n                    {\" \"}\n                    <h3>Totale somministrazioni con vaccino adattato XBB 1.5</h3>\n                </div>\n                <div className=\"d-flex justify-content-center\">Il dato può subire variazioni negative a seguito di rettifiche da parte delle regioni</div>\n            </div>\n        </div>\n    );\n};\n","import * as _ from 'lodash';\nexport const hideLoader = () => {\n  let loading = document.getElementById('loader-custom');\n  if (loading) loading.className = !loading.className.includes('d-none') ? loading.className + ' d-none' : loading.className;\n}\nexport const showLoader = () => {\n  let loading = document.getElementById('loader-custom');\n  if (loading) loading.className = loading.className.includes('d-none') ? loading.className.replace('d-none', '') : loading.className;\n}\nexport const sumDose = (acc, x) => acc + +x?.TML_DOSE_1 + +x?.TML_DOSE_2;\nexport const sumDoseXY = (y, z) => (acc, x) => acc + +x?.[y] + +x?.[z];\nexport const sumYear = (accumulator, currentValue) => accumulator + currentValue;\nexport const sumDoseX = (y) => (acc, x) => acc + +x?.[y];\nexport const maxX = (y) => (acc, x) => (x?.[y] > acc ? x?.[y] : acc);\nexport const age = [\"16-19\", \"20-29\", \"30-39\", \"40-49\", \"50-59\", \"60-69\", \"70-79\", \"80-89\", \"90+\"];\nexport const groupByAge = (array) => {\n  let _age;\n  if (Array.isArray(array) && array.length > 0) {\n    _age = age.map(el => {\n      let resMale = _.sum(array.filter(_el => _el.fascia_anagrafica.trim() === el).map(__el => __el.sesso_maschile));\n      let resFemale = _.sum(array.filter(_el => _el.fascia_anagrafica.trim() === el).map(__el => __el.sesso_femminile));\n      return { fascia_anagrafica: el, sesso_femminile: resFemale, sesso_maschile: resMale, totale: resMale + resFemale };\n    });\n  }\n  return _age;\n}\nexport const mapArrayByProp = (array, prop) => array.map((e) => e[prop]);\nexport const reduceSum = (array) => array.reduce(sumYear);\n\nexport const aggrBy = (p) => (acc, x) => {\n  let key = x[p];\n  if (!acc[key]) {\n    acc[key] = [];\n  }\n  acc[key].push(x);\n  return acc;\n};\nexport const filterBy = (y) => (z) => (x) => {\n  return x[y] === z;\n};\nexport const filterByArea = filterBy(\"area\");\nexport const filterByAreaITA = filterByArea(\"ITA\");\nexport const filterByAge = filterBy(\"TML_FASCIA_ETA\");\nexport const mapBy = (y) =>\n  Object.keys(y).map((x) => {\n    return { [x]: { sum: y[x].reduce(sumDose, 0) } };\n  });\nexport const mapByX = (y, z) =>\n  Object.keys(y).map((x) => {\n    return { [x]: y[x].reduce(sumDoseX(z), 0) };\n  });\nconst inverse = (obj) => {\n  let retobj = {};\n  for (const key in obj) {\n    retobj[obj[key]] = key;\n  }\n  return retobj;\n};\nexport const simulateClick = (id) => {\n  if (document.getElementById(id) && id) {\n    let clickEvt = new MouseEvent('click', {\n      'bubbles': true,\n      'cancelable': true\n    });\n    document.getElementById(id).dispatchEvent(clickEvt);\n  }\n}\nexport const replaceArea = (x) => ({ ...x, area: areaMapping[x.area], code: x.area });\nexport const areaMapping = {\n  ABR: \"Abruzzo\",\n  BAS: \"Basilicata\",\n  CAL: \"Calabria\",\n  CAM: \"Campania\",\n  EMR: \"Emilia-Romagna\",\n  FVG: \"Friuli-Venezia Giulia\",\n  LAZ: \"Lazio\",\n  LIG: \"Liguria\",\n  LOM: \"Lombardia\",\n  MAR: \"Marche\",\n  MOL: \"Molise\",\n  PAB: \"P.A. Bolzano\",\n  PAT: \"P.A. Trento\",\n  PIE: \"Piemonte\",\n  PUG: \"Puglia\",\n  SAR: \"Sardegna\",\n  SIC: \"Sicilia\",\n  TOS: \"Toscana\",\n  UMB: \"Umbria\",\n  VDA: \"Valle d'Aosta\",\n  VEN: \"Veneto\",\n};\nexport const areaMappingReverse = inverse(areaMapping);\n","import { sumDoseX, replaceArea } from \"./utils\";\nimport _ from \"lodash\";\nimport Moment from 'moment';\n\nconst baseURL = \"https://raw.githubusercontent.com/italia/covid19-opendata-vaccini/master/dati\";\n\nconst years                                 = [2020, 2021, 2022, 2023];\nconst sommVaxSummaryURL                     = `${baseURL}/somministrazioni-vaccini-summary-latest.json`;\nconst sommVaxDetailBaseURL                  = `${baseURL}/somministrazioni-vaccini-latest-`;\nconst vaxSummaryURL                         = `${baseURL}/vaccini-summary-latest.json`;\nconst lastUpdateURL                         = `${baseURL}/last-update-dataset.json`;\nconst plateaURL                             = `${baseURL}/platea.json`;\nconst plateaDoseAddizionaleBoosterURL       = `${baseURL}/platea-dose-addizionale-booster.json`;\nconst plateaDoseSecondBoosterURL            = `${baseURL}/platea-second-booster.json`;\nconst plateaDoseThirdBoosterURL             = `${baseURL}/platea-3a-booster.json`;\n// campagna 2023-2024\nconst sommVaxDetailCampagna2324URL          = `${baseURL}/somministrazioni-vaccini-latest-campagna-2023-2024.json`;\nconst sommVaxSummaryCampagna2324URL         = `${baseURL}/somministrazioni-vaccini-summary-latest-campagna-2023-2024.json`;\n\n\nconst elaborate = (data) => {\n    /* creazioni delle costanti relative alle sorgenti dei file */\n    const dataSommVaxSummary                = data?.dataSommVaxSummary?.data;\n    const dataSommVaxDetail                 = data?.dataSommVaxDetail?.data;\n    const dataVaxSummary                    = data?.dataVaxSummary?.data;\n    const dataPlatea                        = data?.dataPlatea?.data;\n    const dataPlateaDoseAddizionaleBooster  = data?.dataPlateaDoseAddizionaleBooster?.data;\n    const dataPlateaSecondBooster           = data?.dataPlateaSecondBooster?.data;\n    const dataPlateaThirdBooster            = data?.dataPlateaThirdBooster?.data;\n    // campagna 2023-2024\n    const dataSommVaxSummaryCampagna2324    = data?.dataSommVaxSummaryCampagna2324?.data;\n    const dataSommVaxDetailCampagna2324     = data?.dataSommVaxDetailCampagna2324?.data;\n\n    /* array statico contenente tutte le fasce d'età */\n    const fasciaEta = ['0-4', '05-11', '12-59', '60-69', '70-79', '80+'];\n    const fasciaEtaHistory = ['0-4', '05-11', '12-19', '20-29', '30-39', '40-49', '50-59', '60-69', '70-79', '80+'];\n    \n    /********************************************************************************\n     * ----------------------- DATA AGGIORNAMENTO REPORT ----------------------------\n     *******************************************************************************/\n\n    //const timestamp = data.dataLastUpdate.data[0].ultimo_aggiornamento;\n    const timestamp = data?.dataLastUpdate.data[0].ultimo_aggiornamento;\n\n    /********************************************************************************\n     * ------------------------- TOTALE SOMMINISTRAZIONI ----------------------------\n     *******************************************************************************/\n    const tot = dataSommVaxSummary?.filter((d) => d.area !== \"ITA\").reduce(sumDoseX(\"totale\"), 0);   \n    const totCampagna = dataSommVaxSummaryCampagna2324?.filter((d) => d.area !== \"ITA\").reduce(sumDoseX(\"d\"), 0);   \n\n    /********************************************************************************\n     * --------------------------- BOX DI RIEPILOGO DATI ----------------------------\n     *******************************************************************************/\n\n    /* creazione totalDoses, oggetto contenente la somma delle principali statistiche presenti in Databox.jsx */\n    let totalDoses = {\n        /* Ciclo Vaccinale Primario */\n        prima_dose:                     _.sum(dataSommVaxDetail?.map((e) => (e?.eta === '05-11' || e?.eta === '00-04') ? 0 : e?.d1)), // somma delle prime dosi esclusa la fascia anagrafica 05-11\n        pregressa_infezione:            _.sum(dataSommVaxDetail?.map((e) => (e?.eta === '05-11' || e?.eta === '00-04') ? 0 : e?.dpi)), // somma delle pregresse infezioni esclusa la fascia anagrafica 05-11\n        seconda_dose:                   _.sum(dataSommVaxDetail?.map((e) => (e?.eta === '05-11' || e?.eta === '00-04') ? 0 : e?.d2)), // somma delle seconde dosi esclusa la fascia anagrafica 05-11\n        prima_dose_janssen:             _.sum(dataSommVaxDetail?.filter((e) => e.forn === \"Janssen\" && e?.eta !== '05-11' && e?.eta !== '00-04').map((e) => e?.d1)), // somma delle somministrazioni a dose unica escluse le fasce anagrafiche 00-04 05-11\n        /* Somministrazione platea 00-04 anni */\n        prima_dose_infant:              _.sum(dataSommVaxDetail?.map((e) => e?.eta === '00-04' ? e?.d1 : 0)), // somma delle prime dosi per fascia anagrafica 00-04\n        seconda_dose_infant:            _.sum(dataSommVaxDetail?.map((e) => e?.eta === '00-04' ? e?.d2 : 0)), // somma delle seconde dosi per fascia anagrafica 00-04\n        pregressa_infezione_infant:     _.sum(dataSommVaxDetail?.map((e) => e?.eta === '00-04' ? e?.dpi : 0)), // somma delle pregresse infezioni per la fascia anagrafica 00-04\n        prima_dose_janssen_infant:      _.sum(dataSommVaxDetail?.filter((e) => e.forn === \"Janssen\" && e?.eta === '00-04').map((e) => e?.d1)), // somma delle somministrazioni a dose unica per la fascia anagrafica 00-04\n        /* Somministrazione platea 5-11 anni */\n        prima_dose_baby:                _.sum(dataSommVaxDetail?.map((e) => e?.eta === '05-11' ? e?.d1 : 0)), // somma delle prime dosi per fascia anagrafica 05-11\n        seconda_dose_baby:              _.sum(dataSommVaxDetail?.map((e) => e?.eta === '05-11' ? e?.d2 : 0)), // somma delle seconde dosi per fascia anagrafica 05-11\n        pregressa_infezione_baby:       _.sum(dataSommVaxDetail?.map((e) => e?.eta === '05-11' ? e?.dpi : 0)), // somma delle pregresse infezioni per la fascia anagrafica 05-11\n        prima_dose_janssen_baby:        _.sum(dataSommVaxDetail?.filter((e) => e.forn === \"Janssen\" && e?.eta === '05-11').map((e) => e?.d1)), // somma delle somministrazioni a dose unica per la fascia anagrafica 05-11\n        /* Dose Addizionale/Booster */\n        dose_addizionale_booster:       _.sum(dataSommVaxDetail?.map((e) => (e?.eta === '05-11' || e?.eta === '00-04') ? 0 : e?.db1)), // somma delle prime dosi booster per la fascia over 12\n        /* Seconda dose booster */\n        dose_second_booster:            _.sum(dataSommVaxDetail?.map((e) => (e?.eta === '05-11' || e?.eta === '00-04') ? 0 : e?.db2)), // somma delle seconde dosi booster per la fascia over 12\n        /* Terza dose booster */\n        dose_third_booster:             _.sum(dataSommVaxDetail?.map((e) => (e?.eta === '05-11' || e?.eta === '00-04') ? 0 : e?.db3)), // somma delle terze dosi booster per la fascia over 12\n        /* Dose Addizionale/Booster 05-15 */\n        dose_addizionale_booster_baby:  _.sum(dataSommVaxDetail?.map((e) => e?.eta === '05-11' ? e?.db1 : 0)), // somma delle prime dosi booster per la fascia 5-11\n    };\n\n    /* calcolo delle platee */\n    let totalPlatea                             = _.sum(dataPlatea?.map((e) => (e?.eta !== '05-11' && e?.eta !== '00-04') ? e?.totale_popolazione : 0)); // totale platea della popolazione over 12\n    let totalPlateaBaby                         = _.sum(dataPlatea?.map((e) => (e?.eta === '05-11') ? e?.totale_popolazione : 0)); // totale platea della popolazione 05-11\n    let totalPlateaInfant                       = _.sum(dataPlatea?.map((e) => (e?.eta === '00-04') ? e?.totale_popolazione : 0)); // totale platea della popolazione 00-04\n    let totalPlateaDoseAddizionaleBooster       = _.sum(dataPlateaDoseAddizionaleBooster?.map((e) => (e?.categoria_prevalente !== '05-11' && e?.categoria_prevalente !== '00-04') ? e?.totale_popolazione : 0)); // totale platea dose booster\n    let totalPlateaDoseAddizionaleBoosterBaby   = _.sum(dataPlateaDoseAddizionaleBooster?.map((e) => e?.categoria_prevalente === '05-11' ? e?.totale_popolazione : 0)); // totale platea dose booster\n    let totalPlateaDoseSecondBooster            = _.sum(dataPlateaSecondBooster?.map((e) => e?.totale_popolazione)); // totale platea seconda dose booster\n    let totalPlateaDoseThirdBooster             = _.sum(dataPlateaThirdBooster?.map((e) => e?.totale_popolazione)); // totale platea terza dose booster\n\n    let databoxContent = { // insieme di dati da passare al container\n        totalPlateaDoseAddizionaleBoosterBaby,\n        totalPlatea,\n        totalPlateaBaby,\n        totalPlateaInfant,\n        totalPlateaDoseAddizionaleBooster,\n        totalPlateaDoseSecondBooster,\n        totalPlateaDoseThirdBooster\n    }\n\n    /********************************************************************************\n     * ---------- DISTRIBUZIONE SOMMINISTRAZIONI RISPETTO ALLE CONSEGNE -------------\n     * Tabella + Mappa Italia\n     * Possibilità di click sulla regione (Mappa)\n     *******************************************************************************/\n\n    const deliverySummary       = dataVaxSummary?.map(replaceArea);\n    const deliveredByArea       = _.groupBy(deliverySummary, \"code\");\n    /* Array di oggetti JSON aventi code, area, dosi_consegnate, dosi_somministrate e percentuale_somministrazione */\n    const totalDeliverySummary  = _(dataSommVaxDetail?.map(replaceArea)).groupBy(\"code\").map((items, code) => { // raggruppo i valori in base alla regione\n        const details = _.head(deliveredByArea[code]);\n        return {\n            code                            : code, // codice regione\n            area                            : _.head(items)?.area, // nome esteso regione\n            dosi_consegnate                 : details.dosi_consegnate || 0, // dosi consegnate\n            dosi_somministrate              : details.dosi_somministrate || 0, // dosi somministrate\n            percentuale_somministrazione    : details.percentuale_somministrazione || 0, // percentuale somministrazioni rispetto alle consegnate\n        };\n    }).value();\n\n    /********************************************************************************\n     * ----------- GRAFICO ANDAMENTO SETTIMANALE DELLE SOMMINISTRAZIONI -------------\n     * Istogramma a pile\n     *******************************************************************************/ \n\n    let spectrum = [\"#0f69c9\", \"#4d99eb\", \"#77b2f2\", \"#b5d4f5\", \"#d1e0f0\", \"#edf2f7\", \"#ffffff\"]; // sono presenti più colori del necessario per gestire eventuali nuovi fornitori\n    let suppliersColor = {}; // colori associati alle serie\n    let suppliers = []; // lista dinamica dei fornitori di vaccini\n\n    for (let row of data.dataSommVaxDetailCampagna2324.data) { // aggiungo i fornitori evitando duplicazioni\n        if (!suppliers.includes(row.forn)) {\n            suppliers.push(row.forn);\n        }\n    }\n\n    // sposto Pfizer Pediatrico in ultima posizione, rimuovendono dalla lista ed inserendolo in coda\n    var indexOfPediatrico = suppliers.indexOf('Pfizer Pediatrico');\n    if (indexOfPediatrico !== -1) {\n        suppliers.splice(indexOfPediatrico, 1);\n        suppliers.push('Pfizer Pediatrico');\n    }\n\n    // assegno i colori ai fornitori\n    for (let rowFornitore of suppliers) {\n        if ((Object.keys(suppliersColor).length - 1) < spectrum.length) {\n            suppliersColor[rowFornitore] = spectrum[Object.keys(suppliersColor).length];\n        }\n        else {\n            suppliersColor[rowFornitore] = \"#ffffff\";\n        }\n    }\n\n    // calcolo le diverse settimane partire dal 22/09/2023 (primo venerdi)\n    let weeksMappingOptimation = {};\n    var index = 0; // indice della settimana a partire dal 22/09/2023 (primo venerdi)\n\n    let suppliersWeek = [];\n    var date = new Date('2023-09-22'); // data di partenza delle somministrazioni che cambierò ad ogni iterazione\n    do {\n        let entry = {\n            label: Moment(new Date(date.getTime() + 6 * 86400000)).format('DD/MM'), // giorno e mese del giovedi della settimana\n            from: Moment(date).format('YYYY-MM-DD'), // data di inizio settimana\n            labelfrom: Moment(date).format('DD/MM'), // etichetta inizio settimana\n            to: Moment(new Date(date.getTime() + 6 * 86400000)).format('YYYY-MM-DD'), // data fine settimana\n            labelto: Moment(new Date(date.getTime() + 6 * 86400000)).format('DD/MM'), // etichetta fine settimana\n            total: 0 // somministrazioni nella settimana\n        };\n\n        for (let supplier of suppliers) {\n            entry[supplier] = 0; // somministrazioni del fornitore nella settimana inizializzato a zero\n        }\n\n        // definisco ogni giorno in quale settimana si trova\n        weeksMappingOptimation[Moment(date).format('YYYY-MM-DD')] = index;\n        weeksMappingOptimation[Moment(new Date(date.getTime() + 1 * 86400000)).format('YYYY-MM-DD')] = index;\n        weeksMappingOptimation[Moment(new Date(date.getTime() + 2 * 86400000)).format('YYYY-MM-DD')] = index;\n        weeksMappingOptimation[Moment(new Date(date.getTime() + 3 * 86400000)).format('YYYY-MM-DD')] = index;\n        weeksMappingOptimation[Moment(new Date(date.getTime() + 4 * 86400000)).format('YYYY-MM-DD')] = index;\n        weeksMappingOptimation[Moment(new Date(date.getTime() + 5 * 86400000)).format('YYYY-MM-DD')] = index;\n        weeksMappingOptimation[Moment(new Date(date.getTime() + 6 * 86400000)).format('YYYY-MM-DD')] = index;\n        index++;\n\n        suppliersWeek.push(entry);\n\n        date = new Date(date.getTime() + 7 * 86400000); // aggiungo 7 gorni\n    } while(date <= new Date());\n\n    // aggiorno i totali per ogni fornitore e per l'intera settimana\n    for (let row of data.dataSommVaxDetailCampagna2324.data) { // per ogni valore presente nel JSON\n        let index = weeksMappingOptimation[Moment(new Date(row.data)).format('YYYY-MM-DD')]; // ottengo l'indice di quale settimana fa parte il giorno corrente\n        let week = suppliersWeek[index];\n\n        // Totale Somministrazioni Settimanale ottenuto sommando le somministrazioni di maschi e femmine\n        week.total += (row.f + row.m);\n\n        // Totale Somministrazioni Settimanale per fornitore sommando le somministrazioni di maschi e femmine\n        week[row.forn] += (row.f + row.m);\n    }\n\n    suppliersWeek.pop();\n\n    let weekContent = { // insieme di dati da passare al container\n        suppliersColor,\n        suppliers,\n        suppliersWeek\n    }\n\n    /********************************************************************************\n     * --------------- SOMMINISTRAZIONI PER FASCIA D'ETA' - DOSE XBB 1.5  --------------------\n     * Istogramma + Mappa Italia\n     * Possibilità di click sulla regione (Mappa) o sulla fascia anagrafica (Istogramma)\n     *******************************************************************************/\n    // dataSommVaxDetailCampagna2324 contiene i dati della campagna\n    let keyValueDoses = { // oggetto contenente le label delle serie (la legenda)\n        \"totale\": \"Totale fascia\"\n    }\n    let keysDosesAges      = Object.keys(keyValueDoses); // array delle chiavi della serie\n    let dosesAges          = Object.values(keyValueDoses); // array del nome delle serie (legenda)\n    let dosesAgesColor     = [\"#0a5dbb\"]; // colori associati alle serie\n\n    // array con i valori da visualizzare nell'istogramma senza filtri.\n    let dosesAgesData = _(dataSommVaxDetailCampagna2324).map(e => { // poichè solo in questo file è prevista la fascia 90+ e 80-89, sostituisco 90+ e 80-89 con 80+, e tutta la fascia 12-59\n            if (e.eta === '90+' || e.eta === '80-89') {\n                e.eta = '80+';\n            }\n            if (e.eta === '50-59' || e.eta === '40-49' || e.eta === '30-39' || e.eta === '20-29' || e.eta === '12-19') {\n                e.eta = '12-59';\n            }\n            return e;\n        }).groupBy(\"eta\").map((items, rowAge) => { // raggruppo i valori in base alla fascia anagrafica\n\n        let keyAge = 'Fascia ' + rowAge; // keyAge è la fascia anagrafica, nel caso di 80+ non deve apparire 80+ ma over 80, nel caso 00-04 0-4\n        if (rowAge === '80+') {\n            keyAge = 'Fascia over 80';\n        }\n        if (rowAge === '00-04') {\n            keyAge = 'Fascia 0-4';\n        }\n\n        let entryTmp = {\n            'totale'                 : _.sum(items.map(e => e.d)), // sommo tutte le somministrazioni\n        }\n\n        // siccome si tratta di un grafico a pile, devo calcolare lo scostamento con la serie precedente (per ora ha una sola serie di conseguenza non devo calcolare scostamenti)\n        return {\n            'label'                 : keyAge,\n            'totale'                : entryTmp['totale']\n        };\n    }).value().sort((a, b) => a.label < b.label ? 1 : -1); // ordino la lista secondo la fascia anagrafica;\n    \n    // array con i valori da visualizzare nella mappa (regione, totale percentuale) con e senza filtri\n    const secondDosesMapData  = _(dataSommVaxDetailCampagna2324?.map(replaceArea)).map(e => { // poichè solo in questo file è prevista la fascia 90+ e 80-89, sostituisco 90+ e 80-89 con 80+\n            if (e.eta === '90+' || e.eta === '80-89') {\n                e.eta = '80+';\n            }\n            if (e.eta === '50-59' || e.eta === '40-49' || e.eta === '30-39' || e.eta === '20-29' || e.eta === '12-19') {\n                e.eta = '12-59';\n            }\n            return e;\n        }).groupBy(\"code\").map((items, code) => { // raggruppo i valori in base alla regione\n        let entry = {\n            code                : code, // codice regione\n            area                : _.head(items)?.area, // nome esteso regione\n            totale              : _.sum(items.map(e => e.d)) // sommo solo chi ha completato il ciclo vaccinale (coincide con le somministrazioni)\n        }\n\n        for (let rowAge of fasciaEta) { // per tutte le fasce d'età\n            let keyAge = rowAge === '80+' ? 'fascia_over_80' : 'fascia_' + rowAge;\n            let rowAgeCorrect = rowAge === '0-4' ? '00-04' : rowAge;\n            entry[keyAge]   = _.sum(items.filter(e => rowAgeCorrect === e.eta).map(e => e.d)); // sommo chi ha completato il ciclo vaccinale di quella fascia anagrafica (che coincide con le somministrazioni)\n        }\n        return entry;\n    }).value();\n\n    // array con i valori da visualizzare nell'istogramma con il filtro regione attivo\n    const dosesAgesRegionData  = {};\n    _(dataSommVaxDetailCampagna2324?.map(replaceArea)).map(e => { // poichè solo in questo file è prevista la fascia 90+ e 80-89, sostituisco 90+ e 80-89 con 80+\n        if (e.eta === '90+' || e.eta === '80-89') {\n            e.eta = '80+';\n        }\n        if (e.eta === '50-59' || e.eta === '40-49' || e.eta === '30-39' || e.eta === '20-29' || e.eta === '12-19') {\n            e.eta = '12-59';\n        }\n        return e;\n    }).groupBy(\"code\").map((items, code) => { // raggruppo i valori in base alla regione\n        dosesAgesRegionData[code] = _(items?.map(replaceArea)).groupBy(\"eta\").map((subItems, rowAge) => { // raggruppo i valori in base all'età\n            let keyAge = 'Fascia ' + rowAge; // keyAge è la fascia anagrafica, nel caso di 80+ non deve apparire 80+ ma over 80, nel caso 00-04 0-4\n            if (rowAge === '80+') {\n                keyAge = 'Fascia over 80';\n            }\n            if (rowAge === '00-04') {\n                keyAge = 'Fascia 0-4';\n            }\n            \n            let entryTmp = {\n                'totale'                 : _.sum(subItems.map(e => e.d)), // sommo tutte le vaccinazioni\n            }\n\n            // siccome si tratta di un grafico a pile, devo calcolare lo scostamento con la serie precedente (in questo caso non sono presenti altre serie)\n            return {\n                'label'                 : keyAge,\n                'totale'                : entryTmp['totale']\n            };\n        }).value().sort((a, b) => a.label < b.label ? 1 : -1); // ordino la lista secondo la fascia anagrafica;\n        return items;\n    }).value();\n\n    let agedosesContent = { // insieme di dati da passare al container\n        keyValueDoses,\n        keysDosesAges,\n        dosesAges,\n        dosesAgesColor,\n        dosesAgesData,\n        dosesAgesRegionData,\n        secondDosesMapData  \n    }\n\n\n    /********************************************************************************\n     * --------------- SOMMINISTRAZIONI PER FASCIA D'ETA' - DOSE STORICA --------------------\n     * Istogramma + Mappa Italia\n     * Possibilità di click sulla regione (Mappa) o sulla fascia anagrafica (Istogramma)\n     *******************************************************************************/\n    // dataSommVaxDetail contiene i dati storici\n\n    let keyValueDosesHistory = { // oggetto contenente le label delle serie (la legenda)\n        \"third_booster\": \"3ª dose Booster \",\n        \"second_booster\": \"2ª dose Booster \",\n        \"addizionale\": \"1ª dose Booster\",\n        \"seconda\": \"2ª dose/unica dose\",\n        \"prima\": \"1ª dose\",\n        \"totale\": \"Totale fascia\"\n    }\n    let keysDosesAgesHistory      = Object.keys(keyValueDosesHistory); // array delle chiavi della serie\n    let dosesAgesHistory          = Object.values(keyValueDosesHistory); // array del nome delle serie (legenda)\n    let dosesAgesColorHistory     = [\"#090d4d\", \"#0b34a3\", \"#244bb3\", \"#0a5dbb\", \"#3073cf\", \"#548bd6\", \"#b6d5f4\"]; // colori associati alle serie\n\n    // array con i valori da visualizzare nell'istogramma senza filtri.\n    let dosesAgesDataHistory = _(dataSommVaxDetail).map(e => { // poichè solo in questo file è prevista la fascia 90+ e 80-89, sostituisco 90+ e 80-89 con 80+\n            if (e.eta === '90+' || e.eta === '80-89') {\n                e.eta = '80+';\n            }\n            return e;\n        }).groupBy(\"eta\").map((items, rowAge) => { // raggruppo i valori in base alla fascia anagrafica\n        let keyAge = 'Fascia ' + rowAge; // keyAge è la fascia anagrafica, nel caso di 80+ non deve apparire 80+ ma over 80, nel caso 00-04 0-4\n        if (rowAge === '80+') {\n            keyAge = 'Fascia over 80';\n        }\n        if (rowAge === '00-04') {\n            keyAge = 'Fascia 0-4';\n        }\n        let entryTmp = {\n            'prima'                 : _.sum(items.filter(e => e.forn !== 'Janssen').map(e => e.d1)), // sommo tutte le prime dosi per vaccini diversi da Janssen\n            'seconda'               : _.sum(items.filter(e => e.forn !== 'Janssen').map(e => e.d2)) + _.sum(items.filter(e => e.forn === 'Janssen').map(e => e.d1)) + _.sum(items.map(e => e.dpi)), // sommo le prime dosi Janssen, le seconde dosi non Janssen e le pregresse infezioni\n            'addizionale'           : _.sum(items.map(e => e.db1)), // sommo le dosi addizionali\n            'second_booster'        : _.sum(items.map(e => e.db2)), // sommo le seconde dosi booster\n            'third_booster'         : _.sum(items.map(e => e.db3)), // sommo le terze dosi booster,\n            'Totale platea'         : _.sum(dataPlatea.filter(e => e.eta === rowAge).map(e => e.totale_popolazione)) // totale platea per la fascia anagrafica corrente\n        }\n\n        let totaleSom = _.sum(items.map(e => e.m + e.f));\n\n        // siccome si tratta di un grafico a pile, devo calcolare lo scostamento con la serie precedente\n        return {\n            'label'                 : keyAge,\n            'third_booster'         : entryTmp['third_booster'],\n            'second_booster'        : entryTmp['second_booster'] > entryTmp['third_booster'] ? entryTmp['second_booster'] - entryTmp['third_booster'] : 0,\n            'addizionale'           : entryTmp['addizionale'] > entryTmp['second_booster'] ? entryTmp['addizionale'] - entryTmp['second_booster'] : 0,\n            'seconda'               : entryTmp['seconda'] > entryTmp['addizionale'] ? entryTmp['seconda'] - entryTmp['addizionale'] : 0,\n            'prima'                 : entryTmp['prima'] > entryTmp['seconda'] ? entryTmp['prima'] - entryTmp['seconda'] : 0,\n            'totale'                : entryTmp['Totale platea'] > entryTmp['prima'] ? entryTmp['Totale platea'] - entryTmp['prima'] : 0,\n            'totale_somministrazioni': totaleSom,\n            'Totale platea'         : entryTmp['Totale platea'],\n        };\n    }).value().sort((a, b) => a.label < b.label ? 1 : -1); // ordino la lista secondo la fascia anagrafica;\n\n    // array con i valori da visualizzare nella mappa (regione, totale percentuale) con e senza filtri\n    const secondDosesMapDataHistory  = _(dataSommVaxDetail?.map(replaceArea)).map(e => { // poichè solo in questo file è prevista la fascia 90+ e 80-89, sostituisco 90+ e 80-89 con 80+\n            if (e.eta === '90+' || e.eta === '80-89') {\n                e.eta = '80+';\n            }\n            return e;\n        }).groupBy(\"code\").map((items, code) => { // raggruppo i valori in base alla regione\n        let entry = {\n            code                : code, // codice regione\n            area                : _.head(items)?.area, // nome esteso regione\n            somministrazioni    : _.sum(items.filter(e => e.forn !== 'Janssen').map(e => e.d2)) + _.sum(items.filter(e => e.forn === 'Janssen').map(e => e.d1)) + _.sum(items.map(e => e.dpi)) // sommo solo chi ha completato il ciclo vaccinale\n        }\n\n        let popolazione = _.sum(dataPlatea.filter(e => e.area === code).map(e => e.totale_popolazione)) // totale platea nella regione corrente  \n        entry['vaccinati'] = entry['somministrazioni']; // chi ha completato il ciclo vaccinale primario      \n        entry['somministrazioni'] = entry['somministrazioni'] / popolazione * 100; // calcolo la percentuale del totale sulla platea\n        \n        for (let rowAge of fasciaEtaHistory) { // per tutte le fasce d'età storiche\n            let keyAge = rowAge === '80+' ? 'fascia_over_80' : 'fascia_' + rowAge;\n            let rowAgeCorrect = rowAge === '0-4' ? '00-04' : rowAge;\n            entry[keyAge]   = _.sum(items.filter(e => rowAgeCorrect === e.eta && e.forn !== 'Janssen').map(e => e.d2)) + _.sum(items.filter(e => rowAgeCorrect === e.eta && e.forn === 'Janssen').map(e => e.d1)) + _.sum(items.filter(e => rowAgeCorrect === e.eta).map(e => e.dpi)); // sommo chi ha completato il ciclo vaccinale di quella fascia anagrafica\n            let popolazioneFascia = _.sum(dataPlatea.filter(e => e.area === code && e.eta === rowAgeCorrect).map(e => e.totale_popolazione)); // calcolo la platea della fascia anagrafica corrente in quella determinata regione\n            entry['vaccinati_' + keyAge] = entry[keyAge]; // valore inserito per visualizzare il totale nel pupup sulla mappa\n            entry[keyAge] = entry[keyAge] / popolazioneFascia * 100; // calcolo la percentuale\n        }\n        \n        return entry;\n    }).value();\n\n    // array con i valori da visualizzare nell'istogramma con il filtro regione attivo\n    const dosesAgesRegionDataHistory  = {};\n    _(dataSommVaxDetail?.map(replaceArea)).map(e => { // poichè solo in questo file è prevista la fascia 90+ e 80-89, sostituisco 90+ e 80-89 con 80+\n        if (e.eta === '90+' || e.eta === '80-89') {\n            e.eta = '80+';\n        }\n        return e;\n    }).groupBy(\"code\").map((items, code) => { // raggruppo i valori in base alla regione\n        dosesAgesRegionDataHistory[code] = _(items?.map(replaceArea)).groupBy(\"eta\").map((subItems, rowAge) => { // raggruppo i valori in base all'età\n            let keyAge = 'Fascia ' + rowAge; // keyAge è la fascia anagrafica, nel caso di 80+ non deve apparire 80+ ma over 80, nel caso 00-04 0-4\n            if (rowAge === '80+') {\n                keyAge = 'Fascia over 80';\n            }\n            if (rowAge === '00-04') {\n                keyAge = 'Fascia 0-4';\n            }\n            \n            let entryTmp = {\n                'prima'                 : _.sum(subItems.filter(e => e.forn !== 'Janssen').map(e => e.d1)), // sommo tutte le prime dosi per vaccini diversi da Janssen\n                'seconda'               : _.sum(subItems.filter(e => e.forn !== 'Janssen').map(e => e.d2)) + _.sum(subItems.filter(e => e.forn === 'Janssen' && e.area === code).map(e => e.d1)) + _.sum(subItems.filter(e => e.area === code).map(e => e.dpi)), // sommo le prime dosi Janssen, le seconde dosi non Janssen e le pregresse infezioni\n                'addizionale'           : _.sum(subItems.map(e => e.db1)), // sommo le dosi addizionali\n                'second_booster'        : _.sum(subItems.map(e => e.db2)), // sommo le seconde dosi booster\n                'third_booster'         : _.sum(subItems.map(e => e.db3)), // sommo le terze dosi booster,\n                'Totale platea'         : _.sum(dataPlatea.filter(e => e.eta === rowAge && e.area === code).map(e => e.totale_popolazione)) // totale platea per la fascia anagrafica corrente\n            }\n\n            // siccome si tratta di un grafico a pile, devo calcolare lo scostamento con la serie precedente\n            return {\n                'label'                 : keyAge,\n                'third_booster'         : entryTmp['third_booster'],\n                'second_booster'        : entryTmp['second_booster'] > entryTmp['third_booster'] ? entryTmp['second_booster'] - entryTmp['third_booster'] : 0,\n                'addizionale'           : entryTmp['addizionale'] > entryTmp['second_booster'] ? entryTmp['addizionale'] - entryTmp['second_booster'] : 0,\n                'seconda'               : entryTmp['seconda'] > entryTmp['addizionale'] ? entryTmp['seconda'] - entryTmp['addizionale'] : 0,\n                'prima'                 : entryTmp['prima'] > entryTmp['seconda'] ? entryTmp['prima'] - entryTmp['seconda'] : 0,\n                'totale'                : entryTmp['Totale platea'] > entryTmp['prima'] ? entryTmp['Totale platea'] - entryTmp['prima'] : 0,\n                'Totale platea'         : entryTmp['Totale platea'],\n            };\n        }).value().sort((a, b) => a.label < b.label ? 1 : -1); // ordino la lista secondo la fascia anagrafica;\n        return items;\n    }).value();\n\n    let agedosesContentHistory = { // insieme di dati da passare al container\n        keyValueDosesHistory,\n        keysDosesAgesHistory,\n        dosesAgesHistory,\n        dosesAgesColorHistory,\n        dosesAgesDataHistory,\n        dosesAgesRegionDataHistory,\n        secondDosesMapDataHistory  \n    }\n\n\n    /********************************************************************************\n     * ------------------------------ FINE CALCOLI ----------------------------------\n     * Restituzione dei dati da rendere disponibili all'esterno\n     *******************************************************************************/\n\n    const aggr = {\n        timestamp,\n        tot,\n        totCampagna,\n        databoxContent,\n        weekContent,\n        agedosesContent,\n        agedosesContentHistory,\n        deliverySummary,\n        totalDeliverySummary,\n        totalDoses\n    };\n    return aggr;\n};\n\n\n/********************************************************************************\n * ---------------------- LETTURA DATI DA SORGENTI JSON -------------------------\n * Istogramma\n * Possibilità di click sulle barre\n *******************************************************************************/ \n\nexport const loadData = async () => {\n    const [\n        resSommVaxSummary,\n        resVaxSummary,\n        resLastUpdate,\n        resPlatea,\n        resPlateaDoseAddizionaleBooster,\n        resPlateaDoseSecondBooster,\n        resPlateaDoseThirdBooster,\n        //campagna 2023-2024\n        resSommVaxSummaryCampagna2324,\n        resSommVaxDetailCampagna2324\n    ] = await Promise.all([\n        fetch(sommVaxSummaryURL),\n        fetch(vaxSummaryURL),\n        fetch(lastUpdateURL),\n        fetch(plateaURL),\n        fetch(plateaDoseAddizionaleBoosterURL),\n        fetch(plateaDoseSecondBoosterURL),\n        fetch(plateaDoseThirdBoosterURL),\n        //campagna 2023-2024\n        fetch(sommVaxSummaryCampagna2324URL),\n        fetch(sommVaxDetailCampagna2324URL),\n    ]);\n\n    const arrayLatestURL = [];\n    for(var i = 0; i < years.length; i++) {\n        arrayLatestURL.push(fetch(sommVaxDetailBaseURL + years[i] + '.json'));\n    }\n\n    const arrayLatestRes = await Promise.all(arrayLatestURL);\n\n    const [\n        dataSommVaxSummary,\n        dataVaxSummary,\n        dataLastUpdate,\n        dataPlatea,\n        dataPlateaDoseAddizionaleBooster,\n        dataPlateaSecondBooster,\n        dataPlateaThirdBooster,\n        //campagna 2023-2024\n        dataSommVaxSummaryCampagna2324,\n        dataSommVaxDetailCampagna2324\n    ] = await Promise.all([\n        resSommVaxSummary.json(),\n        resVaxSummary.json(),\n        resLastUpdate.json(),\n        resPlatea.json(),\n        resPlateaDoseAddizionaleBooster.json(),\n        resPlateaDoseSecondBooster.json(),\n        resPlateaDoseThirdBooster.json(),\n        //campagna 2023-2024\n        resSommVaxSummaryCampagna2324.json(),\n        resSommVaxDetailCampagna2324.json()\n    ]);\n\n    const arrayLatestJson = [];\n    for(i = 0; i < arrayLatestRes.length; i++) {\n        arrayLatestJson.push(arrayLatestRes[i].json());\n    }\n    const arrayLatestData = await Promise.all(arrayLatestJson);\n\n    const dataSommVaxDetail = arrayLatestData[0];\n    for(i = 1; i < arrayLatestData.length; i++) {\n        dataSommVaxDetail.data = [...dataSommVaxDetail.data, ...arrayLatestData[i].data];\n    }\n\n    return {\n        ...elaborate({\n            dataSommVaxSummary,\n            dataSommVaxDetail,\n            dataVaxSummary,\n            dataLastUpdate,\n            dataPlatea,\n            dataPlateaDoseAddizionaleBooster,\n            dataPlateaSecondBooster,\n            dataPlateaThirdBooster,\n            //campagna 2023-2024\n            dataSommVaxSummaryCampagna2324,\n            dataSommVaxDetailCampagna2324\n        })\n    };\n};\n","import { React, useEffect, useRef } from \"react\";\nimport * as d3 from \"d3\";\n\nexport const AgeHStackedBarChart = ({\n  handleRectClick,\n  height,\n  width,\n  data,\n  keys,\n  labels,\n  colors,\n  selectedCodeAge,\n  regionSelected\n  }) => {\n\n  const myRef = useRef();\n  const divRef = useRef();\n\n  useEffect(() => {\n      doExit();\n      draw();\n      // eslint-disable-next-line\n  }, [data, keys, labels, selectedCodeAge]);\n\n\n  const responsivefy = (svg) => {\n    // Container is the DOM element, svg is appended.\n    // Then we measure the container and find its\n    // aspect ratio.\n    const container = d3.select(svg.node().parentNode),\n      width = parseInt(svg.style(\"width\"), 10),\n      height = parseInt(svg.style(\"height\"), 10),\n      aspect = width / height;\n\n    // Add viewBox attribute to set the value to initial size\n    // add preserveAspectRatio attribute to specify how to scale\n    // and call resize so that svg resizes on page load\n    svg\n      .attr(\"viewBox\", `0 0 ${width} ${height}`)\n      .attr(\"preserveAspectRatio\", \"xMinYMid\")\n      .call(resize);\n\n    d3.select(window).on(\"resize.\" + container.attr(\"id\"), resize);\n\n    function resize() {\n      const targetWidth = parseInt(container.style(\"width\"));\n      svg.attr(\"width\", targetWidth);\n      svg.attr(\"height\", Math.round(targetWidth / aspect));\n    }\n  };\n\n  function doExit() {\n    d3.select(divRef.current).selectAll(\"svg\").remove();\n  }\n\n  const draw = () => {\n\n    const dataset = d3.stack().keys(keys)(data);\n\n    // append element\n    const svg = d3\n      .select(divRef.current)\n      .append(\"svg\")\n      .style('margin-bottom', 10)\n      .attr(\"width\", width)\n      .attr(\"height\", height);\n    const margin = { y: 30, x: 60 };\n\n    // axis\n    const xScale = d3.scaleLinear().domain([0, d3.max(data, function(d) { return d['totale']; })]);\n    const yScale = d3.scaleBand().padding(0.2);\n    xScale.range([0, width]);\n    yScale.range([0, height]).domain(data.map((d) => d.label));\n\n    svg\n      .attr(\"width\", width + 2 * margin.x)\n      .attr(\"height\", height + 2 * margin.y)\n      .call(responsivefy) // Call responsivefy to make the chart responsive\n      .attr(\"id\", \"svg-stack-bar\");\n\n    const chart = svg\n      .append(\"g\")\n      .attr(\"transform\", `translate(${margin.x},${margin.y})`);\n\n    chart\n      .append(\"g\")\n      .attr(\"class\", \"axis\")\n      .attr(\"transform\", `translate(0, 0)`)\n      .style(\"font-size\", \"12px\")\n      .call(d3.axisLeft(yScale))\n      .attr('stroke-width', 0)\n        .selectAll(\"text\")\n            .attr(\"y\", 0)\n            .attr(\"x\", -30)\n            .style(\"text-anchor\", \"start\")\n            .style(\"fill\", \"#19191a\");\n\n\n    const tooltip = d3\n      .select('body')\n      .append('div')\n      .attr('class', 'd3-tooltip')\n      .style('position', 'absolute')\n      .style('z-index', '10')\n      .style('display', 'none')\n      .style('padding', '10px')\n      .style('background', 'rgba(0,0,0,0.8)')\n      .style('border-radius', '4px')\n      .style('color', '#fff');\n\n    const path = chart.selectAll().data(dataset);\n\n    path\n      .enter()\n      .append(\"g\")\n      .attr(\"fill\", function(d) {\n        return colors[d.index];\n      })\n      .attr(\"dose\", function(d) {\n        return d.key;\n      })\n      .selectAll(\"rect\")\n      .data(function(d) {\n        return d;\n      })\n      .enter().append(\"rect\")\n      .on(\"click\", (e, d) => {\n        handleRectClick(d);\n        tooltip.html(``).style('display', 'none');\n      })\n      .attr(\"opacity\", (d) => {\n        const ageCode = d.data.label.toLowerCase().replaceAll(' ', '_');\n\n        let opac = selectedCodeAge === ageCode ? 1 : !selectedCodeAge ? 1 : 0.3;\n        return opac;\n      })\n      .attr(\"x\", function(d) {\n        return xScale(d[0]) + 60;\n      })\n      .attr(\"y\", function(d) {\n        return yScale(d.data.label);\n      })\n      .attr(\"width\", function(d) {\n        return xScale(d[1]) - xScale(d[0]);\n      })\n      .attr(\"height\", yScale.bandwidth())\n      .on('mouseover', function (d, i) {\n        d3.select(this).transition().attr('fill', '#0BD9D3');\n      })\n      .on('mousemove', function (event, d) {\n        let regione = regionSelected ? \" \" + regionSelected : \"\";\n\n        if (d3.select(this.parentNode).attr(\"dose\") === 'totale') {\n          tooltip\n            .style('top', event.pageY - 10 + 'px')\n            .style('left', event.pageX + 10 + 'px');\n          tooltip\n            .html(\n                `<div style=\"text-align: center; line-height: 1.15rem;\">\n                <div style=\"font-size: 12px;\">${regione}</div>\n                <div><b>${d.data.label}</b></div>\n                <div style=\"font-size: 14px;\">Somministrazioni</div>\n                <div>${d.data[\"totale\"].toLocaleString('it')}</div>\n                </div>`\n                )\n            .style('display', null);\n        }\n        else {\n          var perc = 99999;\n          /*\n          if (d3.select(this.parentNode).attr(\"dose\") === 'prima') {\n            let sum = d.data[\"prima\"] + d.data[\"seconda\"] + d.data[\"addizionale\"] + d.data[\"second_booster\"] + d.data[\"third_booster\"];\n            perc = (sum / d.data[\"Totale platea\"]) * 100;\n          }\n          else {\n            if (d3.select(this.parentNode).attr(\"dose\") === 'seconda') {\n              let sum = d.data[\"seconda\"] + d.data[\"addizionale\"] + d.data[\"second_booster\"] + d.data[\"third_booster\"];\n              perc = (sum / d.data[\"Totale platea\"]) * 100;\n            }\n            else {\n              if (d3.select(this.parentNode).attr(\"dose\") === 'addizionale') {\n                let sum = d.data[\"addizionale\"] + d.data[\"second_booster\"] + d.data[\"third_booster\"];\n                perc = (sum / d.data[\"Totale platea\"]) * 100;\n              }\n              else {\n                if (d3.select(this.parentNode).attr(\"dose\") === 'second_booster') {\n                  let sum = d.data[\"second_booster\"] + d.data[\"third_booster\"];\n                  perc = (sum / d.data[\"Totale platea\"]) * 100;\n                }\n                else {\n                  perc = (d.data[\"third_booster\"] / d.data[\"Totale platea\"]) * 100;\n                }\n              }\n            }\n          }\n          */\n         /*\n          tooltip\n            .style('top', event.pageY - 10 + 'px')\n            .style('left', event.pageX + 10 + 'px');\n\n            if ( perc < 0) {\n\n                tooltip\n                    .html(\n                        `<div style=\"text-align: center; line-height: 1.15rem;\">\n                        <div style=\"font-size: 12px;\">${regione} ${d.data.label}</div>\n                        <div style=\"text-align: center\"><b>${labels[d3.select(this.parentNode).attr(\"dose\")]} </b></div>\n                        <div style=\"font-size: 14px;\">Somministrate ${(d[1]).toLocaleString('it')} su ${d.data[\"totale\"].toLocaleString('it')}</div>`\n                    )\n                    .style('display', null);\n\n            } else {\n              */\n                tooltip\n                    .html(\n                        `<div style=\"text-align: center; line-height: 1.15rem;\">\n                        <div style=\"font-size: 12px;\">${regione} ${d.data.label}</div>\n                        <div style=\"text-align: center\"><b>${labels[d3.select(this.parentNode).attr(\"dose\")]} </b></div>\n                        <div style=\"font-size: 14px;\"><b>(${perc.toFixed(2).toLocaleString(\"it\")} %)</b></div>\n                        <div style=\"font-size: 14px;\">Somministrate ${(d[1]).toLocaleString('it')} su ${d.data[\"totale\"].toLocaleString('it')}</div>`\n                    )\n                    .style('display', null);\n        //    }\n        }\n      })\n      .on('mouseout', function (d) {\n          tooltip.html(``).style('display', 'none');\n          d3.select(this).transition().attr('fill', colors[d.key]);\n      });\n\n    path.exit().remove();\n  };\n\n  return (\n    <div ref={divRef} className=\"chart svg-container\">\n      <svg ref={myRef} className=\"svg-content-responsive\"></svg>\n    </div>\n  );\n};\n","import { React, useEffect, useState } from \"react\";\nimport * as d3 from \"d3\";\nimport * as topojson from \"topojson-client\";\nimport _ from \"lodash\";\n\nexport const MapArea = ({\n    handleMapDeliveryClick,\n    fillMapDeliveryArea,\n    fillBy,\n    summary,\n    tooltip,\n    percentage,\n}) => {\n        const [geographies, setGeographies] = useState([]);\n        const [maxValue, setMaxValue] = useState(0);\n\n        useEffect(() => {\n            if (percentage) {\n                setMaxValue(100);\n            } else {\n                const maxValue = _.maxBy(summary || {}, fillBy);\n                setMaxValue(maxValue ? maxValue[fillBy] : 0);\n            }\n        }, [summary, fillBy, percentage]);\n\n    const width = 498,\n          height = 478;\n\n    const projection = d3\n        .geoAlbers()\n        .center([0, 41])\n        .rotate([347, 0])\n        .parallels([35, 45])\n        .scale(2200)\n        .translate([width / 2, height / 2]);\n        useEffect(() => {\n            const fetchData = async () => {\n                const res = await fetch(\"data/geo/it.json\");\n                const data = await res.json();\n                setGeographies(topojson.feature(data, data.objects.regions).features);\n            };\n        fetchData();\n        }, []);\n\n    return (\n        <div className=\"map-area\">\n            <svg className=\"h-100 w-100\" height={height}>\n                <g className=\"countries\">\n                    {geographies.map((d, i) => {\n                        let reg_name = d.properties.reg_name;\n                        let regions = _.filter(summary, (i) => i.area === reg_name);\n                        let region = {};\n                        if (regions && regions.length > 0) {\n                            region = regions[0];\n                        }\n\n                        return (\n                            <path\n                                key={`path-${i}`}\n                                d={d3.geoPath().projection(projection)(d)}\n                                className=\"country\"\n                                id={`${region?.area?.trim()}`}\n                                fill={fillMapDeliveryArea({ region, maxValue, field: fillBy })}\n                                stroke=\"#FFFFFF\"\n                                strokeWidth={0.7}\n                                onClick={() => handleMapDeliveryClick(region)}\n                            >\n                                <title>\n                                    <span className=\"bg-info\">{tooltip(region)}</span>\n                                </title>\n                            </path>\n                        );\n                    })});\n                </g>\n            </svg>\n        </div>\n    );\n};\n","import React, { useEffect, useState } from \"react\";\nimport { isEmpty, max } from \"lodash\";\nimport { AgeHStackedBarChart } from \"../components/AgeHStackedBarChart\";\nimport { MapArea } from \"../components/MapArea\";\n\nexport const AgeDoses = ({ data }) => {\n    const [dosesAgesColor, setdosesAgesColor] = useState([]);\n    const [dosesAgesKeys, setDosesAgesKeys] = useState([]);\n    const [keyValueDoses, setKeyValueDoses] = useState({});\n    const [dosesAgesData, setDosesAgesData] = useState([]);\n\n    const [categoryMapData, setCategoryMapData] = useState([]);\n    const [categoryMapField, setCategoryMapField] = useState(\"totale\");\n\n    const [categorySelectedRegion, setCategorySelectedRegion] = useState(null);\n    const [categorySelectedRegionDescr, setCategorySelectedRegionDescr] = useState(null);\n    const [selectedCodeAge, setSelectedCodeAge] = useState(null);\n\n    const [totalByCategory, setTotalByCategory] = useState(0);\n\n    useEffect(() => {\n        if (!isEmpty(data)) {\n            setdosesAgesColor(data.agedosesContent.dosesAgesColor);\n            setDosesAgesKeys(data.agedosesContent.keysDosesAges);\n            setKeyValueDoses(data.agedosesContent.keyValueDoses);\n            setDosesAgesData(data.agedosesContent.dosesAgesData);\n            setTotalByCategory(data.totCampagna);\n            setCategoryMapData(data.agedosesContent.secondDosesMapData);\n        }\n    }, [data]);\n\n    const resetFilter = () => {\n        setSelectedCodeAge(null);\n        setCategorySelectedRegion(null);\n        setCategorySelectedRegionDescr(null);\n        setTotalByCategory(data.totCampagna);\n        setDosesAgesData(data.agedosesContent.dosesAgesData);\n        setCategoryMapField(\"totale\");\n        setCategoryMapData(data.agedosesContent.secondDosesMapData);\n    };\n\n    const fillMapCategoryArea = ({ region, maxValue, field }) => {\n        let scaleOp = 0;\n        if (region.code === categorySelectedRegion) {\n          scaleOp = 1;\n        } else if (!categorySelectedRegion) {\n          scaleOp = max([region[field] / maxValue, 0.1]);\n        } else {\n          const valueToFill = region[field] / (2 * maxValue);\n          scaleOp = max([valueToFill, 0.1]);\n        }\n        return `rgba(0,102,204,${scaleOp}) `;\n    };\n\n    const handleMapCategoryClick = (region) => {\n        if (selectedCodeAge) {\n            resetFilter();\n        }\n\n        if (categorySelectedRegion === region.code) {\n            resetFilter();\n        } else {\n            setCategorySelectedRegion(region.code);\n            setCategorySelectedRegionDescr(region.area);\n            setDosesAgesData(data.agedosesContent.dosesAgesRegionData[region.code])\n\n            var totale = 0;\n            for(let row of data.agedosesContent.dosesAgesRegionData[region.code]) {\n                totale += row.totale;\n            }\n            setTotalByCategory(totale);\n        }\n    };\n\n    const handleCategoryBarChartClick = (cat) => {\n        if (categorySelectedRegion) {\n          resetFilter();\n        }\n        const ageCode = cat.data.label.toLowerCase().replaceAll(' ', '_');\n\n        if (selectedCodeAge === ageCode) {\n          resetFilter();\n        } else {\n          setSelectedCodeAge(ageCode);\n          setCategoryMapField(ageCode);\n\n          for(let row of data.agedosesContent.dosesAgesData) {\n            if (row.label === cat.data.label) {\n                setTotalByCategory(row.totale);\n                break;\n            }\n          }\n        }\n    };\n\n    return (\n        <div className=\"row\">\n            {/* Box Title */}\n            <div className=\"col-12 d-flex justify-content-center align-items-center section-title mx-2\">\n                <div>\n                    <h3>Somministrazioni di XBB 1.5 per fascia d'età</h3>\n                </div>\n            </div>\n            {/* // Box Title */}\n\n            <div className=\"col-12 col-md-12 m-3\">\n                {/* Total Box - Mobile Layout */}\n                <div className=\"d-lg-none bg-box box-mobile m-3\">\n                    <div className=\"text-white\">\n                        <div className=\"d-flex justify-content-center pt-5\">\n                            <h5>Totale somministrazioni</h5>\n                        </div>\n                        <div className=\"d-flex justify-content-center\">\n                            <p className=\"box-numbers\">\n                                {totalByCategory && totalByCategory.toLocaleString(\"it\")}\n                            </p>\n                        </div>\n                        <div className=\"col-12 d-flex justify-content-end pb-2\">\n                            <img alt=\"reset-plot2\" src=\"reset_white.png\" onClick={resetFilter} height=\"36px\"/>\n                        </div>\n                    </div>\n                </div>\n                {/* // Total Box - Mobile Layout */}\n\n                {/* Total Box - Desktop Layout */}\n                <div className=\"col-4 col-md-4 d-none d-lg-block\">\n                    <div className=\"bg-box box-card box-left\">\n                        <div className=\"text-white\">\n                            <div className=\"d-flex justify-content-start pt-3 pl-5\">\n                                <h5>Totale somministrazioni</h5>\n                            </div>\n                            <div className=\"d-flex justify-content-start pl-5\">\n                                <p className=\"box-numbers\">\n                                    {totalByCategory && totalByCategory.toLocaleString(\"it\")}\n                                </p>\n                            </div>\n                            <div className=\"col-12 d-flex justify-content-end pb-2\">\n                                <img alt=\"Reset\" src=\"reset_white.png\" onClick={resetFilter} height=\"36px\"/>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                {/* // Total Box - Desktop Layout */}\n            </div>\n            <div className=\"col-12 col-md-6\">\n\n                {/* Graph */}\n                <AgeHStackedBarChart\n                    width={+350}\n                    height={+300}\n                    property={{ xprop: \"label\", yprop: \"total\" }}\n                    handleRectClick={handleCategoryBarChartClick}\n                    regionSelected={categorySelectedRegionDescr}\n                    selectedCodeAge={selectedCodeAge}\n                    colors={dosesAgesColor}\n                    keys={dosesAgesKeys}\n                    labels={keyValueDoses}\n                    data={dosesAgesData}\n                />\n                {/* // Graph */}\n\n                <p className=\"d-block d-sm-none text-center\">*Tieni premuto sulle barre del grafico per visualizzare i dati sulle dosi somministrate</p>\n                <p className=\"d-none d-sm-block text-center\">*Passa con il mouse sulle barre del grafico per visualizzare i dati sulle dosi somministrate</p>\n            </div>\n            <div className=\"col-12 col-md-6\">\n\n                {/* Map Title - Mobile View*/}\n                <div className=\"p-4 d-lg-none\">\n                    <div className=\"text-center\">\n                        <h5>Totale somministrazioni per regione</h5>\n                    </div>\n                </div>\n                {/* // Map Title - Mobile View*/}\n\n                {/* Map Graph */}\n                <MapArea\n                    fillMapDeliveryArea={fillMapCategoryArea}\n                    summary={categoryMapData}\n                    handleMapDeliveryClick={handleMapCategoryClick}\n                    fillBy={categoryMapField}\n                    tooltip={(r) => {\n                            var region = null;\n                            for(let row of categoryMapData) {\n                                if (row.code === r.code) {\n                                    region = row;\n                                }\n                            }\n\n                            return (\n                                r.area +\n                                \" \" +\n                                (region && region[categoryMapField] && \"(\" + region[categoryMapField].toLocaleString(\"it\") + \")\")\n                            )\n                        }\n                    }\n                    className=\"ml-5\"\n                />\n                {/* // Map Graph */}\n\n                {/* Map Title - Desktop View*/}\n                {/* <div className=\"p-4 position-relative d-none d-lg-block\" style={{ left: \"300px\", top: \"-390px\" }}> */}\n                <div className=\"p-4 d-none d-lg-block map-legend\">\n                    <div className=\"d-flex justify-content-end\">\n                        <h5 className=\"ml-5 pl-sm-1\">\n                            Totale somministrazioni\n                            <br /> per regione\n                        </h5>\n                    </div>\n                </div>\n                {/* // Map Title - Desktop View*/}\n            </div>\n        </div>\n    )\n};","import { React, useEffect, useRef } from \"react\";\nimport * as d3 from \"d3\";\n\nexport const AgeHStackedBarChart = ({\n  handleRectClick,\n  height,\n  width,\n  data,\n  keys,\n  labels,\n  colors,\n  selectedCodeAge,\n  regionSelected\n  }) => {\n\n  const myRef = useRef();\n  const divRef = useRef();\n\n  useEffect(() => {\n      doExit();\n      draw();\n      // eslint-disable-next-line\n  }, [data, keys, labels, selectedCodeAge]);\n\n\n  const responsivefy = (svg) => {\n    // Container is the DOM element, svg is appended.\n    // Then we measure the container and find its\n    // aspect ratio.\n    const container = d3.select(svg.node().parentNode),\n      width = parseInt(svg.style(\"width\"), 10),\n      height = parseInt(svg.style(\"height\"), 10),\n      aspect = width / height;\n\n    // Add viewBox attribute to set the value to initial size\n    // add preserveAspectRatio attribute to specify how to scale\n    // and call resize so that svg resizes on page load\n    svg\n      .attr(\"viewBox\", `0 0 ${width} ${height}`)\n      .attr(\"preserveAspectRatio\", \"xMinYMid\")\n      .call(resize);\n\n    d3.select(window).on(\"resize.\" + container.attr(\"id\"), resize);\n\n    function resize() {\n      const targetWidth = parseInt(container.style(\"width\"));\n      svg.attr(\"width\", targetWidth);\n      svg.attr(\"height\", Math.round(targetWidth / aspect));\n    }\n  };\n\n  function doExit() {\n    d3.select(divRef.current).selectAll(\"svg\").remove();\n  }\n\n  const draw = () => {\n\n    const dataset = d3.stack().keys(keys)(data);\n\n    // append element\n    const svg = d3\n      .select(divRef.current)\n      .append(\"svg\")\n      .style('margin-bottom', 10)\n      .attr(\"width\", width)\n      .attr(\"height\", height);\n    const margin = { y: 30, x: 60 };\n\n    // axis\n    const xScale = d3.scaleLinear().domain([0, d3.max(data, function(d) { return d['Totale platea']; })]);\n    const yScale = d3.scaleBand().padding(0.2);\n    xScale.range([0, width]);\n    yScale.range([0, height]).domain(data.map((d) => d.label));\n\n    svg\n      .attr(\"width\", width + 2 * margin.x)\n      .attr(\"height\", height + 2 * margin.y)\n      .call(responsivefy) // Call responsivefy to make the chart responsive\n      .attr(\"id\", \"svg-stack-bar\");\n\n    const chart = svg\n      .append(\"g\")\n      .attr(\"transform\", `translate(${margin.x},${margin.y})`);\n\n    chart\n      .append(\"g\")\n      .attr(\"class\", \"axis\")\n      .attr(\"transform\", `translate(0, 0)`)\n      .style(\"font-size\", \"12px\")\n      .call(d3.axisLeft(yScale))\n      .attr('stroke-width', 0)\n        .selectAll(\"text\")\n            .attr(\"y\", 0)\n            .attr(\"x\", -30)\n            .style(\"text-anchor\", \"start\")\n            .style(\"fill\", \"#19191a\");\n\n\n    const tooltip = d3\n      .select('body')\n      .append('div')\n      .attr('class', 'd3-tooltip')\n      .style('position', 'absolute')\n      .style('z-index', '10')\n      .style('display', 'none')\n      .style('padding', '10px')\n      .style('background', 'rgba(0,0,0,0.8)')\n      .style('border-radius', '4px')\n      .style('color', '#fff');\n\n    const path = chart.selectAll().data(dataset);\n\n    path\n      .enter()\n      .append(\"g\")\n      .attr(\"fill\", function(d) {\n        return colors[d.index];\n      })\n      .attr(\"dose\", function(d) {\n        return d.key;\n      })\n      .selectAll(\"rect\")\n      .data(function(d) {\n        return d;\n      })\n      .enter().append(\"rect\")\n      .on(\"click\", (e, d) => {\n        handleRectClick(d);\n        tooltip.html(``).style('display', 'none');\n      })\n      .attr(\"opacity\", (d) => {\n        const ageCode = d.data.label.toLowerCase().replaceAll(' ', '_');\n\n        let opac = selectedCodeAge === ageCode ? 1 : !selectedCodeAge ? 1 : 0.3;\n        return opac;\n      })\n      .attr(\"x\", function(d) {\n        return xScale(d[0]) + 60;\n      })\n      .attr(\"y\", function(d) {\n        return yScale(d.data.label);\n      })\n      .attr(\"width\", function(d) {\n        return xScale(d[1]) - xScale(d[0]);\n      })\n      .attr(\"height\", yScale.bandwidth())\n      .on('mouseover', function (d, i) {\n        d3.select(this).transition().attr('fill', '#0BD9D3');\n      })\n      .on('mousemove', function (event, d) {\n        let regione = regionSelected ? \" \" + regionSelected : \"\";\n\n        if (d3.select(this.parentNode).attr(\"dose\") === 'totale') {\n          tooltip\n            .style('top', event.pageY - 10 + 'px')\n            .style('left', event.pageX + 10 + 'px');\n          tooltip\n            .html(\n                `<div style=\"text-align: center; line-height: 1.15rem;\">\n                <div style=\"font-size: 12px;\">${regione}</div>\n                <div><b>${d.data.label}</b></div>\n                <div style=\"font-size: 14px;\">Platea</div>\n                <div>${d.data[\"Totale platea\"].toLocaleString('it')}</div>\n                </div>`\n                )\n            .style('display', null);\n        }\n        else {\n          var perc = 0;\n          if (d3.select(this.parentNode).attr(\"dose\") === 'prima') {\n            let sum = d.data[\"prima\"] + d.data[\"seconda\"] + d.data[\"addizionale\"] + d.data[\"second_booster\"] + d.data[\"third_booster\"];\n            perc = (sum / d.data[\"Totale platea\"]) * 100;\n          }\n          else {\n            if (d3.select(this.parentNode).attr(\"dose\") === 'seconda') {\n              let sum = d.data[\"seconda\"] + d.data[\"addizionale\"] + d.data[\"second_booster\"] + d.data[\"third_booster\"];\n              perc = (sum / d.data[\"Totale platea\"]) * 100;\n            }\n            else {\n              if (d3.select(this.parentNode).attr(\"dose\") === 'addizionale') {\n                let sum = d.data[\"addizionale\"] + d.data[\"second_booster\"] + d.data[\"third_booster\"];\n                perc = (sum / d.data[\"Totale platea\"]) * 100;\n              }\n              else {\n                if (d3.select(this.parentNode).attr(\"dose\") === 'second_booster') {\n                  let sum = d.data[\"second_booster\"] + d.data[\"third_booster\"];\n                  perc = (sum / d.data[\"Totale platea\"]) * 100;\n                }\n                else {\n                  perc = (d.data[\"third_booster\"] / d.data[\"Totale platea\"]) * 100;\n                }\n              }\n            }\n          }\n\n          tooltip\n            .style('top', event.pageY - 10 + 'px')\n            .style('left', event.pageX + 10 + 'px');\n\n            if ( perc < 0) {\n\n                tooltip\n                    .html(\n                        `<div style=\"text-align: center; line-height: 1.15rem;\">\n                        <div style=\"font-size: 12px;\">${regione} ${d.data.label}</div>\n                        <div style=\"text-align: center\"><b>${labels[d3.select(this.parentNode).attr(\"dose\")]} </b></div>\n                        <div style=\"font-size: 14px;\">Somministrate ${(d[1]).toLocaleString('it')} su ${d.data[\"Totale platea\"].toLocaleString('it')}</div>`\n                    )\n                    .style('display', null);\n\n            } else {\n\n                tooltip\n                    .html(\n                        `<div style=\"text-align: center; line-height: 1.15rem;\">\n                        <div style=\"font-size: 12px;\">${regione} ${d.data.label}</div>\n                        <div style=\"text-align: center\"><b>${labels[d3.select(this.parentNode).attr(\"dose\")]} </b></div>\n                        <div style=\"font-size: 14px;\"><b>(${perc.toFixed(2).toLocaleString(\"it\")} %)</b></div>\n                        <div style=\"font-size: 14px;\">Somministrate ${(d[1]).toLocaleString('it')} su ${d.data[\"Totale platea\"].toLocaleString('it')}</div>`\n                    )\n                    .style('display', null);\n            }\n        }\n      })\n      .on('mouseout', function (d) {\n          tooltip.html(``).style('display', 'none');\n          d3.select(this).transition().attr('fill', colors[d.key]);\n      });\n\n    path.exit().remove();\n  };\n\n  return (\n    <div ref={divRef} className=\"chart svg-container\">\n      <svg ref={myRef} className=\"svg-content-responsive\"></svg>\n    </div>\n  );\n};\n","import React, { useEffect, useState } from \"react\";\nimport { isEmpty, max } from \"lodash\";\nimport { AgeHStackedBarChart } from \"../components/AgeHStackedBarChartHistory\";\nimport { MapArea } from \"../components/MapArea\";\n\nexport const AgeDosesHistory = ({ data }) => {\n    const [dosesAgesColor, setdosesAgesColor] = useState([]);\n    const [dosesAges, setdosesAges] = useState([]);\n    const [dosesAgesKeys, setDosesAgesKeys] = useState([]);\n    const [keyValueDoses, setKeyValueDoses] = useState({});\n    const [dosesAgesData, setDosesAgesData] = useState([]);\n\n    const [categoryMapData, setCategoryMapData] = useState([]);\n    const [categoryMapField, setCategoryMapField] = useState(\"somministrazioni\");\n\n    const [categorySelectedRegion, setCategorySelectedRegion] = useState(null);\n    const [categorySelectedRegionDescr, setCategorySelectedRegionDescr] = useState(null);\n    const [selectedCodeAge, setSelectedCodeAge] = useState(null);\n\n    const [totalByCategory, setTotalByCategory] = useState(0);\n\n    useEffect(() => {\n        if (!isEmpty(data)) {\n            setdosesAgesColor(data.agedosesContentHistory.dosesAgesColorHistory);\n            setdosesAges(data.agedosesContentHistory.dosesAgesHistory);\n            setDosesAgesKeys(data.agedosesContentHistory.keysDosesAgesHistory);\n            setKeyValueDoses(data.agedosesContentHistory.keyValueDosesHistory);\n            setDosesAgesData(data.agedosesContentHistory.dosesAgesDataHistory);\n\n            setTotalByCategory(data.tot);\n            setCategoryMapData(data.agedosesContentHistory.secondDosesMapDataHistory);\n        }\n    }, [data]);\n\n    const resetFilter = () => {\n        setSelectedCodeAge(null);\n        setCategorySelectedRegion(null);\n        setCategorySelectedRegionDescr(null);\n        setTotalByCategory(data.tot);\n        setDosesAgesData(data.agedosesContentHistory.dosesAgesDataHistory);\n        setCategoryMapField(\"somministrazioni\");\n        setCategoryMapData(data.agedosesContentHistory.secondDosesMapDataHistory);\n    };\n\n    const fillMapCategoryArea = ({ region, maxValue, field }) => {\n        let scaleOp = 0;\n        if (region.code === categorySelectedRegion) {\n          scaleOp = 1;\n        } else if (!categorySelectedRegion) {\n          scaleOp = max([region[field] / maxValue, 0.1]);\n        } else {\n          const valueToFill = region[field] / (2 * maxValue);\n          scaleOp = max([valueToFill, 0.1]);\n        }\n        return `rgba(0,102,204,${scaleOp}) `;\n    };\n\n    const handleMapCategoryClick = (region) => {\n        if (selectedCodeAge) {\n          resetFilter();\n        }\n\n        if (categorySelectedRegion === region.code) {\n          resetFilter();\n        } else {\n          setCategorySelectedRegion(region.code);\n          setCategorySelectedRegionDescr(region.area);\n          setDosesAgesData(data.agedosesContentHistory.dosesAgesRegionDataHistory[region.code])\n\n          for(let row of data?.totalDeliverySummary) {\n            if (row.code === region.code) {\n                setTotalByCategory(row.dosi_somministrate);\n            }\n          }\n        }\n    };\n\n    const handleCategoryBarChartClick = (cat) => {\n        if (categorySelectedRegion) {\n          resetFilter();\n        }\n\n        const ageCode = cat.data.label.toLowerCase().replaceAll(' ', '_');\n\n        if (selectedCodeAge === ageCode) {\n          resetFilter();\n        } else {\n          setSelectedCodeAge(ageCode);\n          setCategoryMapField(ageCode);\n\n          console.log(ageCode)\n\n          for(let row of data.agedosesContentHistory.dosesAgesDataHistory) {\n            if (row.label === cat.data.label) {\n                setTotalByCategory(row.totale_somministrazioni);\n                break;\n            }\n          }\n        }\n    };\n\n    return (\n        <div className=\"row\">\n            {/* Box Title */}\n            <div className=\"col-12 d-flex justify-content-center align-items-center section-title mx-2\">\n                <div>\n                    <h3>Somministrazioni per fascia d'età - dose fino al 24/09/2023</h3>\n                </div>\n            </div>\n            {/* // Box Title */}\n\n            <div className=\"col-12 col-md-12 m-3\">\n                {/* Total Box - Mobile Layout */}\n                <div className=\"d-lg-none bg-box box-mobile m-3\">\n                    <div className=\"text-white\">\n                        <div className=\"d-flex justify-content-center pt-5\">\n                            <h5>Totale somministrazioni</h5>\n                        </div>\n                        <div className=\"d-flex justify-content-center\">\n                            <p className=\"box-numbers\">\n                                {totalByCategory && totalByCategory.toLocaleString(\"it\")}\n                            </p>\n                        </div>\n                        <div className=\"col-12 d-flex justify-content-end pb-2\">\n                            <img alt=\"reset-plot2\" src=\"reset_white.png\" onClick={resetFilter} height=\"36px\"/>\n                        </div>\n                    </div>\n                </div>\n                {/* // Total Box - Mobile Layout */}\n\n                {/* Total Box - Desktop Layout */}\n                <div className=\"col-4 col-md-4 d-none d-lg-block\">\n                    <div className=\"bg-box box-card box-left\">\n                        <div className=\"text-white\">\n                            <div className=\"d-flex justify-content-start pt-3 pl-5\">\n                                <h5>Totale somministrazioni</h5>\n                            </div>\n                            <div className=\"d-flex justify-content-start pl-5\">\n                                <p className=\"box-numbers\">\n                                    {totalByCategory && totalByCategory.toLocaleString(\"it\")}\n                                </p>\n                            </div>\n                            <div className=\"col-12 d-flex justify-content-end pb-2\">\n                                <img alt=\"Reset\" src=\"reset_white.png\" onClick={resetFilter} height=\"36px\"/>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                {/* // Total Box - Desktop Layout */}\n            </div>\n            <div className=\"col-12 col-md-6\">\n\n                {/* Graph */}\n                <AgeHStackedBarChart\n                    width={+350}\n                    height={+300}\n                    property={{ xprop: \"label\", yprop: \"total\" }}\n                    handleRectClick={handleCategoryBarChartClick}\n                    regionSelected={categorySelectedRegionDescr}\n                    selectedCodeAge={selectedCodeAge}\n                    colors={dosesAgesColor}\n                    keys={dosesAgesKeys}\n                    labels={keyValueDoses}\n                    data={dosesAgesData}\n                />\n                {/* // Graph */}\n\n                {/* Legend */}\n                <div className=\"row mb-4 ml-4\">\n                    {dosesAges.map((dose, index) => {\n                        return (\n                            <div className=\"row\" key={dose}>\n                                <div className=\"circle\" style={{ backgroundColor: dosesAgesColor[index] }}></div>\n                                <div className=\"legend-dark mr-4\">{dose}</div>\n                            </div>\n                        )\n                    })}\n                </div>\n                {/* // Legend */}\n\n                <p className=\"d-block d-sm-none text-center\">*Tieni premuto sulle barre del grafico per visualizzare i dati sulle dosi somministrate</p>\n                <p className=\"d-none d-sm-block text-center\">*Passa con il mouse sulle barre del grafico per visualizzare i dati sulle dosi somministrate</p>\n            </div>\n            <div className=\"col-12 col-md-6\">\n\n                {/* Map Title - Mobile View*/}\n                <div className=\"p-4 d-lg-none\">\n                    <div className=\"text-center\">\n                        <h5>Percentuale vaccinati per regione</h5>\n                    </div>\n                </div>\n                {/* // Map Title - Mobile View*/}\n\n                {/* Map Graph */}\n                <MapArea\n                    fillMapDeliveryArea={fillMapCategoryArea}\n                    summary={categoryMapData}\n                    handleMapDeliveryClick={handleMapCategoryClick}\n                    fillBy={categoryMapField}\n                    percentage={true}\n                    tooltip={(r) => {\n                            var region = null;\n                            for(let row of categoryMapData) {\n                                if (row.code === r.code) {\n                                    region = row;\n                                }\n                            }\n                            let totalKey = categoryMapField === 'somministrazioni' ? 'vaccinati' : 'vaccinati_' + categoryMapField;\n                            return (\n                                r.area +\n                                \" \" +\n                                (r[categoryMapField] && r[categoryMapField].toFixed(2).toLocaleString(\"it\") + \"%\") +\n                                \" \" +\n                                (region && region[totalKey] && \"(\" + region[totalKey].toLocaleString(\"it\") + \")\")\n                            )\n                        }\n                    }\n                    className=\"ml-5\"\n                />\n                {/* // Map Graph */}\n\n                {/* Map Title - Desktop View*/}\n                {/* <div className=\"p-4 position-relative d-none d-lg-block\" style={{ left: \"300px\", top: \"-390px\" }}> */}\n                <div className=\"p-4 d-none d-lg-block map-legend\">\n                    <div className=\"d-flex justify-content-start pr-5\">\n                        <h5 className=\"pl-3 pl-sm-1\">\n                            Percentuale vaccinati\n                            <br /> per regione\n                        </h5>\n                    </div>\n                </div>\n                {/* // Map Title - Desktop View*/}\n            </div>\n        </div>\n    )\n};","import { React, useEffect, useRef } from \"react\";\nimport * as d3 from \"d3\";\n\nexport const StackedBarChart = ({\n  height,\n  width,\n  data,\n  keys,\n  colors,\n  selectedFrom,\n  selectedTo,\n  property,\n  title,\n  ytitle\n  }) => {\n\n  const myRef = useRef();\n  const divRef = useRef();\n\n  useEffect(() => {\n      doExit();\n      draw();\n      // eslint-disable-next-line\n  }, [data, keys, selectedFrom, selectedTo]);\n\n\n  const responsivefy = (svg) => {\n    // Container is the DOM element, svg is appended.\n    // Then we measure the container and find its\n    // aspect ratio.\n    const container = d3.select(svg.node().parentNode),\n      width = parseInt(svg.style(\"width\"), 10),\n      height = parseInt(svg.style(\"height\"), 10),\n      aspect = width / height;\n\n    // Add viewBox attribute to set the value to initial size\n    // add preserveAspectRatio attribute to specify how to scale\n    // and call resize so that svg resizes on page load\n    svg\n      .attr(\"viewBox\", `0 0 ${width} ${height+10}`)\n      .attr(\"preserveAspectRatio\", \"xMinYMid\")\n      .call(resize);\n\n    d3.select(window).on(\"resize.\" + container.attr(\"id\"), resize);\n\n    function resize() {\n      const targetWidth = parseInt(container.style(\"width\"));\n      svg.attr(\"width\", targetWidth);\n      svg.attr(\"height\", Math.round(targetWidth / aspect));\n    }\n  };\n\n  function doExit() {\n    d3.select(divRef.current).selectAll(\"svg\").remove();\n  }\n\n  const draw = () => {\n\n    const dataset = d3.stack().keys(keys)(data.slice(selectedFrom, selectedTo));\n\n    // append element\n    const svg = d3\n      .select(divRef.current)\n      .append(\"svg\")\n      .style('margin-bottom', 15)\n      .attr(\"width\", width)\n      .attr(\"height\", height);\n    const margin = { y: 50, x: 50 };\n\n    // axis\n    const xScale = d3.scaleBand().padding(0.2);\n    const yScale = d3.scaleLinear().domain([0, d3.max(data.slice(selectedFrom, selectedTo), function(d) { return d.total; })]);\n    yScale.range([height, 0]);\n    xScale.range([0, width]).domain(data.slice(selectedFrom, selectedTo).map((d) => d.label));\n\n    svg\n      .attr(\"width\", width + 2 * margin.x)\n      .attr(\"height\", height + 2 * margin.y)\n      .call(responsivefy) // Call responsivefy to make the chart responsive\n      .attr(\"id\", \"svg-stack-bar\");\n\n    svg\n      .append(\"text\")\n      .attr(\"x\", width / 2 + margin.x)\n      .attr(\"y\", margin.y / 2)\n      .attr(\"class\", \"title\")\n      .attr(\"text-anchor\", \"middle\")\n      .attr(\"transform\", \"rotate(90)\")\n      .attr(title);\n\n    svg\n      .append(\"text\")\n      .attr(\"x\", -(height / 2) - margin.y)\n      .attr(\"y\", margin.x / 2.4)\n      .attr(\"transform\", \"rotate(-90)\")\n      .attr(\"class\", \"title\")\n      .text(ytitle);\n\n\n    const chart = svg\n      .append(\"g\")\n      .attr(\"transform\", `translate(${margin.x},${margin.y})`);\n\n    chart\n      .append(\"g\")\n      .attr(\"class\", \"axis\")\n      .attr(\"transform\", `translate(0,${height})`)\n      .style('font-size', 16)\n      .call(d3.axisBottom(xScale))\n        .selectAll(\"text\") // x axis label rotation\n            .attr(\"y\", -5)\n            .attr(\"x\", 11)\n            .attr(\"transform\", \"rotate(90)\")\n            .style(\"text-anchor\", \"start\");\n\n\n    const tooltip = d3\n      .select('body')\n      .append('div')\n      .attr('class', 'd3-tooltip')\n      .style('position', 'absolute')\n      .style('z-index', '10')\n      .style('display', 'none')\n      .style('padding', '10px')\n      .style('background', 'rgba(0,0,0,0.8)')\n      .style('border-radius', '4px')\n      .style('color', '#fff');\n\n    const path = chart.selectAll().data(dataset);\n\n    path\n      .enter()\n      .append(\"g\")\n      .attr(\"fill\", function(d) {\n        return colors[d.key];\n      })\n      .attr(\"supply\", function(d) {\n        return d.key;\n      })\n      .selectAll(\"rect\")\n      .data(function(d) {\n        return d;\n      })\n      .enter().append(\"rect\")\n      .attr(\"x\", function(d) {\n        return xScale(d.data.label);\n      })\n      .attr(\"y\", function(d) {\n        return yScale(d[1]);\n      })\n      .attr(\"height\", function(d) {\n        return yScale(d[0]) - yScale(d[1]);\n      })\n      .attr(\"width\", xScale.bandwidth())\n      .on('mouseover', function (d, i) {\n        d3.select(this).transition().attr('fill', '#0BD9D3');\n      })\n      .on('mousemove', function (event, d) {\n        tooltip\n            .style('top', event.pageY - 10 + 'px')\n            .style('left', event.pageX + 10 + 'px');\n        tooltip\n          .html(\n            `<div style=\"text-align: center\"><b>${d3.select(this.parentNode).attr(\"supply\")}</b></div>\n            <div>${(d[1] - d[0]).toLocaleString('it')} su ${d.data.total.toLocaleString(\"it\")}</div>\n            <div style=\"text-align: center; font-size: 12px\">dal ${(d.data.labelfrom)} al ${d.data.labelto}</div>`\n          )\n          .style('display', null);\n      })\n      .on('mouseout', function (d) {\n          tooltip.html(``).style('display', 'none');\n          d3.select(this).transition().attr('fill', colors[d.key]);\n      });\n    path.exit().remove();\n  };\n\n  return (\n    <div ref={divRef} className=\"chart svg-container\">\n      <svg ref={myRef} className=\"svg-content-responsive\"></svg>\n    </div>\n  );\n};\n","import React, { useEffect, useState } from \"react\";\nimport { Range, getTrackBackground } from \"react-range\";\n\nexport const RangeWeek = ({\n    from,\n    to,\n    min,\n    max,\n    changeFrom,\n    changeTo\n  }) => {\n\n  const [values, setValues] = useState([0, 1]);\n\n  const STEP = 1;\n\n  useEffect(() => {\n    setValues([from, to])\n  },[from, to, min, max]);\n\n\n  return (\n    <div className=\"col-12\"\n      style={{\n        display: 'flex',\n        justifyContent: 'center',\n        flexWrap: 'wrap',\n        backgroundColor: 'rgb(15, 53, 89)'\n      }}\n    >\n      <Range\n        draggableTrack\n        values={values}\n        step={STEP}\n        min={min}\n        max={max}\n        rtl={false}\n        onChange={(values) => {\n          if (values[0] !== values[1]) {\n            setValues(values);\n            changeFrom(values[0]);\n            changeTo(values[1]);\n          }\n\n        }}\n        renderTrack={({ props, children }) => (\n          <div\n            onMouseDown={props.onMouseDown}\n            onTouchStart={props.onTouchStart}\n            style={{\n              ...props.style,\n              height: '36px',\n              display: 'flex',\n              width: '100%',\n              marginRight: 10,\n              marginLeft: 10\n            }}\n          >\n            <div\n              ref={props.ref}\n              style={{\n                height: '5px',\n                width: '100%',\n                borderRadius: '4px',\n                background: getTrackBackground({\n                  values,\n                  colors: ['#ccc', 'black', '#ccc'],\n                  min: min,\n                  max: max,\n                  rtl: false\n                }),\n                alignSelf: 'center'\n              }}\n            >\n              {children}\n            </div>\n          </div>\n        )}\n        renderThumb={({ props, isDragged }) => (\n          <div\n            {...props}\n            style={{\n              ...props.style,\n              height: '20px',\n              width: '20px',\n              borderRadius: '50%',\n              backgroundColor: '#ccc',\n              display: 'flex',\n              justifyContent: 'center',\n              alignItems: 'center',\n              boxShadow: '0px 2px 6px #AAA'\n            }}\n          >\n          </div>\n        )}\n      />\n    </div>\n  );\n};\n","import React, { useEffect, useState } from \"react\";\nimport { isEmpty } from \"lodash\";\nimport { StackedBarChart } from \"./../components/StackedBarChart\";\nimport { RangeWeek } from \"./../components/RangeWeek\";\n\nexport const Weeks = ({ data }) => {\n    const [suppliersColor, setSuppliersColor] = useState([]);\n    const [suppliers, setSuppliers] = useState([]);\n    const [suppliersWeek, setSuppliersWeek] = useState([]);\n    const [from, setFrom] = useState(0);\n    const [to, setTo] = useState(0);\n    const [totalLastWeek, setTotalLastWeek] = useState(0);\n    const [fromLastWeek, setFromLastWeek] = useState(\"\");\n    const [toLastWeek, setToLastWeek] = useState(\"\");\n\n    useEffect(() => {\n        if (!isEmpty(data)) {\n            setSuppliersColor(data.weekContent.suppliersColor);\n            setSuppliers(data.weekContent.suppliers);\n            setSuppliersWeek(data.weekContent.suppliersWeek);\n\n            setTo(data.weekContent.suppliersWeek.length);\n            if (data.weekContent.suppliersWeek.length >= 9) {\n                setFrom(data.weekContent.suppliersWeek.length - 9);\n            }\n\n            if (data.weekContent.suppliersWeek.length > 0) {\n                let lastWeek = data.weekContent.suppliersWeek[data.weekContent.suppliersWeek.length-1];\n                setFromLastWeek(lastWeek.labelfrom + \"/\" + lastWeek.from.substring(0, 4));\n                setToLastWeek(lastWeek.labelto + \"/\" + lastWeek.to.substring(0, 4));\n                setTotalLastWeek(lastWeek.total);\n            }\n        }\n      }, [data]);\n\n    return (\n        <div className=\"row\">\n            {/* Title Box - Desktop View */}\n            <div className=\"col-12 d-flex justify-content-center align-items-center section-title px-5 mx-2\">\n                <span><h3>Somministrazioni su base settimanale<br />del richiamo con XBB 1.5<br/></h3>\n                <h6>Vaccinazioni dal <b>{fromLastWeek}</b> al <b>{toLastWeek}</b>: {totalLastWeek?.toLocaleString('it')}</h6>\n                </span>\n            </div>\n            {/* // Title Box - Desktop View */}\n            <div className=\"row col-12 m-2 p-2 \">\n                <div className=\"col-12 col-md-6 align-items-end testo-info-campania d-none d-sm-none d-md-flex d-lg-flex\"></div>\n                <div className=\"col-12 col-md-6  position-relative\">\n\n                    <div className=\"bg-gradient-bar\"></div>\n                </div>\n                <div className=\"col-12 col-md-4\" style={{ backgroundColor: \"#17324D\" }}>\n                    <div className=\"p-2 position-relative\">\n                        <div className=\"p-4\">\n                            <img src=\"group_person.svg\" alt=\"Logo\" className=\"img-fluid\" />\n                        </div>\n                        <div className=\"mt-4 ml-3\">\n                            {suppliers.map((supply, index) => {\n                                return (\n                                    <div className=\"row\" key={supply}>\n                                        <div className=\"circle\" style={{ backgroundColor: suppliersColor[supply] }}></div>\n                                        <span className=\"legend\">{supply}</span>\n                                    </div>\n                                )\n                            })}\n                        </div>\n                    </div>\n                </div>\n                <div className=\"col-12 col-md-8 text-white\"  style={{ backgroundColor: \"#17324D\" }}>\n                <div className=\"text-white text-center mt-3 \">*Passa con il mouse sulle barre del grafico per visualizzare i dati della settimana</div>\n                    <StackedBarChart\n                        title=\"\"\n                        xtitle=\"Somministrazione settimanale\"\n                        ytitle=\"\"\n                        width={780}\n                        height={350}\n                        marginBottom={10}\n                        property={{ xprop: \"label\", yprop: \"total\" }}\n\n                        colors={suppliersColor}\n                        keys={suppliers}\n                        data={suppliersWeek}\n                        selectedFrom={from}\n                        selectedTo={to}\n                    />\n                </div>\n                {suppliersWeek.length > 0 && (\n                    <RangeWeek min={0} max={suppliersWeek.length} from={from} to={to} changeFrom={(value) => setFrom(value)} changeTo={(value) => setTo(value)}  />\n                )}\n            </div>\n                <div>*Fai scorrere i selettori per aumentare o diminuire le settimane da visualizzare<br />La voce \"Pfizer Pediatrico\" include le formulazioni per le fasce di età 0-4 anni e 5-11 anni</div>\n        </div>\n    )\n};","import React, { useEffect, useState } from \"react\";\n\nexport const Databox = ({ data }) => {\n    const [totalePrimaDose, setTotalePrimaDose] = useState(''); // Prima Dose\n    const [percentualePrimaDosePopolazione, setPercentualePrimaDosePopolazione] = useState(''); // Percentuale Prima Dose\n\n    const [totalePersoneVaccinate, setTotalePersoneVaccinate] = useState(''); // Completamento ciclo vaccinale\n    const [totalePersoneVaccinatePopolazione, setTotalePersoneVaccinatePopolazione] = useState(''); // Percentuale Completamento ciclo vaccinale\n\n    const [totaleDoseAddizionaleBooster, setTotaleDoseAddizionaleBooster] = useState(''); // Dose aggiuntiva/booster\n    const [percentualeDoseAddizionaleBooster, setPercentualeDoseAddizionaleBooster] = useState(''); // Percentuale Dose aggiuntiva/booster\n\n    const [totalePersoneSecondBooster, setTotalePersoneSecondBooster] = useState(''); // Dose seconda booster\n    const [percentualePersoneSecondBooster, setPercentualePersoneSecondBooster] = useState(''); // Percentuale Dose seconda booster\n\n    const [totalePersoneThirdBooster, setTotalePersoneThirdBooster] = useState(''); // Dose terza booster\n    const [percentualePersoneThirdBooster, setPercentualePersoneThirdBooster] = useState(''); // Percentuale Dose terza booster\n\n    const [totalePrimaDoseBaby, setTotalePrimaDoseBaby] = useState(''); // Prima Dose Baby\n    const [percentualePrimaDosePopolazioneBaby, setPercentualePrimaDosePopolazioneBaby] = useState(''); // Percentuale Prima Dose Baby\n\n    const [totalePersoneVaccinateBaby, setTotalePersoneVaccinateBaby] = useState(''); // Completamento ciclo vaccinale Baby\n    const [totalePersoneVaccinatePopolazioneBaby, setTotalePersoneVaccinatePopolazioneBaby] = useState(''); // Percentuale Completamento ciclo vaccinale Baby\n\n    const [totaleDoseAddizionaleBoosterBaby, setTotaleDoseAddizionaleBoosterBaby] = useState(''); // Dose aggiuntiva/booster 5-11\n    const [percentualeDoseAddizionaleBoosterBaby, setPercentualeDoseAddizionaleBoosterBaby] = useState(''); // Percentuale Dose aggiuntiva/booster 5-11\n\n    const [totalePrimaDoseInfant, setTotalePrimaDoseInfant] = useState(''); // Prima Dose Neonati\n    const [percentualePrimaDosePopolazioneInfant, setPercentualePrimaDosePopolazioneInfant] = useState(''); // Percentuale Prima Dose Neonati\n\n    const [totalePersoneVaccinateInfant, setTotalePersoneVaccinateInfant] = useState(''); // Completamento ciclo vaccinale neonati\n    const [totalePersoneVaccinatePopolazioneInfant, setTotalePersoneVaccinatePopolazioneInfant] = useState(''); // Percentuale Completamento ciclo vaccinale neonati\n\n    useEffect(() => {\n        // Prima Dose\n        let prima = (data?.totalDoses?.prima_dose + data?.totalDoses?.pregressa_infezione);\n        if (!isNaN(prima)) {\n            setTotalePrimaDose(format(prima));\n            setPercentualePrimaDosePopolazione(format(prima / data?.databoxContent?.totalPlatea * 100, true));\n        }\n\n        // Completamento ciclo vaccinale\n        let tot = (data?.totalDoses?.seconda_dose + data?.totalDoses?.prima_dose_janssen + data?.totalDoses?.pregressa_infezione);\n        if (!isNaN(tot)) {\n            setTotalePersoneVaccinate(format(tot));\n            setTotalePersoneVaccinatePopolazione(format(tot / data?.databoxContent?.totalPlatea * 100, true));\n        }\n\n        // Dose aggiuntiva/booster\n        setTotaleDoseAddizionaleBooster(data?.totalDoses?.dose_addizionale_booster);\n        setPercentualeDoseAddizionaleBooster(format(data?.totalDoses?.dose_addizionale_booster / data?.databoxContent?.totalPlateaDoseAddizionaleBooster * 100, true));\n\n        // Dose second booster\n        setTotalePersoneSecondBooster(format(data?.totalDoses?.dose_second_booster));\n        setPercentualePersoneSecondBooster(format(data?.totalDoses?.dose_second_booster / data?.databoxContent?.totalPlateaDoseSecondBooster * 100, true))\n        \n        // Dose third booster\n        setTotalePersoneThirdBooster(format(data?.totalDoses?.dose_third_booster));\n        setPercentualePersoneThirdBooster(format(data?.totalDoses?.dose_third_booster / data?.databoxContent?.totalPlateaDoseThirdBooster * 100, true));\n\n        // Prima Dose Baby\n        let primaBaby = (data?.totalDoses?.prima_dose_baby + data?.totalDoses?.pregressa_infezione_baby);\n        if (!isNaN(primaBaby)) {\n            setTotalePrimaDoseBaby(format(primaBaby));\n            setPercentualePrimaDosePopolazioneBaby(format(primaBaby / data?.databoxContent?.totalPlateaBaby* 100, true));\n        }\n\n        // Completamento ciclo vaccinale Baby\n        let totBaby = (data?.totalDoses?.seconda_dose_baby + data?.totalDoses?.prima_dose_janssen_baby + data?.totalDoses?.pregressa_infezione_baby);\n        if (!isNaN(totBaby)) {\n            setTotalePersoneVaccinateBaby(format(totBaby));\n            setTotalePersoneVaccinatePopolazioneBaby(format(totBaby / data?.databoxContent?.totalPlateaBaby* 100, true));\n        }\n\n        // Dose aggiuntiva/booster baby\n        setTotaleDoseAddizionaleBoosterBaby(data?.totalDoses?.dose_addizionale_booster_baby);\n        setPercentualeDoseAddizionaleBoosterBaby(format(data?.totalDoses?.dose_addizionale_booster_baby / data?.databoxContent?.totalPlateaDoseAddizionaleBoosterBaby * 100, true));\n\n        // Prima Dose neonati\n        let primaInfant = (data?.totalDoses?.prima_dose_infant + data?.totalDoses?.pregressa_infezione_infant);\n        if (!isNaN(primaInfant)) {\n            setTotalePrimaDoseInfant(format(primaInfant));\n            setPercentualePrimaDosePopolazioneInfant(format(primaInfant / data?.databoxContent?.totalPlateaInfant* 100, true));\n        }\n \n        // Completamento ciclo vaccinale neonati\n        let totInfant = (data?.totalDoses?.seconda_dose_infant + data?.totalDoses?.prima_dose_janssen_infant + data?.totalDoses?.pregressa_infezione_infant);\n        if (!isNaN(totInfant)) {\n            setTotalePersoneVaccinateInfant(format(totInfant));\n            setTotalePersoneVaccinatePopolazioneInfant(format(totInfant / data?.databoxContent?.totalPlateaInfant* 100, true));\n        }\n     }, [data]);\n\n    function format(data, digit = false) {\n        if (digit) {\n            return data?.toLocaleString('it', {minimumFractionDigits: 2, maximumFractionDigits: 2});\n        }\n        return data?.toLocaleString('it');\n    }\n\n    return (\n        <div className=\"p-3 mb-5\">     \n            <div className=\"col-12 d-flex justify-content-center align-items-center p-3 section-title small\">\n                <div className=\"mb-2\" >\n                    <h3 className=\"text-center\">Ciclo Vaccinale Primario fino al 24/09/2023</h3>\n                </div>\n            </div>\n\n            <div className=\"row bg-box p-2 mb-4\">\n                <div className=\"col-md-6 col-sm-12\">\n                    <div className=\"box-card p-2\">\n                        <div className=\"p-1\">\n                            <div className=\"align-items-center justify-content-center text-center mb-4\">\n                                <h5 className=\"mt-2\">Con almeno una dose</h5>\n                                <div className=\"box-numbers\">{totalePrimaDose}</div>\n                                <div className=\"box-text\">{percentualePrimaDosePopolazione} % della popolazione over 12</div>\n                                <div className=\"box-label\" >(persone con almeno una somministrazione)</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"col-md-6 col-sm-12\">\n                    <div className=\"box-card p-2\">\n                        <div className=\"p-1\">\n                            <div className=\"align-items-center justify-content-center text-center mb-4\">\n                                <h5 className=\"mt-2\">Ciclo vaccinale</h5>\n                                <div className=\"box-numbers\">{totalePersoneVaccinate}</div>\n                                <div className=\"box-text\">{totalePersoneVaccinatePopolazione} % della popolazione over 12</div>\n                                <div className=\"box-label\" >(persone che hanno completato il ciclo vaccinale)</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n\n            <div className=\"col-12 d-flex justify-content-center align-items-center p-3 section-title small\">\n                <div className=\"mb-2\" >\n                    <h3 className=\"text-center\">Dosi successive fino al 24/09/2023</h3>\n                </div>\n            </div>\n\n            <div className=\"row bg-box p-2 mb-4\">\n                <div className=\"col-md-6 col-sm-12\">\n                    <div className=\"box-card p-2\">\n                        <div className=\"p-1\">\n                            <div className=\"align-items-center justify-content-center text-center\">\n                                <h5 className=\"mt-2 mb-3\">Dose addizionale/richiamo (booster)</h5>\n                                <div className=\"box-numbers\">{totaleDoseAddizionaleBooster?.toLocaleString('it')}</div>\n                                <div className=\"box-text\">{percentualeDoseAddizionaleBooster} % della popolazione potenzialmente oggetto di<br />dose addizionale o booster che ha ultimato il ciclo vaccinale<br />da almeno 4 mesi</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"col-md-6 col-sm-12\">\n                    <div className=\"box-card p-2\">\n                        <div className=\"p-1\">\n                            <div className=\"align-items-center justify-content-center text-center\">\n                                <h5 className=\"mt-2 mb-3\">Booster immuno / 2ª dose booster</h5>\n                                <div className=\"box-numbers\">{totalePersoneSecondBooster?.toLocaleString('it')}</div>\n                                <div className=\"box-text\">{percentualePersoneSecondBooster} % della popolazione potenzialmente oggetto di <br />dose booster/2ª booster cha ha ultimato il ciclo vaccinale<br />da almeno 4 mesi</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"col-md-12 col-sm-12\">\n                    <div className=\"box-card p-2\">\n                        <div className=\"p-1\">\n                            <div className=\"align-items-center justify-content-center text-center\">\n                                <h5 className=\"mt-2 mb-3\">3ª dose booster</h5>\n                                <div className=\"box-numbers\">{totalePersoneThirdBooster?.toLocaleString('it')}</div>\n                                <div className=\"box-text\">{percentualePersoneThirdBooster} % della popolazione potenzialmente oggetto di <br />3ª dose booster cha ha ultimato il ciclo vaccinale<br />da almeno 4 mesi</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div className=\"col-12 d-flex justify-content-center align-items-center p-3 section-title small\">\n                <div className=\"mb-2\" >\n                    <h3 className=\"text-center\">Vaccinazione 5-11 anni fino al 24/09/2023</h3>\n                </div>\n            </div>\n\n            <div className=\"row bg-box mb-4\">\n                <div className=\"col-md-4 col-sm-12\">\n                    <div className=\"box-card p-2\">\n                        <div className=\"p-1\">\n                            <div className=\"align-items-center justify-content-center text-center mb-4\">\n                                <h5 className=\"mt-2\">Con almeno una dose</h5>\n                                <div className=\"box-numbers\">{totalePrimaDoseBaby}</div>\n                                <div className=\"box-text\">{percentualePrimaDosePopolazioneBaby} % della popolazione 5-11</div>\n                                <div className=\"box-label\" >(persone con almeno una somministrazione)</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"col-md-4 col-sm-12\">\n                    <div className=\"box-card p-2\">\n                        <div className=\"p-1\">\n                            <div className=\"align-items-center justify-content-center text-center mb-4\">\n                                <h5 className=\"mt-2\">Ciclo vaccinale</h5>\n                                <div className=\"box-numbers\">{totalePersoneVaccinateBaby}</div>\n                                <div className=\"box-text\">{totalePersoneVaccinatePopolazioneBaby} % della popolazione 5-11</div>\n                                <div className=\"box-label\" >(persone che hanno completato il ciclo vaccinale)</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"col-md-4 col-sm-12\">\n                    <div className=\"box-card p-2\">\n                        <div className=\"p-1\">\n                            <div className=\"align-items-center justify-content-center text-center\">\n                                <h5 className=\"mt-2 mb-3\">Dose addizionale/richiamo (booster)</h5>\n                                <div className=\"box-numbers\">{totaleDoseAddizionaleBoosterBaby?.toLocaleString('it')}</div>\n                                <div className=\"box-text\">{percentualeDoseAddizionaleBoosterBaby} % della popolazione 5-11 potenzialmente oggetto di dose addizionale o booster che ha ultimato il ciclo vaccinale da almeno 4 mesi</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n\n            <div className=\"col-12 d-flex justify-content-center align-items-center p-3 section-title small\">\n                <div className=\"mb-2\" >\n                    <h3 className=\"text-center\">Ciclo Vaccinale Primario 0-4 anni fino al 24/09/2023</h3>\n                </div>\n            </div>\n\n            <div className=\"row bg-box mb-4\">\n                <div className=\"col-md-6 col-sm-12\">\n                    <div className=\"box-card p-2\">\n                        <div className=\"p-1\">\n                            <div className=\"align-items-center justify-content-center text-center mb-4\">\n                                <h5 className=\"mt-2\">Con almeno una dose</h5>\n                                <div className=\"box-numbers\">{totalePrimaDoseInfant}</div>\n                                <div className=\"box-text\">{percentualePrimaDosePopolazioneInfant} % della popolazione 0-4</div>\n                                <div className=\"box-label\" >(persone con almeno una somministrazione)</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"col-md-6 col-sm-12\">\n                    <div className=\"box-card p-2\">\n                        <div className=\"p-1\">\n                            <div className=\"align-items-center justify-content-center text-center mb-4\">\n                                <h5 className=\"mt-2\">Ciclo vaccinale</h5>\n                                <div className=\"box-numbers\">{totalePersoneVaccinateInfant}</div>\n                                <div className=\"box-text\">{totalePersoneVaccinatePopolazioneInfant} % della popolazione 0-4</div>\n                                <div className=\"box-label\" >(persone che hanno completato il ciclo vaccinale)</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>        \n    );\n};","import { useState, useEffect } from 'react';\nimport { HeaderBar } from \"./components/HeaderBar\";\nimport { FooterBar } from \"./components/FooterBar\";\nimport { TotalHistory } from \"./components/TotalHistory\";\nimport { Total } from \"./components/Total\";\nimport { loadData } from \"./loadData\";\nimport { AgeDoses } from \"./containers/agedoses\";\nimport { AgeDosesHistory } from \"./containers/agedosesHistory\";\nimport { Weeks } from \"./containers/weeks\";\nimport { Databox } from \"./containers/databox\";\nimport { hideLoader } from \"./utils\";\nimport \"./App.css\";\nimport \"./fontawesome/brands.css\";\nimport \"./fontawesome/fontawesome.css\";\nimport \"./fontawesome/solid.css\";\n\nfunction App() {\n    const [summary, setSummary] = useState({});\n\n    useEffect(() => {\n        loadData().then((d) => {\n        hideLoader();\n        setSummary(d);\n        });\n    }, []);\n\n    return (\n        <div>\n            <HeaderBar />\n            <div className=\"container\">\n                <Total summary={{ ...summary }} />              {/* Totale Somministrazioni campagna attuale */}\n                <Weeks data={summary} />                        {/* Grafico Andamento Settimanale delle Somministrazioni */}\n                <AgeDoses data={summary} />                     {/* Grafico Somministrazioni per fascia d'età dati storici */}\n                <div className=\"row mt-5 mb-5\">\n                    <div className=\"flag-green col-md-4 col-3\"></div>\n                    <div className=\"col-md-4 col-6\">\n                        <img className=\"col-md-12\" src=\"ministero.png\" alt=\"logo-ministero\" />\n                    </div>\n                    <div className=\"flag-red col-md-4 col-3\"></div>\n                </div>\n                <TotalHistory summary={{ ...summary }} />       {/* Totale Somministrazioni storiche */}\n                <AgeDosesHistory data={summary} />              {/* Grafico Somministrazioni per fascia d'età dati storici */}\n                <Databox data={summary} />                      {/* Box riepilogo dati storici */}\n            </div>\n            <FooterBar />\n        </div>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}