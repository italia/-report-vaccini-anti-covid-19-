(this["webpackJsonpcovid19-dashboard-vaccini"]=this["webpackJsonpcovid19-dashboard-vaccini"]||[]).push([[0],{175:function(e,t,a){},184:function(e,t,a){"use strict";a.r(t);var s=a(0),i=a(1),o=a.n(i),n=a(54),c=a.n(n),l=(a(175),a(7)),r=a(2),d=(a(176),a(51),a(177),a(178),a(179),function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{className:"row m-0 bg-tertiary",children:[Object(s.jsxs)("div",{className:"col-12 col-md-4 d-flex justify-content-md-center justify-content-sm-start logo-section pt-2 pb-2",children:[Object(s.jsx)("img",{src:"logo.svg",height:"4px",alt:"Logo",className:"logo pl-5 pr-2"}),Object(s.jsx)("p",{className:"pt-2",children:Object(s.jsx)("a",{href:"http://www.governo.it","aria-label":"Presidenza del Consiglio dei Ministri",className:"text-decoration-none",rel:"noreferrer",alt:"Presidenza del Consiglio dei Ministri",children:"Presidenza del Consiglio dei Ministri"})})]}),Object(s.jsxs)("div",{className:"col-12 col-md-4 d-flex justify-content-md-center justify-content-sm-start logo-section pr-sm-0 pt-2 pb-2",children:[Object(s.jsx)("img",{src:"logo.svg",height:"4px",alt:"Logo",className:"logo pl-5 pr-2"}),Object(s.jsx)("p",{className:"pt-2",children:Object(s.jsx)("a",{className:"text-decoration-none",href:"https://www.governo.it/it/dipartimenti/commissario-straordinario-lemergenza-covid-19/cscovid19-commissario/14419","aria-label":"Commissario Straordinario Covid-19",rel:"noreferrer",alt:"Commissario Straordinario Covid",children:"Commissario Straordinario Covid-19"})})]}),Object(s.jsxs)("div",{className:"col-12 col-md-4 d-flex justify-content-md-center justify-content-sm-start logo-section pt-2 pb-2 pr-sm-3",children:[Object(s.jsx)("img",{src:"logo.svg",height:"4px",alt:"Logo",className:"logo pl-5 pr-2"}),Object(s.jsx)("p",{className:"pt-2",children:Object(s.jsx)("a",{href:"http://www.salute.gov.it/portale/home.html",className:"text-decoration-none","aria-label":"Ministero della Salute",rel:"noreferrer",alt:"Ministero della Salute",children:"Ministero della Salute"})})]}),Object(s.jsx)("div",{className:"col-12 d-flex flex-column justify-content-center mainBanner",children:Object(s.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(s.jsx)("img",{src:"Coccarda.svg",alt:"Logo",height:"150px",className:"main-logo"}),Object(s.jsx)("h1",{className:"large-title pl-2 pt-4 d-lg-none d-md-none d-xs-block",children:"Report Vaccini Anti COVID-19"})," ",Object(s.jsx)("h1",{className:"large-title pl-2 pt-5 d-none d-md-block",children:"Report Vaccini Anti COVID-19"}),"  "]})})]})})}),m=function(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"row",children:Object(s.jsxs)("div",{className:"col-12 text-center pt-5 pb-3",children:["I dati visualizzati sono disponibili all'indirizzo"," ",Object(s.jsx)("a",{href:"https://github.com/italia/covid19-opendata-vaccini",alt:"Repository Dati Covid Governo Italiano",children:"https://github.com/italia/covid19-opendata-vaccini"})]})}),Object(s.jsxs)("div",{className:"row m-0 p-2 bg-footer",children:[Object(s.jsxs)("div",{className:"col-12 col-md-4 d-flex justify-content-md-center justify-content-sm-start logo-section pt-2 pb-2",children:[Object(s.jsx)("img",{src:"logo.svg",height:"4px",alt:"Logo",className:"logo pl-5 pr-2"}),Object(s.jsx)("p",{className:"pt-2",children:Object(s.jsx)("a",{href:"http://www.governo.it","aria-label":"Presidenza del Consiglio dei Ministri",className:"text-decoration-none",rel:"noreferrer",alt:"Presidenza del Consiglio dei Ministri",children:"Presidenza del Consiglio dei Ministri"})})]}),Object(s.jsxs)("div",{className:"col-12 col-md-4 d-flex justify-content-md-center justify-content-sm-start logo-section pr-sm-0 pt-2 pb-2",children:[Object(s.jsx)("img",{src:"logo.svg",height:"4px",alt:"Logo",className:"logo pl-5 pr-2"}),Object(s.jsx)("p",{className:"pt-2",children:Object(s.jsx)("a",{className:"text-decoration-none",href:"https://www.governo.it/it/dipartimenti/commissario-straordinario-lemergenza-covid-19/cscovid19-commissario/14419","aria-label":"Commissario Straordinario Covid-19",rel:"noreferrer",alt:"Commissario Straordinario Covid-19",children:"Commissario Straordinario Covid-19"})})]}),Object(s.jsxs)("div",{className:"col-12 col-md-4 d-flex justify-content-md-center justify-content-sm-start logo-section pt-2 pb-2 pr-sm-3",children:[Object(s.jsx)("img",{src:"logo.svg",height:"4px",alt:"Logo",className:"logo pl-5 pr-2"}),Object(s.jsx)("p",{className:"pt-2",children:Object(s.jsx)("a",{href:"http://www.salute.gov.it/portale/home.html",className:"text-decoration-none","aria-label":"Ministero della Salute",rel:"noreferrer",alt:"Ministero della Salute",children:"Ministero della Salute"})})]})]})]})},j=a(8),b=a.n(j),u=function(e){var t;return Object(s.jsxs)("div",{className:"h-100 w-100 my-3",children:[Object(s.jsx)("div",{className:"mx-auto",children:Object(s.jsxs)("h6",{className:"text-center pb-4",children:["Report aggiornato al: "," ",e.summary.timestamp&&b()(e.summary.timestamp).format("DD-MM-YYYY HH:mm")]})}),Object(s.jsxs)("div",{className:"d-flex flex-column justify-content-center",children:[Object(s.jsxs)("div",{className:"d-flex justify-content-center align-items-baseline",children:[Object(s.jsx)("img",{src:"meds.png",alt:"meds",className:"pl-2 pr-5"})," ",Object(s.jsx)("div",{className:"pl-2 mt-4 numbers",children:null===(t=e.summary.tot)||void 0===t?void 0:t.toLocaleString("it")})]}),Object(s.jsx)("span",{className:"border-divider mb-2"}),Object(s.jsxs)("div",{className:"d-flex justify-content-center mb-5",children:[" ",Object(s.jsx)("h3",{children:"Totale somministrazioni"})]})]})]})},v=a(9),p=a.n(v),h=a(18),f=a(5),x=(a(10),a(3)),g=a.n(x),O=function(e){return function(t,a){return t+ +(null===a||void 0===a?void 0:a[e])}},y=function(e){return function(t){return function(a){return a[e]===t}}},N=(y("area")("ITA"),y("TML_FASCIA_ETA"),function(e){return Object(l.a)(Object(l.a)({},e),{},{area:_[e.area],code:e.area})}),_={ABR:"Abruzzo",BAS:"Basilicata",CAL:"Calabria",CAM:"Campania",EMR:"Emilia-Romagna",FVG:"Friuli-Venezia Giulia",LAZ:"Lazio",LIG:"Liguria",LOM:"Lombardia",MAR:"Marche",MOL:"Molise",PAB:"P.A. Bolzano",PAT:"P.A. Trento",PIE:"Piemonte",PUG:"Puglia",SAR:"Sardegna",SIC:"Sicilia",TOS:"Toscana",UMB:"Umbria",VDA:"Valle d'Aosta",VEN:"Veneto"},z=(function(e){var t={};for(var a in e)t[e[a]]=a}(_),"https://raw.githubusercontent.com/italia/covid19-opendata-vaccini/master/dati"),w="".concat(z,"/somministrazioni-vaccini-summary-latest.json"),S="".concat(z,"/somministrazioni-vaccini-latest.json"),D="".concat(z,"/vaccini-summary-latest.json"),k="".concat(z,"/punti-somministrazione-tipologia.json"),C="".concat(z,"/anagrafica-vaccini-summary-latest.json"),L="".concat(z,"/last-update-dataset.json"),P="".concat(z,"/consegne-vaccini-latest.json"),T="".concat(z,"/platea.json"),M="".concat(z,"/platea-dose-addizionale-booster.json"),A="".concat(z,"/platea-booster-immunocompromessi.json"),B="".concat(z,"/platea-second-booster.json"),Y="".concat(z,"/soggetti-guariti.json"),I=function(e){var t,a,s,i=e.dataSommVaxSummary.data.filter((function(e){return"ITA"!==e.area})).reduce(O("totale"),0),o=e.dataSupplierDoses.data,n=e.dataSommVaxDetail.data.map(N),c=e.dataVaxSummary.data.map(N),l=null===e||void 0===e||null===(t=e.dataSommVaxDetail)||void 0===t?void 0:t.data,r={prima_dose:g.a.sum(null===l||void 0===l?void 0:l.map((function(e){return"05-11"===(null===e||void 0===e?void 0:e.fascia_anagrafica)?0:null===e||void 0===e?void 0:e.prima_dose}))),prima_dose_baby:g.a.sum(null===l||void 0===l?void 0:l.map((function(e){return"05-11"===(null===e||void 0===e?void 0:e.fascia_anagrafica)?null===e||void 0===e?void 0:e.prima_dose:0}))),seconda_dose:g.a.sum(null===l||void 0===l?void 0:l.map((function(e){return"05-11"===(null===e||void 0===e?void 0:e.fascia_anagrafica)?0:null===e||void 0===e?void 0:e.seconda_dose}))),seconda_dose_baby:g.a.sum(null===l||void 0===l?void 0:l.map((function(e){return"05-11"===(null===e||void 0===e?void 0:e.fascia_anagrafica)?null===e||void 0===e?void 0:e.seconda_dose:0}))),pregressa_infezione:g.a.sum(null===l||void 0===l?void 0:l.map((function(e){return"05-11"===(null===e||void 0===e?void 0:e.fascia_anagrafica)?0:null===e||void 0===e?void 0:e.pregressa_infezione}))),pregressa_infezione_baby:g.a.sum(null===l||void 0===l?void 0:l.map((function(e){return"05-11"===(null===e||void 0===e?void 0:e.fascia_anagrafica)?null===e||void 0===e?void 0:e.pregressa_infezione:0}))),dose_addizionale_booster:g.a.sum(null===l||void 0===l?void 0:l.map((function(e){return"05-11"===(null===e||void 0===e?void 0:e.fascia_anagrafica)?0:null===e||void 0===e?void 0:e.dose_addizionale_booster}))),dose_addizionale_booster_baby:g.a.sum(null===l||void 0===l?void 0:l.map((function(e){return"05-11"===(null===e||void 0===e?void 0:e.fascia_anagrafica)?null===e||void 0===e?void 0:e.dose_addizionale_booster:0}))),dose_immunocompromessi:g.a.sum(null===l||void 0===l?void 0:l.map((function(e){return"05-11"===(null===e||void 0===e?void 0:e.fascia_anagrafica)?0:null===e||void 0===e?void 0:e.booster_immuno}))),dose_second_booster:g.a.sum(null===l||void 0===l?void 0:l.map((function(e){return"05-11"===(null===e||void 0===e?void 0:e.fascia_anagrafica)?0:null===e||void 0===e?void 0:e.d2_booster}))),prima_dose_janssen:g.a.sum(null===l||void 0===l?void 0:l.filter((function(e){return"Janssen"===e.fornitore&&"05-11"!==(null===e||void 0===e?void 0:e.fascia_anagrafica)})).map((function(e){return null===e||void 0===e?void 0:e.prima_dose}))),prima_dose_janssen_baby:g.a.sum(null===l||void 0===l?void 0:l.filter((function(e){return"Janssen"===e.fornitore&&"05-11"===(null===e||void 0===e?void 0:e.fascia_anagrafica)})).map((function(e){return null===e||void 0===e?void 0:e.prima_dose}))),vax_somministrati:null===(a=g.a.sum(null===o||void 0===o||null===(s=o.filter((function(e){var t;return"2020-12-27"!==(null===e||void 0===e||null===(t=e.data_consegna)||void 0===t?void 0:t.substr(0,10))})))||void 0===s?void 0:s.map((function(e){return null===e||void 0===e?void 0:e.numero_dosi}))))||void 0===a?void 0:a.toLocaleString("it")};r.pregressa_infezione||(r.pregressa_infezione=0),r.dose_addizionale_booster||(r.dose_addizionale_booster=0),r.pregressa_infezione_baby||(r.pregressa_infezione_baby=0),r.dose_addizionale_booster_baby||(r.dose_addizionale_booster_baby=0);for(var d=g.a.groupBy(o,"fornitore"),m=Object.keys(d).map((function(e){var t=d[e].map((function(e){return e.numero_dosi}));return{totale:g.a.sum(t),fornitore:e,allDoses:d[e]}})).sort((function(e,t){return e.totale<t.totale?1:-1})),j=g.a.sum(m.map((function(e){return null===e||void 0===e?void 0:e.totale}))),u=g.a.groupBy(o,"area"),v=Object.keys(u).map((function(e){var t=u[e].map((function(e){return e.numero_dosi})),a=g.a.sum(t);return{area:_[e],dosi_somministrate:a}})),p=g.a.groupBy(c,"code"),h=e.dataVaxLocations.data.map(N),x=0,y=g()(e.dataVaxLocations.data.map(N)).groupBy("area").map((function(e,t){return x=x>e.length?x:e.length,{area:t,locations:e.length}})).value(),z=g()(e.dataSommVaxDetail.data.map(N)).groupBy("code").map((function(e,t){var a,s=g.a.head(p[t]);return{code:t,area:null===(a=g.a.head(e))||void 0===a?void 0:a.area,byAge:g()(e).groupBy("fascia_anagrafica").map((function(t,a){var i,o=g.a.sumBy(t,(function(e){return e.sesso_maschile+e.sesso_femminile})),n=o/(s.dosi_consegnate||1);return{age:a,fascia_anagrafica:a,dosi_somministrate:o,dosi_consegnate:s.dosi_consegnate||0,percentuale_somministrazione:+(100*n).toFixed(1),area:null===(i=g.a.head(e))||void 0===i?void 0:i.area,totale:o}})).value(),sesso_femminile:g.a.sumBy(e,"sesso_femminile"),sesso_maschile:g.a.sumBy(e,"sesso_maschile"),dosi_consegnate:s.dosi_consegnate||0,dosi_somministrate:s.dosi_somministrate||0,percentuale_somministrazione:s.percentuale_somministrazione||0}})).value(),w=g()(e.dataSommVaxDetail.data.map(N)).groupBy((function(e){return e.fascia_anagrafica.toString().trim()})).map((function(e,t){var a=g()(e).groupBy("code").map((function(e,a){var s=g.a.sumBy(e,(function(e){return e.sesso_maschile+e.sesso_femminile})),i=s/(g.a.head(p[a]).dosi_consegnate||1);return{age:t,dosi_somministrate:s,sesso_maschile:g.a.sumBy(e,"sesso_maschile"),sesso_femminile:g.a.sumBy(e,"sesso_femminile"),code:a,dosi_consegnate:g.a.head(p[a]).dosi_consegnate||0,percentuale_somministrazione:+(100*i).toFixed(1),area:g.a.head(e).area}})).value();return{age:t,details:a}})).groupBy("age").value(),S={second_booster:"Second Booster",immunocompromessi:"Booster Immunocompromessi",addizionale:"Dose addizionale/booster",seconda:"2\xaa dose/unica dose",prima:"1\xaa dose",totale:"Totale fascia"},D=Object.keys(S),k=[],C=0,L=Object.keys(S);C<L.length;C++){var P=L[C];k.push(S[P])}var T,M={},A=[],B={},Y={},I=Object(f.a)(e.dataSommVaxDetail.data);try{for(I.s();!(T=I.n()).done;){var R=T.value,V=R.fascia_anagrafica;if("80-89"!==V&&"90+"!==V||(V="over 80"),"5-11"===V&&(V="05-11"),!Y.hasOwnProperty(V)){Y[V]={};for(var E=0,F=Object.keys(S);E<F.length;E++){var G=F[E];Y[V][G]=0}}if("Janssen"===R.fornitore?Y[V].seconda+=R.prima_dose:(Y[V].prima+=R.prima_dose,Y[V].seconda+=R.seconda_dose),Y[V].seconda+=R.pregressa_infezione,Y[V].addizionale+=R.dose_addizionale_booster,R.hasOwnProperty("booster_immuno")&&(Y[V].immunocompromessi+=R.booster_immuno),R.hasOwnProperty("d2_booster")&&(Y[V].second_booster+=R.d2_booster),M.hasOwnProperty(R.area)){if(!M[R.area].hasOwnProperty(V)){M[R.area][V]={};for(var $=0,J=Object.keys(S);$<J.length;$++){var W=J[$];M[R.area][V][W]=0}}}else{M[R.area]={},M[R.area][V]={};for(var H=0,U=Object.keys(S);H<U.length;H++){var X=U[H];M[R.area][V][X]=0}}"Janssen"===R.fornitore?M[R.area][V].seconda+=R.prima_dose:(M[R.area][V].prima+=R.prima_dose,M[R.area][V].seconda+=R.seconda_dose),M[R.area][V].seconda+=R.pregressa_infezione,M[R.area][V].addizionale+=R.dose_addizionale_booster,R.hasOwnProperty("booster_immuno")&&(M[R.area][V].immunocompromessi+=R.booster_immuno),R.hasOwnProperty("d2_booster")&&(M[R.area][V].second_booster+=R.d2_booster)}}catch(Da){I.e(Da)}finally{I.f()}var Z,q={},K=Object(f.a)(Object.keys(Y).sort().reverse());try{for(K.s();!(Z=K.n()).done;){var Q=Z.value,ee={label:"Fascia "+Q};ee.second_booster=Y[Q].second_booster,ee.immunocompromessi=Y[Q].immunocompromessi-Y[Q].second_booster,ee.addizionale=Y[Q].addizionale-Y[Q].immunocompromessi,ee.seconda=Y[Q].seconda-Y[Q].addizionale,ee.prima=Y[Q].prima-Y[Q].seconda,ee["Totale platea"]=0;var te,ae=Object(f.a)(e.dataPlatea.data);try{for(ae.s();!(te=ae.n()).done;){var se=te.value;(se.fascia_anagrafica===Q||"over 80"===Q&&"80+"===se.fascia_anagrafica)&&(ee["Totale platea"]+=parseInt(se.totale_popolazione))}}catch(Da){ae.e(Da)}finally{ae.f()}ee.totale=ee["Totale platea"]-Y[Q].prima,q[ee.label]=Y[Q].prima+Y[Q].seconda+Y[Q].addizionale+Y[Q].immunocompromessi+Y[Q].second_booster,A.push(ee)}}catch(Da){K.e(Da)}finally{K.f()}var ie,oe=0,ne=0,ce=0,le=Object(f.a)(e.dataGuariti.data);try{for(le.s();!(ie=le.n()).done;){var re=ie.value;"05-11"===re.fascia_anagrafica?ce+=parseInt(re.guariti_senza_somm):(oe+=parseInt(re.guariti_senza_somm),ne+=parseInt(re.guariti_post_somm))}}catch(Da){le.e(Da)}finally{le.f()}var de,me=0,je=0,be=Object(f.a)(e.dataPlatea.data);try{for(be.s();!(de=be.n()).done;){var ue=de.value;"05-11"===ue.fascia_anagrafica?je+=parseInt(ue.totale_popolazione):me+=parseInt(ue.totale_popolazione)}}catch(Da){be.e(Da)}finally{be.f()}var ve,pe={},he=Object(f.a)(e.dataSommVaxDetail.data);try{for(he.s();!(ve=he.n()).done;){var fe=ve.value;ee={},pe.hasOwnProperty(fe.area)&&(ee=pe[fe.area]);var xe=fe.seconda_dose;"Janssen"===fe.fornitore&&(xe=fe.prima_dose),fe.hasOwnProperty("pregressa_infezione")&&(xe+=fe.pregressa_infezione),pe.hasOwnProperty(fe.area)?ee.somministrazioni+=xe:ee={code:fe.area,area:_[fe.area],somministrazioni:xe};for(var ge=0,Oe=Object.keys(Y);ge<Oe.length;ge++){var ye=Oe[ge],Ne="over 80"===ye?"fascia_over_80":"fascia_"+ye;ee.hasOwnProperty(Ne)?ee[Ne]+=ye===fe.fascia_anagrafica||"over 80"===ye&&("90+"===fe.fascia_anagrafica||"80-89"===fe.fascia_anagrafica)?xe:0:ee[Ne]=ye===fe.fascia_anagrafica||"over 80"===ye&&("90+"===fe.fascia_anagrafica||"80-89"===fe.fascia_anagrafica)?xe:0}pe[fe.area]=ee}}catch(Da){he.e(Da)}finally{he.f()}for(var _e=[],ze=0,we=Object.keys(pe);ze<we.length;ze++){var Se=we[ze];_e.push(pe[Se])}var De,ke={},Ce=Object(f.a)(e.dataPlatea.data);try{for(Ce.s();!(De=Ce.n()).done;){var Le=De.value;ke.hasOwnProperty(Le.area)||(ke[Le.area]={popolazione:0});var Pe="80+"===Le.fascia_anagrafica?"fascia_over_80":"05-11"===Le.fascia_anagrafica?"fascia_05-11":"fascia_"+Le.fascia_anagrafica,Te=parseInt(Le.totale_popolazione);ke[Le.area][Pe]={popolazione:0},ke[Le.area][Pe].popolazione=Te,ke[Le.area].popolazione+=Te}}catch(Da){Ce.e(Da)}finally{Ce.f()}for(var Me=[],Ae=0,Be=Object.keys(pe);Ae<Be.length;Ae++){for(var Ye=Be[Ae],Ie=pe[Ye],Re={},Ve=0,Ee=Object.keys(Ie);Ve<Ee.length;Ve++){var Fe=Ee[Ve];Fe.includes("fascia")?Re[Fe]=Ie[Fe]/ke[Ye][Fe].popolazione*100:Re[Fe]=Ie[Fe]}Re.somministrazioni=Re.somministrazioni/ke[Ye].popolazione*100,Me.push(Re)}for(var Ge=0,$e=Object.keys(M);Ge<$e.length;Ge++){var Je,We=$e[Ge],He=[],Ue=Object(f.a)(Object.keys(M[We]).sort().reverse());try{for(Ue.s();!(Je=Ue.n()).done;){var Xe=Je.value;(ee={label:"Fascia "+Xe}).second_booster=M[We][Xe].second_booster,ee.immunocompromessi=M[We][Xe].immunocompromessi-M[We][Xe].second_booster,ee.addizionale=M[We][Xe].addizionale-M[We][Xe].immunocompromessi,ee.seconda=M[We][Xe].seconda-M[We][Xe].addizionale,ee.prima=M[We][Xe].prima-M[We][Xe].seconda,ee["Totale platea"]=0;var Ze,qe=Object(f.a)(e.dataPlatea.data);try{for(qe.s();!(Ze=qe.n()).done;){var Ke=Ze.value;Ke.area===We&&(Ke.fascia_anagrafica===Xe||"over 80"===Xe&&"80+"===Ke.fascia_anagrafica)&&(ee["Totale platea"]+=parseInt(Ke.totale_popolazione))}}catch(Da){qe.e(Da)}finally{qe.f()}ee.totale=ee["Totale platea"]-ee.prima-ee.seconda-ee.addizionale-ee.immunocompromessi-ee.second_booster,He.push(ee)}}catch(Da){Ue.e(Da)}finally{Ue.f()}B[We]=He}for(var Qe={senza:"Guariti senza somministrazione da al massimo 6 mesi",post:"Guariti post 2\xaa dose/unica dose da al massimo 4 mesi"},et=Object.keys(Qe),tt={},at=[],st=0,it=Object.keys(Qe);st<it.length;st++){var ot=it[st];at.push(Qe[ot])}var nt,ct=[],lt={},rt={},dt=Object(f.a)(e.dataGuariti.data);try{for(dt.s();!(nt=dt.n()).done;){var mt=nt.value;if("80+"===(V=mt.fascia_anagrafica)&&(V="over 80"),!rt.hasOwnProperty(V)){rt[V]={};for(var jt=0,bt=Object.keys(Qe);jt<bt.length;jt++){var ut=bt[jt];rt[V][ut]=0}}if(rt[V].senza+=mt.guariti_senza_somm,rt[V].post+=mt.guariti_post_somm,tt.hasOwnProperty(mt.area)){if(!tt[mt.area].hasOwnProperty(V)){tt[mt.area][V]={};for(var vt=0,pt=Object.keys(Qe);vt<pt.length;vt++){var ht=pt[vt];tt[mt.area][V][ht]=0}}}else{tt[mt.area]={},tt[mt.area][V]={};for(var ft=0,xt=Object.keys(Qe);ft<xt.length;ft++){var gt=xt[ft];tt[mt.area][V][gt]=0}}tt[mt.area][V].senza+=mt.guariti_senza_somm,tt[mt.area][V].post+=mt.guariti_post_somm}}catch(Da){dt.e(Da)}finally{dt.f()}var Ot,yt={},Nt=Object(f.a)(Object.keys(rt).sort().reverse());try{for(Nt.s();!(Ot=Nt.n()).done;){var _t=Ot.value;(ee={label:"Fascia "+_t}).senza=rt[_t].senza,ee.post=rt[_t].post-rt[_t].senza,yt[ee.label]=rt[_t].post+rt[_t].senza,ct.push(ee)}}catch(Da){Nt.e(Da)}finally{Nt.f()}for(var zt=0,wt=Object.keys(tt);zt<wt.length;zt++){var St,Dt=wt[zt],kt=[],Ct=Object(f.a)(Object.keys(tt[Dt]).sort().reverse());try{for(Ct.s();!(St=Ct.n()).done;){var Lt=St.value;(ee={label:"Fascia "+Lt}).senza=tt[Dt][Lt].senza,ee.post=tt[Dt][Lt].post-tt[Dt][Lt].senza,ee.Totale=tt[Dt][Lt].post+tt[Dt][Lt].senza,kt.push(ee)}}catch(Da){Ct.e(Da)}finally{Ct.f()}lt[Dt]=kt}var Pt,Tt={},Mt=Object(f.a)(e.dataGuariti.data);try{for(Mt.s();!(Pt=Mt.n()).done;){var At=Pt.value;ee={},Tt.hasOwnProperty(At.area)&&(ee=Tt[At.area]);var Bt=At.guariti_senza_somm+At.guariti_post_somm;Tt.hasOwnProperty(At.area)?ee.guariti+=Bt:ee={code:At.area,area:_[At.area],guariti:Bt};for(var Yt=0,It=Object.keys(rt);Yt<It.length;Yt++){var Rt=It[Yt],Vt="over 80"===Rt?"fascia_over_80":"fascia_"+Rt;ee.hasOwnProperty(Vt)?ee[Vt]+=Rt===At.fascia_anagrafica||"over 80"===Rt&&"80+"===At.fascia_anagrafica?Bt:0:ee[Vt]=Rt===At.fascia_anagrafica||"over 80"===Rt&&"80+"===At.fascia_anagrafica?Bt:0}Tt[At.area]=ee}}catch(Da){Mt.e(Da)}finally{Mt.f()}for(var Et=[],Ft=0,Gt=Object.keys(Tt);Ft<Gt.length;Ft++){for(var $t=Tt[Gt[Ft]],Jt={},Wt=0,Ht=Object.keys($t);Wt<Ht.length;Wt++){var Ut=Ht[Wt];Ut.includes("fascia"),Jt[Ut]=$t[Ut]}Et.push(Jt)}var Xt,Zt=["#0f69c9","#4d99eb","#77b2f2","#b5d4f5","#d1e0f0","#edf2f7","#ffffff"],qt={},Kt=[],Qt=Object(f.a)(e.dataSommVaxDetail.data);try{for(Qt.s();!(Xt=Qt.n()).done;){var ea=Xt.value;Kt.includes(ea.fornitore)||Kt.push(ea.fornitore)}}catch(Da){Qt.e(Da)}finally{Qt.f()}var ta=Kt.indexOf("Pfizer Pediatrico");-1!==ta&&(Kt.splice(ta,1),Kt.push("Pfizer Pediatrico"));for(var aa=0,sa=Kt;aa<sa.length;aa++){var ia=sa[aa];Object.keys(qt).length-1<Zt.length?qt[ia]=Zt[Object.keys(qt).length]:qt[ia]="#ffffff"}for(var oa={},na=0,ca=[],la=new Date("2020-12-21");;){var ra,da={label:b()(la).format("DD/MM"),from:b()(la).format("YYYY-MM-DD"),labelfrom:b()(la).format("DD/MM"),to:b()(new Date(la.getTime()+5184e5)).format("YYYY-MM-DD"),labelto:b()(new Date(la.getTime()+5184e5)).format("DD/MM"),total:0},ma=Object(f.a)(Kt);try{for(ma.s();!(ra=ma.n()).done;){da[ra.value]=0}}catch(Da){ma.e(Da)}finally{ma.f()}if(oa[b()(la).format("YYYY-MM-DD")]=na,oa[b()(new Date(la.getTime()+864e5)).format("YYYY-MM-DD")]=na,oa[b()(new Date(la.getTime()+1728e5)).format("YYYY-MM-DD")]=na,oa[b()(new Date(la.getTime()+2592e5)).format("YYYY-MM-DD")]=na,oa[b()(new Date(la.getTime()+3456e5)).format("YYYY-MM-DD")]=na,oa[b()(new Date(la.getTime()+432e6)).format("YYYY-MM-DD")]=na,oa[b()(new Date(la.getTime()+5184e5)).format("YYYY-MM-DD")]=na,na++,ca.push(da),(la=new Date(la.getTime()+6048e5))>new Date)break}var ja,ba=Object(f.a)(e.dataSommVaxDetail.data);try{for(ba.s();!(ja=ba.n()).done;){var ua=ja.value,va=ca[oa[b()(new Date(ua.data_somministrazione)).format("YYYY-MM-DD")]];va.total+=ua.prima_dose+ua.seconda_dose+ua.pregressa_infezione+ua.dose_addizionale_booster,va[ua.fornitore]+=ua.prima_dose+ua.seconda_dose+ua.pregressa_infezione+ua.dose_addizionale_booster}}catch(Da){ba.e(Da)}finally{ba.f()}var pa,ha=0,fa=Object(f.a)(e.dataPlateaDoseAddizionaleBooster.data);try{for(fa.s();!(pa=fa.n()).done;){var xa=pa.value;ha+=parseInt(xa.totale_popolazione)}}catch(Da){fa.e(Da)}finally{fa.f()}var ga,Oa=0,ya=Object(f.a)(e.dataPlateaDoseImmunocompromessi.data);try{for(ya.s();!(ga=ya.n()).done;){var Na=ga.value;Oa+=parseInt(Na.totale_popolazione)}}catch(Da){ya.e(Da)}finally{ya.f()}var _a,za=0,wa=Object(f.a)(e.dataPlateaSecondBooster.data);try{for(wa.s();!(_a=wa.n()).done;){var Sa=_a.value;za+=parseInt(Sa.totale_popolazione)}}catch(Da){wa.e(Da)}finally{wa.f()}return{timestamp:e.dataLastUpdate.ultimo_aggiornamento,tot:i,deliverySummary:c,locations:h,dataSomeVaxDetail:n,locationsByRegion:y,maxNumberOfLocations:x,allDosesSupplier:m,doesesByArea:v,totalSuplier:j,totalDoses:r,totalDeliverySummaryByAge:w,totalDeliverySummary:z,suppliersColor:qt,suppliers:Kt,suppliersWeek:ca,keyValueDoses:S,keysDosesAges:D,dosesAges:k,dosesAgesColor:["#061b56","#0d2d85","#0a5dbb","#3073cf","#548bd6","#b6d5f4"],dosesAgesData:A,dosesAgesRegionData:B,ageDosesTotal:q,healed:at,keyValueHealed:Qe,keysHealed:et,healedColor:["#012675","#b6d5f4"],healedData:ct,healedRegionData:lt,healedTotal:yt,healedMapData:Et,secondDosesData:_e,secondDosesPlateaData:Me,totalPlatea:me,totalPlateaBaby:je,totalPlateaDoseAddizionaleBooster:ha,totalPlateaDoseImmunocompromessi:Oa,totalPlateaDoseSecondBooster:za,totalGuariti:oe,totalGuaritiDoppia:ne,totalGuaritiBaby:ce}},R=function(){var e=Object(h.a)(p.a.mark((function e(){var t,a,s,i,o,n,c,d,m,j,b,u,v,h,f,x,g,O,y,N,_,z,R,V,E,F,G,$;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([fetch(w),fetch(S),fetch(D),fetch(C),fetch(k),fetch(L),fetch(P),fetch(T),fetch(M),fetch(A),fetch(B),fetch(Y)]);case 2:return t=e.sent,a=Object(r.a)(t,12),s=a[0],i=a[1],o=a[2],n=a[3],c=a[4],d=a[5],m=a[6],j=a[7],b=a[8],u=a[9],v=a[10],h=a[11],e.next=18,Promise.all([s.json(),i.json(),o.json(),n.json(),c.json(),d.json(),m.json(),j.json(),b.json(),u.json(),v.json(),h.json()]);case 18:return f=e.sent,x=Object(r.a)(f,12),g=x[0],O=x[1],y=x[2],N=x[3],_=x[4],z=x[5],R=x[6],V=x[7],E=x[8],F=x[9],G=x[10],$=x[11],e.abrupt("return",Object(l.a)({},I({dataSommVaxSummary:g,dataSommVaxDetail:O,dataVaxSummary:y,dataProfileSummary:N,dataLastUpdate:z,dataVaxLocations:_,dataSupplierDoses:R,dataPlatea:V,dataPlateaDoseAddizionaleBooster:E,dataPlateaDoseImmunocompromessi:F,dataPlateaSecondBooster:G,dataGuariti:$})));case 33:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=a(6),E=a.n(V),F=a(19),G=a.n(F);!function(){function e(e,t,a){var s=/(^-?[0-9]+(\.?[0-9]*)[df]?e?[0-9]?%?$|^0x[0-9a-f]+$|[0-9]+)/gi,i=/(^[ ]*|[ ]*$)/g,o=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,n=/^0x[0-9a-f]+$/i,c=/^0/,l=/(<([^>]+)>)/gi,r=e.toString().replace(i,"")||"",d=t.toString().replace(i,"")||"";a||(r=r.replace(l,""),d=d.replace(l,""));var m=r.replace(s,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),j=d.replace(s,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),b=parseInt(r.match(n),10)||1!==m.length&&r.match(o)&&Date.parse(r),u=parseInt(d.match(n),10)||b&&d.match(o)&&Date.parse(d)||null;if(u){if(b<u)return-1;if(b>u)return 1}for(var v=0,p=Math.max(m.length,j.length);v<p;v++){var h=!(m[v]||"").match(c)&&parseFloat(m[v],10)||m[v]||0,f=!(j[v]||"").match(c)&&parseFloat(j[v],10)||j[v]||0;if(isNaN(h)!==isNaN(f))return isNaN(h)?1:-1;if(typeof h!==typeof f&&(h+="",f+=""),h<f)return-1;if(h>f)return 1}return 0}V.extend(V.fn.dataTableExt.oSort,{"natural-asc":function(t,a){return e(t,a,!0)},"natural-desc":function(t,a){return-1*e(t,a,!0)},"natural-nohtml-asc":function(t,a){return e(t,a,!1)},"natural-nohtml-desc":function(t,a){return-1*e(t,a,!1)},"natural-ci-asc":function(t,a){return e(t=t.toString().toLowerCase(),a=a.toString().toLowerCase(),!0)},"natural-ci-desc":function(t,a){return-1*e(t=t.toString().toLowerCase(),a=a.toString().toLowerCase(),!0)}})}(),V.DataTable=G.a;var $=[{title:"Regioni",data:"area"},{title:"Dosi somministrate",data:"dosi_somministrate"},{title:"Dosi consegnate",data:"dosi_consegnate"},{title:"%",data:"percentuale_somministrazione"}],J=function(e){var t=e.deliveryTableData;return Object(i.useEffect)((function(){V("#datatable").find("tfoot"),V("#datatable").find("table").append("<tfoot><th></th><th></th><th></th><th></th></tfoot>")}),[]),Object(i.useEffect)((function(){V("#datatable").find("table").DataTable({dom:"<'row'<'col-12'l>><'row'<'col-12'tr>>",paging:!1,searching:!0,destroy:!0,data:t,columns:$,language:{decimal:",",thousands:"."},columnDefs:[{targets:0,width:"160px"},{type:"natural",targets:3},{targets:[1,2,3],render:function(e,t,a){return Number(e).toLocaleString("it")}}],footerCallback:function(e,t,a,s,i){var o=V("#datatable").find("table").DataTable(),n=function(e){return"string"===typeof e?1*e.replace(/[$,]/g,""):"number"===typeof e?e:0},c=o.column(2,{search:"applied"}).data().reduce((function(e,t){return n(e)+n(t)}),0),l=o.column(1,{search:"applied"}).data().reduce((function(e,t){return n(e)+n(t)}),0),r=c?l/c*100:0;V(o.column(3).footer()).html(r.toFixed(1)),V(o.column(2).footer()).html(c.toLocaleString("it")),V(o.column(1).footer()).html(l.toLocaleString("it")),V(o.column(0).footer()).html("Totale")}})}),[t]),Object(s.jsx)("div",{id:"datatable",children:Object(s.jsx)("table",{className:"table h-100 table-borderless compact table-hover deliveries-table",cellSpacing:"0",width:"100%",style:{paddingBottom:6}})})},W=a(4),H=a(57),U=function(e){var t=e.handleMapDeliveryClick,a=e.fillMapDeliveryArea,o=e.fillBy,n=e.summary,c=e.tooltip,l=e.percentage,d=Object(i.useState)([]),m=Object(r.a)(d,2),j=m[0],b=m[1],u=Object(i.useState)(0),v=Object(r.a)(u,2),f=v[0],x=v[1];Object(i.useEffect)((function(){if(l)x(100);else{var e=g.a.maxBy(n||{},o);x(e?e[o]:0)}}),[n,o,l]);var O=W.c().center([0,41]).rotate([347,0]).parallels([35,45]).scale(2200).translate([249,239]);return Object(i.useEffect)((function(){(function(){var e=Object(h.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("data/geo/it.json");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,b(H.a(a,a.objects.regions).features);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(s.jsx)("div",{className:"map-area",children:Object(s.jsx)("svg",{className:"h-100 w-100",height:478,children:Object(s.jsxs)("g",{className:"countries",children:[j.map((function(e,i){var l,r,d=e.properties.reg_name,m=g.a.filter(n,(function(e){return e.area===d})),j={};return m&&m.length>0&&(j=m[0]),Object(s.jsx)("path",{d:W.d().projection(O)(e),className:"country",id:"".concat(null===(l=j)||void 0===l||null===(r=l.area)||void 0===r?void 0:r.trim()),fill:a({region:j,maxValue:f,field:o}),stroke:"#FFFFFF",strokeWidth:.7,onClick:function(){return t(j)},children:Object(s.jsx)("title",{children:Object(s.jsx)("span",{className:"bg-info",children:c(j)})})},"path-".concat(i))})),");"]})})})},X=function(e){var t=e.data,a=Object(i.useState)([]),o=Object(r.a)(a,2),n=o[0],c=o[1],l=Object(i.useState)([]),d=Object(r.a)(l,2),m=d[0],j=d[1],b=Object(i.useState)(null),u=Object(r.a)(b,2),v=u[0],p=u[1],h=Object(i.useState)(0),f=Object(r.a)(h,2),g=f[0],O=f[1],y=Object(i.useState)(null),N=Object(r.a)(y,2),_=N[0],z=N[1];Object(i.useEffect)((function(){Object(x.isEmpty)(t)||(c(t.totalDeliverySummary),j(t.totalDeliverySummary),O(t.tot))}),[t]);var w=function(){p(null),j(t.totalDeliverySummary),O(t.tot),z(null),c(t.totalDeliverySummary)};return Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col-12 d-flex justify-content-end"})}),Object(s.jsxs)("div",{className:"row p-2 p-3 bg-grey",children:[Object(s.jsx)("div",{className:"col-12 col-lg-6 h-100 order-md-2 order-lg-1 p-1 pb-5",children:Object(s.jsx)(J,{deliveryTableData:m,className:"mr-5 h-100"})}),Object(s.jsxs)("div",{className:"col-12 col-lg-6 order-md-1 order-lg-2 text-center",children:[Object(s.jsx)("div",{className:"p-4 position-relative d-lg-none",children:Object(s.jsx)("div",{className:"d-flex justify-content-start pr-5",children:Object(s.jsx)("h5",{className:"pl-4 pl-sm-1 justify-content-center",children:"Distribuzione somministrazioni rispetto alle consegne"})})}),Object(s.jsx)("div",{className:"p-4 d-none d-lg-block map-legend mt-5",children:Object(s.jsx)("div",{className:"d-flex justify-content-end",children:Object(s.jsxs)("h5",{className:"pl-1 pl-sm-1 text-left",children:["Distribuzione",Object(s.jsx)("br",{}),"somministrazioni ",Object(s.jsx)("br",{}),"rispetto alle consegne"]})})}),Object(s.jsx)("div",{className:"justify-content-center mt-5",children:Object(s.jsx)(U,{fillMapDeliveryArea:function(e){var t=e.region,a=e.maxValue,s=e.field,i=0;if(t.code===v)i=1;else if(v){var o=t[s]/(2*a);i=Object(x.max)([o,.1])}else i=Object(x.max)([t[s]/a,.1]);return"rgba(0,102,204,".concat(i,") ")},summary:n,handleMapDeliveryClick:function(e){if(_&&w(),v===e.code)w();else{var a=Object(x.find)(t.totalDeliverySummary,(function(t){return t.code===e.code}));j([a]),p(e.code),O(a.dosi_somministrate)}},tooltip:function(e){return e.area+" "+(e.percentuale_somministrazione&&e.percentuale_somministrazione.toLocaleString("it"))+"%"},fillBy:"percentuale_somministrazione"})}),Object(s.jsx)("div",{className:"p-4 position-relative",children:Object(s.jsxs)("div",{className:"text-black",children:[Object(s.jsx)("div",{className:"d-flex justify-content-center ",children:Object(s.jsx)("span",{className:"numbers",children:null===g||void 0===g?void 0:g.toLocaleString("it")})}),Object(s.jsx)("div",{className:"d-flex justify-content-center",children:Object(s.jsx)("h5",{children:"Totale somministrazioni"})})]})})]})]})]})},Z=function(e){var t=e.handleRectClick,a=e.height,o=e.width,n=e.data,c=e.keys,l=e.labels,r=e.colors,d=e.selectedCodeAge,m=e.regionSelected,j=Object(i.useRef)(),b=Object(i.useRef)();Object(i.useEffect)((function(){W.h(b.current).selectAll("svg").remove(),v()}),[n,c,l,d]);var u=function(e){var t=W.h(e.node().parentNode),a=parseInt(e.style("width"),10),s=parseInt(e.style("height"),10),i=a/s;function o(){var a=parseInt(t.style("width"));e.attr("width",a),e.attr("height",Math.round(a/i))}e.attr("viewBox","0 0 ".concat(a," ").concat(s)).attr("preserveAspectRatio","xMinYMid").call(o),W.h(window).on("resize."+t.attr("id"),o)};var v=function(){var e=W.i().keys(c)(n),s=W.h(b.current).append("svg").style("margin-bottom",10).attr("width",o).attr("height",a),i=30,j=60,v=W.g().domain([0,W.e(n,(function(e){return e["Totale platea"]}))]),p=W.f().padding(.2);v.range([0,o]),p.range([0,a]).domain(n.map((function(e){return e.label}))),s.attr("width",o+2*j).attr("height",a+2*i).call(u).attr("id","svg-stack-bar");var h=s.append("g").attr("transform","translate(".concat(j,",").concat(i,")"));h.append("g").attr("class","axis").attr("transform","translate(0, 0)").style("font-size","12px").call(W.b(p)).attr("stroke-width",0).selectAll("text").attr("y",0).attr("x",-30).style("text-anchor","start").style("fill","#19191a");var f=W.h("body").append("div").attr("class","d3-tooltip").style("position","absolute").style("z-index","10").style("display","none").style("padding","10px").style("background","rgba(0,0,0,0.8)").style("border-radius","4px").style("color","#fff"),x=h.selectAll().data(e);x.enter().append("g").attr("fill",(function(e){return r[e.index]})).attr("dose",(function(e){return e.key})).selectAll("rect").data((function(e){return e})).enter().append("rect").on("click",(function(e,a){t(a),f.html("").style("display","none")})).attr("opacity",(function(e){var t=e.data.label.toLowerCase().replaceAll(" ","_");return d===t?1:d?.3:1})).attr("x",(function(e){return v(e[0])+60})).attr("y",(function(e){return p(e.data.label)})).attr("width",(function(e){return v(e[1])-v(e[0])})).attr("height",p.bandwidth()).on("mouseover",(function(e,t){W.h(this).transition().attr("fill","#0BD9D3")})).on("mousemove",(function(e,t){var a=m?" "+m:"";if("totale"===W.h(this.parentNode).attr("dose"))f.style("top",e.pageY-10+"px").style("left",e.pageX+10+"px"),f.html('<div style="text-align: center; line-height: 1.15rem;">\n                <div style="font-size: 12px;">'.concat(a,"</div>\n                <div><b>").concat(t.data.label,'</b></div>\n                <div style="font-size: 14px;">Platea</div>\n                <div>').concat(t.data["Totale platea"].toLocaleString("it"),"</div>\n                </div>")).style("display",null);else{var s=0;if("prima"===W.h(this.parentNode).attr("dose"))s=(t.data.prima+t.data.seconda+t.data.addizionale+t.data.immunocompromessi)/t.data["Totale platea"]*100;else if("seconda"===W.h(this.parentNode).attr("dose"))s=(t.data.seconda+t.data.addizionale+t.data.immunocompromessi)/t.data["Totale platea"]*100;else if("addizionale"===W.h(this.parentNode).attr("dose"))s=(t.data.addizionale+t.data.immunocompromessi)/t.data["Totale platea"]*100;else s=t.data.immunocompromessi/t.data["Totale platea"]*100;f.style("top",e.pageY-10+"px").style("left",e.pageX+10+"px"),f.html('<div style="text-align: center; line-height: 1.15rem;">\n                <div style="font-size: 12px;">'.concat(a," ").concat(t.data.label,'</div>\n                <div style="text-align: center"><b>').concat(l[W.h(this.parentNode).attr("dose")],' </b></div>\n                <div style="font-size: 14px;"><b>(').concat(s.toFixed(2).toLocaleString("it"),' %)</b></div>\n                <div style="font-size: 14px;">Somministrate ').concat(t[1].toLocaleString("it")," su ").concat(t.data["Totale platea"].toLocaleString("it"),"</div>")).style("display",null)}})).on("mouseout",(function(e){f.html("").style("display","none"),W.h(this).transition().attr("fill",r[e.key])})),x.exit().remove()};return Object(s.jsx)("div",{ref:b,className:"chart svg-container",children:Object(s.jsx)("svg",{ref:j,className:"svg-content-responsive"})})},q=function(e){var t=e.data,a=Object(i.useState)([]),o=Object(r.a)(a,2),n=o[0],c=o[1],l=Object(i.useState)([]),d=Object(r.a)(l,2),m=d[0],j=d[1],b=Object(i.useState)([]),u=Object(r.a)(b,2),v=u[0],p=u[1],h=Object(i.useState)({}),g=Object(r.a)(h,2),O=g[0],y=g[1],N=Object(i.useState)([]),_=Object(r.a)(N,2),z=_[0],w=_[1],S=Object(i.useState)([]),D=Object(r.a)(S,2),k=D[0],C=D[1],L=Object(i.useState)([]),P=Object(r.a)(L,2),T=P[0],M=P[1],A=Object(i.useState)("somministrazioni"),B=Object(r.a)(A,2),Y=B[0],I=B[1],R=Object(i.useState)(null),V=Object(r.a)(R,2),E=V[0],F=V[1],G=Object(i.useState)(null),$=Object(r.a)(G,2),J=$[0],W=$[1],H=Object(i.useState)(null),X=Object(r.a)(H,2),q=X[0],K=X[1],Q=Object(i.useState)(0),ee=Object(r.a)(Q,2),te=ee[0],ae=ee[1];Object(i.useEffect)((function(){Object(x.isEmpty)(t)||(c(t.dosesAgesColor),j(t.dosesAges),p(t.keysDosesAges),y(t.keyValueDoses),w(t.dosesAgesData),ae(t.tot),C(t.secondDosesPlateaData),M(t.secondDosesData))}),[t]);var se=function(){K(null),F(null),W(null),ae(t.tot),w(t.dosesAgesData),I("somministrazioni"),C(t.secondDosesPlateaData)};return Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-12 d-flex justify-content-center align-items-center section-title mx-2",children:Object(s.jsx)("div",{children:Object(s.jsx)("h3",{children:"Somministrazioni per fascia d'et\xe0 - dose"})})}),Object(s.jsxs)("div",{className:"col-12 col-md-12 m-3",children:[Object(s.jsxs)("div",{className:"d-lg-none bg-box box-mobile m-3",children:[Object(s.jsx)("img",{src:"Coccarda.svg",width:"100",height:"100",alt:"Logo",className:"d-flex text-center box-logo-left"}),Object(s.jsxs)("div",{className:"text-white",children:[Object(s.jsx)("div",{className:"d-flex justify-content-center pt-5",children:Object(s.jsx)("h5",{children:"Totale somministrazioni"})}),Object(s.jsx)("div",{className:"d-flex justify-content-center",children:Object(s.jsx)("p",{className:"box-numbers",children:te&&te.toLocaleString("it")})}),Object(s.jsx)("div",{className:"col-12 d-flex justify-content-end pb-2",children:Object(s.jsx)("img",{alt:"reset-plot2",src:"reset_white.png",onClick:se,height:"36px"})})]})]}),Object(s.jsx)("div",{className:"col-4 col-md-4 d-none d-lg-block",children:Object(s.jsxs)("div",{className:"bg-box box-card box-left",children:[Object(s.jsx)("img",{src:"Coccarda.svg",width:"100",height:"100",alt:"Logo",className:"d-none d-md-block d-lg-block box-logo-left"}),Object(s.jsxs)("div",{className:"text-white",children:[Object(s.jsx)("div",{className:"d-flex justify-content-start pt-3 pl-5",children:Object(s.jsx)("h5",{children:"Totale somministrazioni"})}),Object(s.jsx)("div",{className:"d-flex justify-content-start pl-5",children:Object(s.jsx)("p",{className:"box-numbers",children:te&&te.toLocaleString("it")})}),Object(s.jsx)("div",{className:"col-12 d-flex justify-content-end pb-2",children:Object(s.jsx)("img",{alt:"Reset",src:"reset_white.png",onClick:se,height:"36px"})})]})]})})]}),Object(s.jsxs)("div",{className:"col-12 col-md-6",children:[Object(s.jsx)(Z,{width:350,height:300,property:{xprop:"label",yprop:"total"},handleRectClick:function(e){E&&se();var a=e.data.label.toLowerCase().replaceAll(" ","_");q===a?se():(K(a),I(a),ae(t.ageDosesTotal[e.data.label]))},regionSelected:J,selectedCodeAge:q,colors:n,keys:v,labels:O,data:z}),Object(s.jsx)("div",{className:"row mb-4 ml-4",children:m.map((function(e,t){return Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"circle",style:{backgroundColor:n[t]}}),Object(s.jsx)("div",{className:"legend-dark mr-4",children:e})]},e)}))}),Object(s.jsx)("p",{className:"d-block d-sm-none text-center",children:"*Tieni premuto sulle barre del grafico per visualizzare i dati sulle dosi somministrate"}),Object(s.jsx)("p",{className:"d-none d-sm-block text-center",children:"*Passa con il mouse sulle barre del grafico per visualizzare i dati sulle dosi somministrate"})]}),Object(s.jsxs)("div",{className:"col-12 col-md-6",children:[Object(s.jsx)("div",{className:"p-4 d-lg-none",children:Object(s.jsx)("div",{className:"text-center",children:Object(s.jsx)("h5",{children:"Percentuale vaccinati per regione"})})}),Object(s.jsx)(U,{fillMapDeliveryArea:function(e){var t=e.region,a=e.maxValue,s=e.field,i=0;if(t.code===E)i=1;else if(E){var o=t[s]/(2*a);i=Object(x.max)([o,.1])}else i=Object(x.max)([t[s]/a,.1]);return"rgba(0,102,204,".concat(i,") ")},summary:k,handleMapDeliveryClick:function(e){if(q&&se(),E===e.code)se();else{F(e.code),W(e.area),w(t.dosesAgesRegionData[e.code]);var a,s=Object(f.a)(null===t||void 0===t?void 0:t.totalDeliverySummary);try{for(s.s();!(a=s.n()).done;){var i=a.value;i.code===e.code&&ae(i.dosi_somministrate)}}catch(o){s.e(o)}finally{s.f()}}},fillBy:Y,percentage:!0,tooltip:function(e){var t,a=null,s=Object(f.a)(T);try{for(s.s();!(t=s.n()).done;){var i=t.value;i.code===e.code&&(a=i)}}catch(o){s.e(o)}finally{s.f()}return e.area+" "+(e[Y]&&e[Y].toFixed(2).toLocaleString("it")+"%")+" "+(a&&a[Y]&&"("+a[Y].toLocaleString("it")+")")},className:"ml-5"}),Object(s.jsx)("div",{className:"p-4 d-none d-lg-block map-legend",children:Object(s.jsx)("div",{className:"d-flex justify-content-start pr-5",children:Object(s.jsxs)("h5",{className:"pl-3 pl-sm-1",children:["Percentuale vaccinati",Object(s.jsx)("br",{})," per regione"]})})})]})]})},K=function(e){var t=e.handleRectClick,a=e.height,o=e.width,n=e.data,c=e.keys,l=e.labels,r=e.colors,d=e.selectedCodeAge,m=e.regionSelected,j=Object(i.useRef)(),b=Object(i.useRef)();Object(i.useEffect)((function(){W.h(b.current).selectAll("svg").remove(),v()}),[n,c,l,d]);var u=function(e){var t=W.h(e.node().parentNode),a=parseInt(e.style("width"),10),s=parseInt(e.style("height"),10),i=a/s;function o(){var a=parseInt(t.style("width"));e.attr("width",a),e.attr("height",Math.round(a/i))}e.attr("viewBox","0 0 ".concat(a," ").concat(s)).attr("preserveAspectRatio","xMinYMid").call(o),W.h(window).on("resize."+t.attr("id"),o)};var v=function(){var e=W.i().keys(c)(n),s=W.h(b.current).append("svg").style("margin-bottom",10).attr("width",o).attr("height",a),i=30,j=60,v=W.g().domain([0,W.e(n,(function(e){return e.post+e.senza}))]),p=W.f().padding(.2);v.range([0,o]),p.range([0,a]).domain(n.map((function(e){return e.label}))),s.attr("width",o+2*j).attr("height",a+2*i).call(u).attr("id","svg-stack-bar");var h=s.append("g").attr("transform","translate(".concat(j,",").concat(i,")"));h.append("g").attr("class","axis").attr("transform","translate(0, 0)").style("font-size","12px").call(W.b(p)).attr("stroke-width",0).selectAll("text").attr("y",0).attr("x",-30).style("text-anchor","start").style("fill","#19191a");var f=W.h("body").append("div").attr("class","d3-tooltip").style("position","absolute").style("z-index","10").style("display","none").style("padding","10px").style("background","rgba(0,0,0,0.8)").style("border-radius","4px").style("color","#fff"),x=h.selectAll().data(e);x.enter().append("g").attr("fill",(function(e){return r[e.index]})).attr("dose",(function(e){return e.key})).selectAll("rect").data((function(e){return e})).enter().append("rect").on("click",(function(e,a){t(a),f.html("").style("display","none")})).attr("opacity",(function(e){var t=e.data.label.toLowerCase().replaceAll(" ","_");return d===t?1:d?.3:1})).attr("x",(function(e){return v(e[0])+60})).attr("y",(function(e){return p(e.data.label)})).attr("width",(function(e){return v(e[1])-v(e[0])})).attr("height",p.bandwidth()).on("mouseover",(function(e,t){W.h(this).transition().attr("fill","#0BD9D3")})).on("mousemove",(function(e,t){var a=m?" "+m:"";f.style("top",e.pageY-10+"px").style("left",e.pageX+10+"px"),f.html('<div style="text-align: center; line-height: 1.15rem;">\n              <div style="font-size: 12px;">'.concat(a," ").concat(t.data.label,'</div>\n              <div style="text-align: center"><b>').concat(l[W.h(this.parentNode).attr("dose")],' </b></div>\n              <div style="font-size: 14px;">').concat(t[1].toLocaleString("it"),"</div>")).style("display",null)})).on("mouseout",(function(e){f.html("").style("display","none"),W.h(this).transition().attr("fill",r[e.key])})),x.exit().remove()};return Object(s.jsx)("div",{ref:b,className:"chart svg-container",children:Object(s.jsx)("svg",{ref:j,className:"svg-content-responsive"})})},Q=function(e){var t=e.data,a=Object(i.useState)([]),o=Object(r.a)(a,2),n=o[0],c=o[1],l=Object(i.useState)([]),d=Object(r.a)(l,2),m=d[0],j=d[1],b=Object(i.useState)([]),u=Object(r.a)(b,2),v=u[0],p=u[1],h=Object(i.useState)([]),g=Object(r.a)(h,2),O=g[0],y=g[1],N=Object(i.useState)({}),_=Object(r.a)(N,2),z=_[0],w=_[1],S=Object(i.useState)([]),D=Object(r.a)(S,2),k=D[0],C=D[1],L=Object(i.useState)("guariti"),P=Object(r.a)(L,2),T=P[0],M=P[1],A=Object(i.useState)(null),B=Object(r.a)(A,2),Y=B[0],I=B[1],R=Object(i.useState)(null),V=Object(r.a)(R,2),E=V[0],F=V[1],G=Object(i.useState)(null),$=Object(r.a)(G,2),J=$[0],W=$[1],H=Object(i.useState)(0),X=Object(r.a)(H,2),Z=X[0],q=X[1];Object(i.useEffect)((function(){Object(x.isEmpty)(t)||(c(t.healedColor),j(t.healed),y(t.healedData),p(t.keysHealed),q(t.totalGuariti+t.totalGuaritiBaby+t.totalGuaritiDoppia),C(t.healedMapData),w(t.keyValueHealed))}),[t]);var Q=function(){W(null),I(null),F(null),q(t.totalGuariti+t.totalGuaritiBaby+t.totalGuaritiDoppia),y(t.healedData),M("guariti"),C(t.healedMapData)};return Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-12 d-flex justify-content-center align-items-center section-title mx-2",children:Object(s.jsx)("div",{className:"text-center",children:Object(s.jsx)("h3",{class:"mb-0",children:"Platea guariti"})})}),Object(s.jsxs)("div",{className:"col-12 col-md-12 m-3",children:[Object(s.jsxs)("div",{className:"d-lg-none bg-box box-mobile m-3",children:[Object(s.jsx)("img",{src:"Coccarda.svg",width:"100",height:"100",alt:"Logo",className:"d-flex text-center box-logo-left"}),Object(s.jsxs)("div",{className:"text-white",children:[Object(s.jsx)("div",{className:"d-flex justify-content-center pt-5",children:Object(s.jsx)("h5",{children:"Totale guariti"})}),Object(s.jsx)("div",{className:"d-flex justify-content-center",children:Object(s.jsx)("p",{className:"box-numbers",children:Z&&Z.toLocaleString("it")})}),Object(s.jsx)("div",{className:"col-12 d-flex justify-content-end pb-2",children:Object(s.jsx)("img",{alt:"reset-plot2",src:"reset_white.png",onClick:Q,height:"36px"})})]})]}),Object(s.jsx)("div",{className:"col-4 col-md-4 d-none d-lg-block",children:Object(s.jsxs)("div",{className:"bg-box box-card box-left",children:[Object(s.jsx)("img",{src:"Coccarda.svg",width:"100",height:"100",alt:"Logo",className:"d-none d-md-block d-lg-block box-logo-left"}),Object(s.jsxs)("div",{className:"text-white",children:[Object(s.jsx)("div",{className:"d-flex justify-content-start pt-3 pl-5",children:Object(s.jsx)("h5",{children:"Totale guariti"})}),Object(s.jsx)("div",{className:"d-flex justify-content-start pl-5",children:Object(s.jsx)("p",{className:"box-numbers",children:Z&&Z.toLocaleString("it")})}),Object(s.jsx)("div",{className:"col-12 d-flex justify-content-end pb-2",children:Object(s.jsx)("img",{alt:"Reset",src:"reset_white.png",onClick:Q,height:"36px"})})]})]})})]}),Object(s.jsxs)("div",{className:"col-12 col-md-6",children:[Object(s.jsx)(K,{width:350,height:300,property:{xprop:"label",yprop:"total"},handleRectClick:function(e){Y&&Q();var a=e.data.label.toLowerCase().replaceAll(" ","_");J===a?Q():(W(a),M(a),q(t.healedTotal[e.data.label]))},regionSelected:E,selectedCodeAge:J,colors:n,keys:v,labels:z,data:O}),Object(s.jsx)("div",{className:"row mb-4 ml-4",children:m.map((function(e,t){return Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"circle",style:{backgroundColor:n[t]}}),Object(s.jsx)("div",{className:"legend-dark mr-4",children:e})]},e)}))})]}),Object(s.jsxs)("div",{className:"col-12 col-md-6 my-0 py-0",children:[Object(s.jsx)(U,{fillMapDeliveryArea:function(e){var t=e.region,a=e.maxValue,s=e.field,i=0;if(t.code===Y)i=1;else if(Y){var o=t[s]/(2*a);i=Object(x.max)([o,.1])}else i=Object(x.max)([t[s]/a,.1]);return"rgba(0,102,204,".concat(i,") ")},summary:k,handleMapDeliveryClick:function(e){if(J&&Q(),Y===e.code)Q();else{I(e.code),F(e.area),y(t.healedRegionData[e.code]);var a,s=0,i=Object(f.a)(t.healedRegionData[e.code]);try{for(i.s();!(a=i.n()).done;){s+=a.value.Totale}}catch(o){i.e(o)}finally{i.f()}q(s)}},fillBy:T,percentage:!1,tooltip:function(e){var t,a=null,s=Object(f.a)(k);try{for(s.s();!(t=s.n()).done;){var i=t.value;i.code===e.code&&(a=i)}}catch(o){s.e(o)}finally{s.f()}return e.area+" "+(a&&a[T]&&"("+a[T].toLocaleString("it")+")")},className:"ml-5"}),Object(s.jsx)("p",{className:"text-center",children:"*Seleziona la Regione/Provincia Autonoma per visualizzare il dettaglio."})]})]})},ee=function(e){var t=e.height,a=e.width,o=e.data,n=e.keys,c=e.colors,l=e.selectedFrom,r=e.selectedTo,d=(e.property,e.title),m=e.ytitle,j=Object(i.useRef)(),b=Object(i.useRef)();Object(i.useEffect)((function(){W.h(b.current).selectAll("svg").remove(),v()}),[o,n,l,r]);var u=function(e){var t=W.h(e.node().parentNode),a=parseInt(e.style("width"),10),s=parseInt(e.style("height"),10),i=a/s;function o(){var a=parseInt(t.style("width"));e.attr("width",a),e.attr("height",Math.round(a/i))}e.attr("viewBox","0 0 ".concat(a," ").concat(s+10)).attr("preserveAspectRatio","xMinYMid").call(o),W.h(window).on("resize."+t.attr("id"),o)};var v=function(){var e=W.i().keys(n)(o.slice(l,r)),s=W.h(b.current).append("svg").style("margin-bottom",15).attr("width",a).attr("height",t),i=50,j=50,v=W.f().padding(.2),p=W.g().domain([0,W.e(o.slice(l,r),(function(e){return e.total}))]);p.range([t,0]),v.range([0,a]).domain(o.slice(l,r).map((function(e){return e.label}))),s.attr("width",a+2*j).attr("height",t+2*i).call(u).attr("id","svg-stack-bar"),s.append("text").attr("x",a/2+j).attr("y",i/2).attr("class","title").attr("text-anchor","middle").attr("transform","rotate(90)").attr(d),s.append("text").attr("x",-t/2-i).attr("y",j/2.4).attr("transform","rotate(-90)").attr("class","title").text(m);var h=s.append("g").attr("transform","translate(".concat(j,",").concat(i,")"));h.append("g").attr("class","axis").attr("transform","translate(0,".concat(t,")")).style("font-size",16).call(W.a(v)).selectAll("text").attr("y",-5).attr("x",11).attr("transform","rotate(90)").style("text-anchor","start");var f=W.h("body").append("div").attr("class","d3-tooltip").style("position","absolute").style("z-index","10").style("display","none").style("padding","10px").style("background","rgba(0,0,0,0.8)").style("border-radius","4px").style("color","#fff"),x=h.selectAll().data(e);x.enter().append("g").attr("fill",(function(e){return c[e.key]})).attr("supply",(function(e){return e.key})).selectAll("rect").data((function(e){return e})).enter().append("rect").attr("x",(function(e){return v(e.data.label)})).attr("y",(function(e){return p(e[1])})).attr("height",(function(e){return p(e[0])-p(e[1])})).attr("width",v.bandwidth()).on("mouseover",(function(e,t){W.h(this).transition().attr("fill","#0BD9D3")})).on("mousemove",(function(e,t){f.style("top",e.pageY-10+"px").style("left",e.pageX+10+"px"),f.html('<div style="text-align: center"><b>'.concat(W.h(this.parentNode).attr("supply"),"</b></div>\n            <div>").concat((t[1]-t[0]).toLocaleString("it")," su ").concat(t.data.total.toLocaleString("it"),'</div>\n            <div style="text-align: center; font-size: 12px">dal ').concat(t.data.labelfrom," al ").concat(t.data.labelto,"</div>")).style("display",null)})).on("mouseout",(function(e){f.html("").style("display","none"),W.h(this).transition().attr("fill",c[e.key])})),x.exit().remove()};return Object(s.jsx)("div",{ref:b,className:"chart svg-container",children:Object(s.jsx)("svg",{ref:j,className:"svg-content-responsive"})})},te=a(27),ae=function(e){var t=e.from,a=e.to,o=e.min,n=e.max,c=e.changeFrom,d=e.changeTo,m=Object(i.useState)([0,1]),j=Object(r.a)(m,2),b=j[0],u=j[1];return Object(i.useEffect)((function(){u([t,a])}),[t,a,o,n]),Object(s.jsx)("div",{className:"col-12",style:{display:"flex",justifyContent:"center",flexWrap:"wrap",backgroundColor:"rgb(15, 53, 89)"},children:Object(s.jsx)(te.Range,{draggableTrack:!0,values:b,step:1,min:o,max:n,rtl:!1,onChange:function(e){e[0]!==e[1]&&(u(e),c(e[0]),d(e[1]))},renderTrack:function(e){var t=e.props,a=e.children;return Object(s.jsx)("div",{onMouseDown:t.onMouseDown,onTouchStart:t.onTouchStart,style:Object(l.a)(Object(l.a)({},t.style),{},{height:"36px",display:"flex",width:"100%",marginRight:10,marginLeft:10}),children:Object(s.jsx)("div",{ref:t.ref,style:{height:"5px",width:"100%",borderRadius:"4px",background:Object(te.getTrackBackground)({values:b,colors:["#ccc","black","#ccc"],min:o,max:n,rtl:!1}),alignSelf:"center"},children:a})})},renderThumb:function(e){var t=e.props;e.isDragged;return Object(s.jsx)("div",Object(l.a)(Object(l.a)({},t),{},{style:Object(l.a)(Object(l.a)({},t.style),{},{height:"20px",width:"20px",borderRadius:"50%",backgroundColor:"#ccc",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0px 2px 6px #AAA"})}))}})})},se=function(e){var t=e.data,a=Object(i.useState)([]),o=Object(r.a)(a,2),n=o[0],c=o[1],l=Object(i.useState)([]),d=Object(r.a)(l,2),m=d[0],j=d[1],b=Object(i.useState)([]),u=Object(r.a)(b,2),v=u[0],p=u[1],h=Object(i.useState)(0),f=Object(r.a)(h,2),g=f[0],O=f[1],y=Object(i.useState)(0),N=Object(r.a)(y,2),_=N[0],z=N[1];return Object(i.useEffect)((function(){Object(x.isEmpty)(t)||(c(t.suppliersColor),j(t.suppliers),p(t.suppliersWeek),z(t.suppliersWeek.length),t.suppliersWeek.length>=9&&O(t.suppliersWeek.length-9))}),[t]),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsxs)("div",{className:"col-12 d-flex justify-content-center align-items-center section-title mx-2",children:[Object(s.jsx)("img",{src:"Coccarda.svg",width:"100",height:"100",alt:"Logo",className:"img-fluid d-none d-lg-block align-items-center"}),Object(s.jsx)("h3",{children:"Andamento settimanale delle somministrazioni"})]}),Object(s.jsxs)("div",{className:"row col-12 m-2 p-2 ",children:[Object(s.jsx)("div",{className:"col-12 col-md-6 align-items-end testo-info-campania d-none d-sm-none d-md-flex d-lg-flex"}),Object(s.jsxs)("div",{className:"col-12 col-md-6  position-relative",children:[Object(s.jsx)("img",{src:"Coccarda.svg",width:"100",height:"100",alt:"Logo",className:"d-lg-none sd-sm-block box-logo-right"}),Object(s.jsx)("div",{className:"bg-gradient-bar"})]}),Object(s.jsx)("div",{className:"col-12 col-md-4",style:{backgroundColor:"#17324D"},children:Object(s.jsxs)("div",{className:"p-2 position-relative",children:[Object(s.jsx)("div",{className:"p-4",children:Object(s.jsx)("img",{src:"group_person.svg",alt:"Logo",className:"img-fluid"})}),Object(s.jsx)("div",{className:"mt-4 ml-3",children:m.map((function(e,t){return Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"circle",style:{backgroundColor:n[e]}}),Object(s.jsx)("span",{className:"legend",children:e})]},e)}))})]})}),Object(s.jsxs)("div",{className:"col-12 col-md-8 text-white",style:{backgroundColor:"#17324D"},children:[Object(s.jsx)("div",{className:"text-white text-center mt-3 ",children:"*Passa con il mouse sulle barre del grafico per visualizzare i dati della settimana"}),Object(s.jsx)(ee,{title:"",xtitle:"Somministrazione settimanale",ytitle:"",width:780,height:350,marginBottom:10,property:{xprop:"label",yprop:"total"},colors:n,keys:m,data:v,selectedFrom:g,selectedTo:_})]}),v.length>0&&Object(s.jsx)(ae,{min:0,max:v.length,from:g,to:_,changeFrom:function(e){return O(e)},changeTo:function(e){return z(e)}})]}),Object(s.jsx)("div",{children:"*Fai scorrere i selettori per aumentare o diminuire le settimane da visualizzare"})]})},ie=function(e){var t=e.data,a=Object(i.useState)(""),o=Object(r.a)(a,2),n=o[0],c=o[1],l=Object(i.useState)(""),d=Object(r.a)(l,2),m=d[0],j=d[1],b=Object(i.useState)(""),u=Object(r.a)(b,2),v=u[0],p=u[1],h=Object(i.useState)(""),f=Object(r.a)(h,2),x=f[0],g=f[1],O=Object(i.useState)(""),y=Object(r.a)(O,2),N=y[0],_=y[1],z=Object(i.useState)(""),w=Object(r.a)(z,2),S=w[0],D=w[1],k=Object(i.useState)(""),C=Object(r.a)(k,2),L=C[0],P=C[1],T=Object(i.useState)(""),M=Object(r.a)(T,2),A=M[0],B=M[1],Y=Object(i.useState)(""),I=Object(r.a)(Y,2),R=I[0],V=I[1],E=Object(i.useState)(""),F=Object(r.a)(E,2),G=F[0],$=F[1],J=Object(i.useState)(""),W=Object(r.a)(J,2),H=W[0],U=W[1],X=Object(i.useState)(""),Z=Object(r.a)(X,2),q=Z[0],K=Z[1],Q=Object(i.useState)(""),ee=Object(r.a)(Q,2),te=ee[0],ae=ee[1],se=Object(i.useState)(""),ie=Object(r.a)(se,2),oe=ie[0],ne=ie[1],ce=Object(i.useState)(""),le=Object(r.a)(ce,2),re=le[0],de=le[1],me=Object(i.useState)(""),je=Object(r.a)(me,2),be=je[0],ue=je[1],ve=Object(i.useState)(""),pe=Object(r.a)(ve,2),he=pe[0],fe=pe[1],xe=Object(i.useState)(""),ge=Object(r.a)(xe,2),Oe=ge[0],ye=ge[1],Ne=Object(i.useState)(""),_e=Object(r.a)(Ne,2),ze=_e[0],we=_e[1],Se=Object(i.useState)(""),De=Object(r.a)(Se,2),ke=De[0],Ce=De[1],Le=Object(i.useState)(""),Pe=Object(r.a)(Le,2),Te=Pe[0],Me=Pe[1],Ae=Object(i.useState)(""),Be=Object(r.a)(Ae,2),Ye=Be[0],Ie=Be[1],Re=Object(i.useState)(""),Ve=Object(r.a)(Re,2),Ee=Ve[0],Fe=Ve[1],Ge=Object(i.useState)(""),$e=Object(r.a)(Ge,2),Je=$e[0],We=$e[1],He=Object(i.useState)(""),Ue=Object(r.a)(He,2),Xe=Ue[0],Ze=Ue[1],qe=Object(i.useState)(""),Ke=Object(r.a)(qe,2),Qe=Ke[0],et=Ke[1];function tt(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?null===e||void 0===e?void 0:e.toLocaleString("it",{minimumFractionDigits:2,maximumFractionDigits:2}):null===e||void 0===e?void 0:e.toLocaleString("it")}return Object(i.useEffect)((function(){var e,a,s,i,o,n,l,r,d,m,b,u,v,h,f,x,O,y,N=(null===t||void 0===t||null===(e=t.totalDoses)||void 0===e?void 0:e.prima_dose)+(null===t||void 0===t||null===(a=t.totalDoses)||void 0===a?void 0:a.pregressa_infezione);isNaN(N)||(c(tt(N)),j(tt(N/(null===t||void 0===t?void 0:t.totalPlatea)*100,!0)),de(tt(N+(null===t||void 0===t?void 0:t.totalGuariti))),ue(tt((N+(null===t||void 0===t?void 0:t.totalGuariti))/(null===t||void 0===t?void 0:t.totalPlatea)*100,!0)));var z=(null===t||void 0===t||null===(s=t.totalDoses)||void 0===s?void 0:s.seconda_dose)+(null===t||void 0===t||null===(i=t.totalDoses)||void 0===i?void 0:i.prima_dose_janssen)+(null===t||void 0===t||null===(o=t.totalDoses)||void 0===o?void 0:o.pregressa_infezione);isNaN(z)||(p(tt(z)),g(tt(z/(null===t||void 0===t?void 0:t.totalPlatea)*100,!0))),_(null===t||void 0===t||null===(n=t.totalDoses)||void 0===n?void 0:n.dose_addizionale_booster),D(tt((null===t||void 0===t||null===(l=t.totalDoses)||void 0===l?void 0:l.dose_addizionale_booster)/(null===t||void 0===t?void 0:t.totalPlateaDoseAddizionaleBooster)*100,!0)),P(tt(null===t||void 0===t||null===(r=t.totalDoses)||void 0===r?void 0:r.dose_immunocompromessi)),B(tt((null===t||void 0===t||null===(d=t.totalDoses)||void 0===d?void 0:d.dose_immunocompromessi)/(null===t||void 0===t?void 0:t.totalPlateaDoseImmunocompromessi)*100,!0)),V(tt(null===t||void 0===t||null===(m=t.totalDoses)||void 0===m?void 0:m.dose_second_booster)),$(tt((null===t||void 0===t||null===(b=t.totalDoses)||void 0===b?void 0:b.dose_second_booster)/(null===t||void 0===t?void 0:t.totalPlateaDoseSecondBooster)*100,!0)),U(tt(null===t||void 0===t?void 0:t.totalGuariti)),K(tt((null===t||void 0===t?void 0:t.totalGuariti)/(null===t||void 0===t?void 0:t.totalPlatea)*100,!0)),ae(null===t||void 0===t?void 0:t.totalGuaritiDoppia),ne(tt((null===t||void 0===t?void 0:t.totalGuaritiDoppia)/(null===t||void 0===t?void 0:t.totalPlateaDoseAddizionaleBooster)*100,!0)),fe(tt((null===t||void 0===t?void 0:t.totalGuaritiDoppia)+(null===t||void 0===t||null===(u=t.totalDoses)||void 0===u?void 0:u.dose_addizionale_booster))),ye(tt(((null===t||void 0===t?void 0:t.totalGuaritiDoppia)+(null===t||void 0===t||null===(v=t.totalDoses)||void 0===v?void 0:v.dose_addizionale_booster))/(null===t||void 0===t?void 0:t.totalPlateaDoseAddizionaleBooster)*100,!0));var w=(null===t||void 0===t||null===(h=t.totalDoses)||void 0===h?void 0:h.prima_dose_baby)+(null===t||void 0===t||null===(f=t.totalDoses)||void 0===f?void 0:f.pregressa_infezione_baby);isNaN(w)||(we(tt(w)),Ce(tt(w/(null===t||void 0===t?void 0:t.totalPlateaBaby)*100,!0)));var S=(null===t||void 0===t||null===(x=t.totalDoses)||void 0===x?void 0:x.seconda_dose_baby)+(null===t||void 0===t||null===(O=t.totalDoses)||void 0===O?void 0:O.prima_dose_janssen_baby)+(null===t||void 0===t||null===(y=t.totalDoses)||void 0===y?void 0:y.pregressa_infezione_baby);isNaN(S)||(Me(tt(S)),Ie(tt(S/(null===t||void 0===t?void 0:t.totalPlateaBaby)*100,!0))),Fe(tt(null===t||void 0===t?void 0:t.totalGuaritiBaby)),We(tt((null===t||void 0===t?void 0:t.totalGuaritiBaby)/(null===t||void 0===t?void 0:t.totalPlateaBaby)*100,!0)),Ze(tt(w+(null===t||void 0===t?void 0:t.totalGuaritiBaby))),et(tt((w+(null===t||void 0===t?void 0:t.totalGuaritiBaby))/(null===t||void 0===t?void 0:t.totalPlateaBaby)*100,!0))}),[t]),Object(s.jsxs)("div",{className:"p-3",children:[Object(s.jsxs)("div",{className:"row bg-box mb-3",children:[Object(s.jsx)("div",{className:"col-md-4 col-sm-12",children:Object(s.jsxs)("div",{className:"box-card p-2 my-4",children:[Object(s.jsx)("div",{className:"position-absolute center-logo",children:Object(s.jsx)("img",{src:"Coccarda.svg",width:"150",height:"130",alt:"Logo"})}),Object(s.jsx)("div",{className:"p-1 mt-4",children:Object(s.jsxs)("div",{className:"align-items-center justify-content-center text-center mb-4",children:[Object(s.jsx)("h5",{className:"mt-4",children:"Totale con almeno una dose"}),Object(s.jsx)("div",{className:"box-numbers",children:n}),Object(s.jsxs)("div",{className:"box-text",children:[m," % della popolazione over 12"]}),Object(s.jsx)("div",{className:"box-label",children:"(persone con almeno una somministrazione)"})]})})]})}),Object(s.jsx)("div",{className:"col-md-4 col-sm-12",children:Object(s.jsxs)("div",{className:"box-card p-2 my-4",children:[Object(s.jsx)("div",{className:"position-absolute center-logo",children:Object(s.jsx)("img",{src:"Coccarda.svg",width:"150",height:"130",alt:"Logo"})}),Object(s.jsx)("div",{className:"p-1 mt-4",children:Object(s.jsxs)("div",{className:"align-items-center justify-content-center text-center mb-4",children:[Object(s.jsx)("h5",{className:"mt-4",children:"Totale ciclo vaccinale"}),Object(s.jsx)("div",{className:"box-numbers",children:v}),Object(s.jsxs)("div",{className:"box-text",children:[x," % della popolazione over 12"]}),Object(s.jsx)("div",{className:"box-label",children:"(persone che hanno completato il ciclo vaccinale)"})]})})]})}),Object(s.jsx)("div",{className:"col-md-4 col-sm-12",children:Object(s.jsxs)("div",{className:"box-card p-2 my-4",children:[Object(s.jsx)("div",{className:"position-absolute center-logo",children:Object(s.jsx)("img",{src:"Coccarda.svg",width:"150",height:"130",alt:"Logo"})}),Object(s.jsx)("div",{className:"p-1 mt-4",children:Object(s.jsxs)("div",{className:"align-items-center justify-content-center text-center mb-4",children:[Object(s.jsx)("h5",{className:"mt-4",children:"Totale guariti"}),Object(s.jsx)("div",{className:"box-numbers",children:H}),Object(s.jsxs)("div",{className:"box-text",children:[q," % della popolazione over 12"]}),Object(s.jsx)("div",{className:"box-label",children:"guarita da al massimo 6 mesi senza alcuna somministrazione"})]})})]})})]}),Object(s.jsx)("div",{className:"row bg-box mb-5",children:Object(s.jsx)("div",{className:"col-md-12 col-sm-12 mb-5",children:Object(s.jsx)("div",{className:"p-2 position-relative d-flex justify-content-center",children:Object(s.jsx)("div",{className:"text-white",children:Object(s.jsxs)("div",{className:"align-items-center justify-content-center text-center",children:[Object(s.jsx)("h5",{className:"mt-4",children:"Totale con almeno una dose + guariti da al massimo 6 mesi senza alcuna somministrazione"}),Object(s.jsx)("div",{className:"box-numbers",children:re}),Object(s.jsxs)("div",{className:"box-text",children:[be," % della popolazione over 12"]})]})})})})}),Object(s.jsx)("div",{className:"row mb-3"}),Object(s.jsxs)("div",{className:"row bg-box mb-3",children:[Object(s.jsx)("div",{className:"col-md-6 col-sm-12",children:Object(s.jsxs)("div",{className:"box-card p-2 my-4",children:[Object(s.jsx)("div",{className:"position-absolute center-logo",children:Object(s.jsx)("img",{src:"Coccarda.svg",width:"150",height:"130",alt:"Logo"})}),Object(s.jsx)("div",{className:"p-1 mt-4",children:Object(s.jsxs)("div",{className:"align-items-center justify-content-center text-center",children:[Object(s.jsx)("h5",{className:"mt-4",children:"Totale dose addizionale/richiamo (booster)"}),Object(s.jsx)("div",{className:"box-numbers",children:null===N||void 0===N?void 0:N.toLocaleString("it")}),Object(s.jsxs)("div",{className:"box-text",children:[S," % della popolazione potenzialmente oggetto di",Object(s.jsx)("br",{}),"dose addizionale o booster che ha ultimato il ciclo vaccinale",Object(s.jsx)("br",{}),"da almeno 4 mesi"]})]})})]})}),Object(s.jsx)("div",{className:"col-md-6 col-sm-12",children:Object(s.jsxs)("div",{className:"box-card p-2 my-4",children:[Object(s.jsx)("div",{className:"position-absolute center-logo",children:Object(s.jsx)("img",{src:"Coccarda.svg",width:"150",height:"130",alt:"Logo"})}),Object(s.jsx)("div",{className:"p-1 mt-4",children:Object(s.jsxs)("div",{className:"align-items-center justify-content-center text-center",children:[Object(s.jsx)("h5",{className:"mt-4",children:"Totale guariti post 2\xaa dose/unica dose"}),Object(s.jsx)("div",{className:"box-numbers",children:null===te||void 0===te?void 0:te.toLocaleString("it")}),Object(s.jsxs)("div",{className:"box-text",children:[oe," % della popolazione potenzialmente oggetto di",Object(s.jsx)("br",{}),"dose addizionale o booster guarita post 2\xaa dose/unica dose",Object(s.jsx)("br",{}),"da al massimo 4 mesi"]})]})})]})})]}),Object(s.jsx)("div",{className:"row bg-box my-4 mb-5",children:Object(s.jsx)("div",{className:"col-md-12 col-sm-12 mb-5",children:Object(s.jsx)("div",{className:"p-2 position-relative d-flex justify-content-center",children:Object(s.jsx)("div",{className:"text-white",children:Object(s.jsxs)("div",{className:"align-items-center justify-content-center text-center",children:[Object(s.jsx)("h5",{className:"mt-4",children:"Totale dose addizionale/richiamo (booster) + guariti post 2\xaa dose/unica dose"}),Object(s.jsx)("div",{className:"box-numbers",children:he}),Object(s.jsxs)("div",{className:"box-text",children:[Oe," % della popolazione potenzialmente oggetto di",Object(s.jsx)("br",{}),"dose addizionale o booster che ha ultimato il ciclo vaccinale",Object(s.jsx)("br",{}),"da almeno 4 mesi"]})]})})})})}),Object(s.jsxs)("div",{className:"row bg-box mb-3",children:[Object(s.jsx)("div",{className:"col-md-6 col-sm-12",children:Object(s.jsxs)("div",{className:"box-card p-1 my-4",children:[Object(s.jsx)("div",{className:"position-absolute center-logo",children:Object(s.jsx)("img",{src:"Coccarda.svg",width:"150",height:"130",alt:"Logo"})}),Object(s.jsx)("div",{className:"p-1 mt-3",children:Object(s.jsx)("div",{className:"text-white",children:Object(s.jsxs)("div",{className:"align-items-center justify-content-center text-center",children:[Object(s.jsxs)("h5",{className:"mt-4",children:["Totale dose ",Object(s.jsx)("br",{}),"booster immunocompromessi"]}),Object(s.jsx)("div",{className:"box-numbers",children:L}),Object(s.jsxs)("div",{className:"box-text",children:[A," % della popolazione immunocompromessa potenzialmente oggetto di",Object(s.jsx)("br",{}),"dose booster che ha ultimato il ciclo vaccinale con richiamo",Object(s.jsx)("br",{}),"da almeno 4 mesi"]})]})})})]})}),Object(s.jsx)("div",{className:"col-md-6 col-sm-12",children:Object(s.jsxs)("div",{className:"box-card p-1 my-4",children:[Object(s.jsx)("div",{className:"position-absolute center-logo",children:Object(s.jsx)("img",{src:"Coccarda.svg",width:"150",height:"130",alt:"Logo"})}),Object(s.jsx)("div",{className:"p-1 mt-3",children:Object(s.jsxs)("div",{className:"align-items-center justify-content-center text-center",children:[Object(s.jsxs)("h5",{className:"mt-4",children:["Totale dose",Object(s.jsx)("br",{}),"second booster"]}),Object(s.jsx)("div",{className:"box-numbers",children:null===R||void 0===R?void 0:R.toLocaleString("it")}),Object(s.jsxs)("div",{className:"box-text",children:[G," % della popolazione oggetto di seconda",Object(s.jsx)("br",{}),"dose booster cha ha ricevuto la dose booster",Object(s.jsx)("br",{}),"da almeno 4 mesi"]})]})})]})})]}),Object(s.jsxs)("div",{className:"my-5",children:[Object(s.jsx)("div",{className:"col-12 d-flex justify-content-center align-items-center p-5 section-title",children:Object(s.jsx)("div",{className:"mb-3",children:Object(s.jsx)("h3",{className:"text-center",children:"Somministrazione platea 5-11 anni"})})}),Object(s.jsxs)("div",{className:"row bg-box mb-3",children:[Object(s.jsx)("div",{className:"col-md-4 col-sm-12 mb-4 mt-3",children:Object(s.jsxs)("div",{className:"p-2 my-2 box-card",children:[Object(s.jsx)("div",{className:"position-absolute center-logo",children:Object(s.jsx)("img",{src:"Coccarda.svg",width:"150",height:"130",alt:"Logo"})}),Object(s.jsx)("div",{className:"p-1 mt-4",children:Object(s.jsxs)("div",{className:"align-items-center justify-content-center text-center",children:[Object(s.jsx)("h5",{className:"mt-4",children:"Totale con almeno una dose"}),Object(s.jsx)("div",{className:"box-numbers",children:ze}),Object(s.jsxs)("div",{className:"box-text",children:[ke," % della popolazione 5-11"]}),Object(s.jsx)("div",{className:"box-label",children:"(persone con almeno una somministrazione)"})]})})]})}),Object(s.jsx)("div",{className:"col-md-4 col-sm-12 mb-4 mt-3",children:Object(s.jsxs)("div",{className:"p-2 my-2 box-card",children:[Object(s.jsx)("div",{className:"position-absolute center-logo",children:Object(s.jsx)("img",{src:"Coccarda.svg",width:"150",height:"130",alt:"Logo"})}),Object(s.jsx)("div",{className:"p-1 mt-4",children:Object(s.jsxs)("div",{className:"align-items-center justify-content-center text-center",children:[Object(s.jsx)("h5",{className:"mt-4",children:"Totale ciclo vaccinale"}),Object(s.jsx)("div",{className:"box-numbers",children:Te}),Object(s.jsxs)("div",{className:"box-text",children:[Ye," % della popolazione 5-11"]}),Object(s.jsx)("div",{className:"box-label",children:"(persone che hanno completato il ciclo vaccinale)"})]})})]})}),Object(s.jsx)("div",{className:"col-md-4 col-sm-12 mb-4 mt-3",children:Object(s.jsxs)("div",{className:"p-2 my-2 box-card",children:[Object(s.jsx)("div",{className:"position-absolute center-logo",children:Object(s.jsx)("img",{src:"Coccarda.svg",width:"150",height:"130",alt:"Logo"})}),Object(s.jsx)("div",{className:"p-1 mt-4",children:Object(s.jsxs)("div",{className:"align-items-center justify-content-center text-center",children:[Object(s.jsx)("h5",{className:"mt-4",children:"Totale guariti"}),Object(s.jsx)("div",{className:"box-numbers",children:Ee}),Object(s.jsxs)("div",{className:"box-text",children:[Je," % della popolazione 5-11"]}),Object(s.jsx)("div",{className:"box-label",children:"guarita da al massimo 6 mesi senza alcuna somministrazione"})]})})]})})]})]}),Object(s.jsx)("div",{className:"row bg-box my-4",children:Object(s.jsx)("div",{className:"col-md-12 col-sm-12 mb-5",children:Object(s.jsx)("div",{className:"p-2 position-relative d-flex justify-content-center",children:Object(s.jsx)("div",{className:"text-white",children:Object(s.jsxs)("div",{className:"align-items-center justify-content-center text-center",children:[Object(s.jsx)("h5",{className:"mt-4",children:"Totale con almeno una dose + guariti da al massimo 6 mesi senza alcuna somministrazione"}),Object(s.jsx)("div",{className:"box-numbers",children:Xe}),Object(s.jsxs)("div",{className:"box-text",children:[Qe," % della popolazione 5-11"]})]})})})})})]})},oe=function(e){var t=+e.width,a=+e.height,o=Object(i.useRef)(),n=Object(i.useRef)();Object(i.useEffect)((function(){W.h(n.current).selectAll("svg").remove(),l()}),[e]);var c=function(e){var t=W.h(e.node().parentNode),a=parseInt(e.style("width"),10),s=parseInt(e.style("height"),10),i=a/s;function o(){var a=parseInt(t.style("width"));e.attr("width",a),e.attr("height",Math.round(a/i))}e.attr("viewBox","0 0 ".concat(a," ").concat(s)).attr("preserveAspectRatio","xMinYMid").call(o),W.h(window).on("resize."+t.attr("id"),o)};var l=function(){var s,i=(null===e||void 0===e?void 0:e.data)||[],o=(null===i||void 0===i?void 0:i.reduce((s=e.property.yprop,function(e,t){return(null===t||void 0===t?void 0:t[s])>e?null===t||void 0===t?void 0:t[s]:e}),0))||0,l=W.h(n.current).append("svg").attr("width",t).attr("height",a),r=50,d=20,m=W.f().padding(.5),j=W.g().domain([0,o]);j.range([a,0]),m.range([0,t]).domain(i.map((function(t){return t[e.property.xprop]}))),l.attr("width",t+2*d).attr("height",a+2*r).call(c).attr("id","svg-bar");var b=l.append("g").attr("transform","translate(".concat(d,",").concat(r,")"));b.append("g").attr("class","axis-dark").attr("transform","translate(0,".concat(a,")")).style("font-size",16).call(W.a(m));var u=b.selectAll().data(i);u.enter().append("rect").on("click",(function(t,a){e.handleBarChartClick(a)})).attr("id",(function(e){return null===e||void 0===e?void 0:e.fornitore})).attr("opacity",(function(t){var a;return(null===(a=e.selected)||void 0===a?void 0:a.fornitore)===(null===t||void 0===t?void 0:t.fornitore)?1:e.selected?.1:1})).attr("class","bg-bar").attr("x",(function(t){return+m(t[e.property.xprop])})).attr("y",(function(t){return j(t[e.property.yprop])})).attr("height",(function(t){return a-j(t[e.property.yprop])})).attr("width",m.bandwidth()).append("title").attr("x",(function(t){return m(t[e.property.xprop])})).attr("y",(function(t){return j(t[e.property.yprop])})).text((function(t){return"Fornitore ".concat(t[e.property.xprop]," totale: ").concat(t[e.property.yprop])})),u.enter().append("text").attr("class","bartext-dark").attr("text-anchor","center").attr("fill","black").attr("x",(function(t){return m(t[e.property.xprop])-5})).attr("y",(function(t){return a-j(t[e.property.yprop])>=0?j(t[e.property.yprop])-10:j(t[e.property.yprop])})).text((function(t){var a;return null===(a=t[e.property.yprop])||void 0===a?void 0:a.toLocaleString("it")})),u.exit().remove()};return Object(s.jsx)("div",{ref:n,children:Object(s.jsx)("svg",{ref:o})})},ne=function(e){var t=Object(i.useState)(null),a=Object(r.a)(t,2),o=a[0],n=a[1],c=Object(i.useState)(null),l=Object(r.a)(c,2),d=l[0],m=l[1],j=Object(i.useState)([]),b=Object(r.a)(j,2),u=b[0],v=b[1],p=Object(i.useState)(0),h=Object(r.a)(p,2),f=h[0],g=h[1],O=function(){var t,a,s;v(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.allDosesSupplier),g(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.totalSuplier),m(null),n(null),g(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.totalSuplier)};Object(i.useEffect)((function(){if(!Object(x.isEmpty)(e)){var t,a,s=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.allDosesSupplier;s&&s.map((function(e){return e.fornitore.includes("Vaxzevria")&&(e.fornitore="Vaxzevria"),e})),v(s),g(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.totalSuplier)}}),[e]);var y=function(e){m(e)};return Object(s.jsxs)("div",{className:"row",children:[Object(s.jsxs)("div",{className:"col-12 col-md-12 mt-4",children:[Object(s.jsx)("div",{className:"col-12 d-flex justify-content-center align-items-center section-title mx-2",children:Object(s.jsx)("div",{className:"text-center",children:Object(s.jsx)("h3",{children:"Distribuzione vaccini per fornitore"})})}),Object(s.jsxs)("div",{className:"col-12 col-md-12 m-3",children:[Object(s.jsxs)("div",{className:"d-lg-none bg-box box-mobile m-3",children:[Object(s.jsx)("img",{src:"Coccarda.svg",width:"100",height:"100",alt:"Logo",className:"d-flex text-center box-logo-right"}),Object(s.jsxs)("div",{className:"text-white",children:[Object(s.jsx)("div",{className:"d-flex justify-content-center pt-5",children:Object(s.jsx)("h5",{children:"Totale vaccini distribuiti"})}),Object(s.jsx)("div",{className:"d-flex justify-content-center",children:Object(s.jsx)("p",{className:"box-numbers",children:null===f||void 0===f?void 0:f.toLocaleString("it")})}),Object(s.jsx)("div",{className:"col-12 d-flex justify-content-end pb-2",children:Object(s.jsx)("img",{alt:"reset-plot2",src:"reset_white.png",onClick:O,height:"36px"})})]})]}),Object(s.jsx)("div",{className:"offset-md-8 col-md-4 d-none d-lg-block",children:Object(s.jsxs)("div",{className:"bg-box box-card box-right",children:[Object(s.jsx)("img",{src:"Coccarda.svg",width:"100",height:"100",alt:"Logo",className:"d-none d-md-block d-lg-block box-logo-right"}),Object(s.jsxs)("div",{className:"text-white",children:[Object(s.jsx)("div",{className:"d-flex justify-content-start pt-3 pl-5",children:Object(s.jsx)("h5",{children:"Totale vaccini distribuiti"})}),Object(s.jsx)("div",{className:"d-flex justify-content-start pl-5",children:Object(s.jsx)("p",{className:"box-numbers",children:null===f||void 0===f?void 0:f.toLocaleString("it")})}),Object(s.jsx)("div",{className:"col-12 d-flex justify-content-end pb-2",children:Object(s.jsx)("img",{alt:"Reset",src:"reset_white.png",onClick:O,height:"36px"})})]})]})})]})]}),Object(s.jsx)("div",{className:"col-12 col-md-7 w-100 h-100 pb-5",children:Object(s.jsx)(oe,{width:"850",handleBarChartClick:function(e){d===e?O():o?(O(),function(e){if(document.getElementById(e)&&e){var t=new MouseEvent("click",{bubbles:!0,cancelable:!0});document.getElementById(e).dispatchEvent(t)}}(e.fornitore)):(y(e),m(e),g(null===e||void 0===e?void 0:e.totale))},height:"350",selected:d,property:{xprop:"fornitore",yprop:"totale"},data:u})})]})};a(183);E.a.DataTable=G.a;var ce=[{title:"Regione",data:"area"},{title:"Punto di somministrazione",data:"denominazione_struttura"},{title:"Tipologia",data:"tipologia"}],le=function(e){return Object(i.useEffect)((function(){var t,a=e.setLocationCount,s=E()("#datatable-locations").find("table").DataTable({dom:"<'row'<'col-sm-12 col-md-6'l><'col-sm-12 col-md-6'>><'row'<'col-sm-12'tr>><'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7'p>>",paging:!1,columnDefs:[{targets:[1,2],searchable:!1}],searching:!0,destroy:!0,bLengthChange:!1,info:!1,scrollY:"550px",scrollCollapse:!0,data:(null===(t=e.summary)||void 0===t?void 0:t.locations)||[],columns:ce});(null===e||void 0===e?void 0:e.selected)?s.search(e.selected).draw():s.search(" ").draw(),a(s.rows({search:"applied"}).count()/2)})),Object(s.jsx)("div",{id:"datatable-locations",children:Object(s.jsx)("table",{className:"display compact",cellSpacing:"0",width:"100%"})})},re=function(e){var t=e.locationCount;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"d-flex pl-5 pt-3",children:Object(s.jsx)("h5",{children:"Totale punti somministrazione"})}),Object(s.jsx)("div",{className:"d-flex pl-5",children:Object(s.jsx)("p",{className:"box-numbers",children:t})})]})},de=function(){return Object(s.jsx)("div",{className:"w-100 h-100 d-flex justify-content-start pr-5",children:Object(s.jsxs)("h5",{className:"pl-3 pl-sm-1",children:["Principali punti di",Object(s.jsx)("br",{})," somministrazione ",Object(s.jsx)("br",{})," per regione"]})})},me=function(e){var t=e.data,a=Object(i.useState)({}),o=Object(r.a)(a,2),n=o[0],c=o[1],d=Object(i.useState)(""),m=Object(r.a)(d,2),j=m[0],b=m[1],u=Object(i.useState)(0),v=Object(r.a)(u,2),p=v[0],h=v[1];Object(i.useEffect)((function(){Object(x.isEmpty)(t)||c(t)}),[t]);var f=function(){b(""),h(0)};return Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-12 d-flex justify-content-center align-items-center section-title mx-2",children:Object(s.jsxs)("div",{className:"text-center",children:[Object(s.jsx)("h3",{children:"Principali punti di somministrazione"}),Object(s.jsxs)("p",{children:["(Sono inclusi i punti di somministrazione ospedalieri e territoriali;",Object(s.jsx)("br",{}),"non sono inclusi i punti di somministrazione temporanei)"]})]})}),Object(s.jsxs)("div",{className:"col-12 col-md-12 m-3",children:[Object(s.jsxs)("div",{className:"d-lg-none bg-box box-mobile m-3",children:[Object(s.jsx)("img",{src:"Coccarda.svg",width:"100",height:"100",alt:"Logo",className:"d-flex text-center box-logo-left"}),Object(s.jsx)("div",{className:"text-white",children:Object(s.jsx)(re,{locationCount:p})}),Object(s.jsx)("div",{className:"col-12 d-flex justify-content-end pb-2",children:Object(s.jsx)("img",{alt:"reset-plot",src:"reset_white.png",onClick:f,height:"36"})})]}),Object(s.jsx)("div",{className:"col-4 col-md-4 d-none d-lg-block",children:Object(s.jsxs)("div",{className:"bg-box box-card box-left",children:[Object(s.jsx)("img",{src:"Coccarda.svg",width:"100",height:"100",alt:"Logo",className:"d-none d-md-block d-lg-block box-logo-left"}),Object(s.jsxs)("div",{className:"text-white",children:[Object(s.jsx)(re,{locationCount:p}),Object(s.jsx)("div",{className:"col-12 d-flex justify-content-end pb-2",children:Object(s.jsx)("img",{alt:"reset-white",src:"reset_white.png",onClick:f,height:"36px"})})]})]})})]}),Object(s.jsxs)("div",{className:"col-12 col-md-6",children:[Object(s.jsx)("div",{className:"p-2 d-lg-none text-center",children:"Principali Punti di Somministrazione per Regione"}),Object(s.jsx)("div",{className:"d-none d-lg-block map-legend",children:Object(s.jsx)(de,{})}),Object(s.jsx)("div",{className:"mt-5",children:Object(s.jsx)(U,{fillMapDeliveryArea:function(e){var t=e.region,a=e.maxValue,s=e.field,i=0;if(t.area===j)i=1;else if(j){var o=t[s]/(2*a);i=Object(x.max)([o,.1])}else i=Object(x.max)([t[s]/a,.1]);return"rgba(23,50,77,".concat(i,")")},summary:t.locationsByRegion,handleMapDeliveryClick:function(e){j===e.area?b(null):b(e.area)},tooltip:function(e){return e.area+": "+(e.locations&&e.locations.toLocaleString("it"))},fillBy:"locations",className:"ml-5 w-100 h-100"})})]}),Object(s.jsx)("div",{className:"col-12 col-md-6 pl-3",children:Object(s.jsx)(le,{summary:Object(l.a)({},n),selected:j,className:"mr-5 h-100",setLocationCount:h})})]})};var je=function(){var e=Object(i.useState)({}),t=Object(r.a)(e,2),a=t[0],o=t[1];return Object(i.useEffect)((function(){R().then((function(e){!function(){var e=document.getElementById("loader-custom");e&&(e.className=e.className.includes("d-none")?e.className:e.className+" d-none")}(),o(e)}))}),[]),Object(s.jsxs)("div",{children:[Object(s.jsx)(d,{}),Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)(u,{summary:Object(l.a)({},a)}),"          ",Object(s.jsx)(ie,{data:a}),"                  ",Object(s.jsx)(X,{data:a}),"               ",Object(s.jsx)(Q,{data:a}),"                   ",Object(s.jsx)(se,{data:a}),"                    ",Object(s.jsx)(q,{data:a}),"                 ",Object(s.jsx)(ne,{data:a}),"                 ",Object(s.jsx)(me,{data:a}),"                "]}),Object(s.jsx)(m,{})]})},be=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,185)).then((function(t){var a=t.getCLS,s=t.getFID,i=t.getFCP,o=t.getLCP,n=t.getTTFB;a(e),s(e),i(e),o(e),n(e)}))};c.a.render(Object(s.jsx)(o.a.StrictMode,{children:Object(s.jsx)(je,{})}),document.getElementById("root")),be()},51:function(e,t,a){}},[[184,1,2]]]);
//# sourceMappingURL=main.fef8f5e4.chunk.js.map