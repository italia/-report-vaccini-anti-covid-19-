{"version":3,"sources":["components/HeaderBar.jsx","components/FooterBar.jsx","components/Total.jsx","utils.js","loadData.js","naturalSortAlgorithm.js","components/Table.jsx","components/MapArea.jsx","containers/deliveries.jsx","components/AgeHStackedBarChart.jsx","containers/agedoses.jsx","components/HealedHStackedBarChart.jsx","containers/healed.jsx","components/StackedBarChart.jsx","components/RangeWeek.jsx","containers/weeks.jsx","components/Over60HStackedBarChart.jsx","containers/over60.jsx","containers/databox.jsx","components/BarChartsSupplier.jsx","components/Supplier.jsx","components/LocationsTable.jsx","containers/locations.jsx","App.jsx","reportWebVitals.js","index.js"],"names":["HeaderBar","className","src","height","alt","href","aria-label","rel","FooterBar","Total","props","summary","timestamp","moment","format","tot","toLocaleString","sumDoseX","y","acc","x","filterBy","z","replaceArea","filterByArea","area","areaMapping","code","ABR","BAS","CAL","CAM","EMR","FVG","LAZ","LIG","LOM","MAR","MOL","PAB","PAT","PIE","PUG","SAR","SIC","TOS","UMB","VDA","VEN","baseURL","obj","retobj","key","inverse","years","sommVaxSummaryURL","sommVaxDetailBaseURL","vaxSummaryURL","vaxLocationsURL","lastUpdateURL","supplierDoses","plateaURL","plateaDoseAddizionaleBoosterURL","plateaDoseSecondBoosterURL","plateaDoseThirdBoosterURL","guaritiURL","coperturaURL","elaborate","data","dataSommVaxSummary","dataSommVaxDetail","dataVaxSummary","dataCopertura","dataPlatea","dataGuariti","dataSupplierDoses","dataVaxLocations","dataPlateaDoseAddizionaleBooster","dataPlateaSecondBooster","dataPlateaThirdBooster","fasciaOver60","fasciaEta","dataLastUpdate","ultimo_aggiornamento","filter","d","reduce","totalDoses","somministrazioni_over60","_","sum","map","e","includes","fascia_anagrafica","vaccinati","guarigioni_over60","guariti","prima_dose","eta","d1","pregressa_infezione","dpi","seconda_dose","d2","prima_dose_janssen","forn","prima_dose_infant","seconda_dose_infant","pregressa_infezione_infant","prima_dose_janssen_infant","prima_dose_baby","seconda_dose_baby","pregressa_infezione_baby","prima_dose_janssen_baby","dose_addizionale_booster","db1","dose_second_booster","db2","dose_third_booster","db3","dose_addizionale_booster_baby","totalPlatea","totale_popolazione","totalPlateaBaby","totalPlateaInfant","totalPlateaOver60","totalPlateaDoseAddizionaleBooster","categoria_prevalente","totalPlateaDoseAddizionaleBoosterBaby","totalPlateaDoseSecondBooster","totalPlateaDoseThirdBooster","totalGuaritiNotBaby","guariti_senza_somm","totalGuaritiDoppiaNotBaby","guariti_post_somm","totalGuaritiBoosterNotBaby","guariti_post_1booster","totalGuaritiSecondBoosterNotBaby","guariti_post_2booster","totalGuaritiBaby","databoxContent","totalGuaritiDoppiaBaby","totalGuaritiInfant","keyValueOver60","keysOver60","Object","keys","over60","values","over60Data","groupBy","items","rowAge","keyAge","entryTmp","value","sort","a","b","label","over60MapData","entry","head","totale","popolazione","popolazioneFascia","over60RegionData","subItems","over60Content","over60Color","deliverySummary","deliveredByArea","totalDeliverySummary","details","dosi_consegnate","dosi_somministrate","percentuale_somministrazione","totalGuaritiHealedSection","keyValueHealed","keysHealed","healed","healedData","healedMapData","healedRegionData","healedContent","healedColor","spectrum","suppliersColor","suppliers","row","push","indexOfPediatrico","indexOf","splice","rowFornitore","length","weeksMappingOptimation","index","suppliersWeek","date","Date","Moment","from","labelfrom","to","getTime","labelto","total","week","f","m","weekContent","keyValueDoses","keysDosesAges","dosesAges","dosesAgesData","secondDosesMapData","somministrazioni","dosesAgesRegionData","agedosesContent","dosesAgesColor","totalSuplier","numero_dosi","groups","allDosesSupplier","k","groupByKey","group","fornitore","allDoses","locations","locationsByRegion","loadData","Promise","all","fetch","resSommVaxSummary","resVaxSummary","resVaxLocations","resLastUpdate","resSupplierDoses","resPlatea","resPlateaDoseAddizionaleBooster","resPlateaDoseSecondBooster","resPlateaDoseThirdBooster","resGuariti","resCopertura","arrayLatestURL","i","arrayLatestRes","json","arrayLatestJson","arrayLatestData","naturalSort","html","re","sre","dre","hre","ore","htmre","toString","replace","xN","split","yN","xD","parseInt","match","parse","yD","cLoc","numS","Math","max","oFxNcL","parseFloat","oFyNcL","isNaN","jQuery","dataTableExt","oSort","toLowerCase","$","DataTable","columns","title","Table","deliveryTableData","useEffect","find","append","dom","paging","searching","destroy","language","decimal","thousands","columnDefs","targets","width","type","render","Number","footerCallback","start","end","display","api","intVal","totalDelivery","column","search","totalVaccines","totalPercentage","footer","toFixed","id","cellSpacing","style","paddingBottom","MapArea","handleMapDeliveryClick","fillMapDeliveryArea","fillBy","tooltip","percentage","useState","geographies","setGeographies","maxValue","setMaxValue","maxBy","projection","d3","center","rotate","parallels","scale","translate","res","topojson","objects","regions","features","fetchData","reg_name","properties","region","trim","fill","field","stroke","strokeWidth","onClick","Deliveries","deliveryMapData","setDeliveryMapData","setDeliveryTableData","deliverySelectedRegion","setDeliverySelectedRegion","setTotalDelivery","selectedAge","setSelectedAge","isEmpty","resetFilter","scaleOp","valueToFill","deliveryTableFilteredData","r","AgeHStackedBarChart","handleRectClick","labels","colors","selectedCodeAge","regionSelected","myRef","useRef","divRef","current","selectAll","remove","draw","responsivefy","svg","container","node","parentNode","aspect","resize","targetWidth","attr","round","call","window","on","dataset","margin","xScale","domain","yScale","padding","range","chart","path","enter","ageCode","replaceAll","bandwidth","this","transition","event","regione","pageY","pageX","perc","exit","ref","AgeDoses","setdosesAgesColor","setdosesAges","dosesAgesKeys","setDosesAgesKeys","setKeyValueDoses","setDosesAgesData","categoryMapData","setCategoryMapData","categoryMapField","setCategoryMapField","categorySelectedRegion","setCategorySelectedRegion","categorySelectedRegionDescr","setCategorySelectedRegionDescr","setSelectedCodeAge","totalByCategory","setTotalByCategory","property","xprop","yprop","cat","dose","backgroundColor","HealedHStackedBarChart","Healed","setHealedColor","setHealed","healedKeys","setHealedKeys","setHealedData","setKeyValueHealed","Totale","itemVal","val","StackedBarChart","selectedFrom","selectedTo","ytitle","slice","text","RangeWeek","min","changeFrom","changeTo","setValues","justifyContent","flexWrap","draggableTrack","step","rtl","onChange","renderTrack","children","onMouseDown","onTouchStart","marginRight","marginLeft","borderRadius","background","getTrackBackground","alignSelf","renderThumb","isDragged","alignItems","boxShadow","Weeks","setSuppliersColor","setSuppliers","setSuppliersWeek","setFrom","setTo","supply","xtitle","marginBottom","Over60HStackedBarChart","Over60","setOver60Color","setOver60","over60Keys","setOver60Keys","setOver60Data","setKeyValueOver60","Databox","somministrazioniOver60","setSomministrazioniOver60","percentualeSomministrazioniOver60","setPercentualeSomministrazioniOver60","guarigioniOver60","setGuarigioniOver60","percentualeGuarigioniOver60","setPercentualeGuarigioniOver60","totaleOver60","setTotaleOver60","percentualeTotaleOver60","setPercentualeTotaleOver60","totalePrimaDose","setTotalePrimaDose","percentualePrimaDosePopolazione","setPercentualePrimaDosePopolazione","totalePersoneVaccinate","setTotalePersoneVaccinate","totalePersoneVaccinatePopolazione","setTotalePersoneVaccinatePopolazione","totaleDoseAddizionaleBooster","setTotaleDoseAddizionaleBooster","percentualeDoseAddizionaleBooster","setPercentualeDoseAddizionaleBooster","totalePersoneSecondBooster","setTotalePersoneSecondBooster","percentualePersoneSecondBooster","setPercentualePersoneSecondBooster","totalePersoneThirdBooster","setTotalePersoneThirdBooster","percentualePersoneThirdBooster","setPercentualePersoneThirdBooster","totalePersoneGuarite","setTotalePersoneGuarite","totalePersoneGuaritePopolazione","setTotalePersoneGuaritePopolazione","totalePersoneGuariteDoppiaDose","setTotalePersoneGuariteDoppiaDose","totalePersoneGuaritePopolazioneDoppiaDose","setTotalePersoneGuaritePopolazioneDoppiaDose","totaleAlmenoUnaGuariti","setTotaleAlmenoUnaGuariti","percentualeAlmenoUnaGuariti","setPercentualeAlmenoUnaGuariti","totaleDoseAddizionaleGuaritiDoppiaDose","setTotaleDoseAddizionaleGuaritiDoppiaDose","percentualeDoseAddizionaleGuaritiDoppiaDose","setPercentualeDoseAddizionaleGuaritiDoppiaDose","totaleGuaritiDopoDoseBooster","setTotaleGuaritiDopoDoseBooster","percentualeGuaritiDopoDoseBooster","setPercentualeGuaritiDopoDoseBooster","totaleGuaritiDopoSecondaDoseBooster","setTotaleGuaritiDopoSecondaDoseBooster","percentualeGuaritiDopoSecondaDoseBooster","setPercentualeGuaritiDopoSecondaDoseBooster","totaleBooster","setTotaleBooster","percentualeTotaleBooster","setPercentualeTotaleBooster","totaleThirdBooster","setTotaleThirdBooster","percentualeTotaleThirdBooster","setPercentualeTotaleThirdBooster","totalePrimaDoseBaby","setTotalePrimaDoseBaby","percentualePrimaDosePopolazioneBaby","setPercentualePrimaDosePopolazioneBaby","totalePersoneVaccinateBaby","setTotalePersoneVaccinateBaby","totalePersoneVaccinatePopolazioneBaby","setTotalePersoneVaccinatePopolazioneBaby","totalePersoneGuariteBaby","setTotalePersoneGuariteBaby","totalePersoneGuaritePopolazioneBaby","setTotalePersoneGuaritePopolazioneBaby","totalePrimaDoseConGuaritiBaby","setTotalePrimaDoseConGuaritiBaby","percentualeTotalePrimaDoseConGuaritiBaby","setPercentualeTotalePrimaDoseConGuaritiBaby","totaleDoseAddizionaleBoosterBaby","setTotaleDoseAddizionaleBoosterBaby","percentualeDoseAddizionaleBoosterBaby","setPercentualeDoseAddizionaleBoosterBaby","totalePersoneGuariteDoppiaDoseBaby","setTotalePersoneGuariteDoppiaDoseBaby","totalePersoneGuaritePopolazioneDoppiaDoseBaby","setTotalePersoneGuaritePopolazioneDoppiaDoseBaby","totaleDoseAddizionaleGuaritiDoppiaDoseBaby","setTotaleDoseAddizionaleGuaritiDoppiaDoseBaby","percentualeDoseAddizionaleGuaritiDoppiaDoseBaby","setPercentualeDoseAddizionaleGuaritiDoppiaDoseBaby","totalePrimaDoseInfant","setTotalePrimaDoseInfant","percentualePrimaDosePopolazioneInfant","setPercentualePrimaDosePopolazioneInfant","totalePersoneVaccinateInfant","setTotalePersoneVaccinateInfant","totalePersoneVaccinatePopolazioneInfant","setTotalePersoneVaccinatePopolazioneInfant","totalePersoneGuariteInfant","setTotalePersoneGuariteInfant","totalePersoneGuaritePopolazioneInfant","setTotalePersoneGuaritePopolazioneInfant","totalePrimaDoseConGuaritiInfant","setTotalePrimaDoseConGuaritiInfant","percentualeTotalePrimaDoseConGuaritiInfant","setPercentualeTotalePrimaDoseConGuaritiInfant","digit","minimumFractionDigits","maximumFractionDigits","prima","primaBaby","totBaby","primaInfant","totInfant","BarChartSupplier","maxScale","handleBarChartClick","selected","Supplier","selectedLocationCategoryMap","setSelectedLocationCategoryMap","selectedSupplier","setelectedSupplier","deliveryBarChartData","setdeliveryBarChartData","setTotalSuplier","tmp","currentRect","bar","document","getElementById","clickEvt","MouseEvent","dispatchEvent","simulateClick","LocationsTable","setLocationCount","table","bLengthChange","info","scrollY","scrollCollapse","rows","count","TextBoxTotal","locationCount","TextBoxMap","Locations","setSummary","selectedLocation","setSelectedLocation","App","then","loading","hideLoader","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.ac3682ca.chunk.js","sourcesContent":["import React from \"react\";\nimport \"bootstrap-italia/dist/css/bootstrap-italia.min.css\";\nimport \"../App.css\";\nimport \"typeface-titillium-web\";\nimport \"typeface-roboto-mono\";\nimport \"typeface-lora\";\n\nexport const HeaderBar = () => {\n  return (\n    <>\n      {/* <Header small={false} theme=\"\" type=\"slim\">\n\n      </Header> */}\n    <div className=\"row m-0 bg-tertiary\" >\n        <div className=\"col-12 col-md-4 d-flex justify-content-md-center justify-content-sm-start logo-section pt-2 pb-2\">\n            <img src=\"logo.svg\" height=\"4px\" alt=\"Logo\" className=\"logo pl-5 pr-2\" />\n            <p className=\"pt-2\">\n                <a href=\"http://www.governo.it\" aria-label=\"Presidenza del Consiglio dei Ministri\" className=\"text-decoration-none\" rel=\"noreferrer\" alt=\"Presidenza del Consiglio dei Ministri\">\n                Presidenza del Consiglio dei Ministri\n                </a>\n            </p>\n        </div>\n        <div className=\"col-12 col-md-4 d-flex justify-content-md-center justify-content-sm-start logo-section pr-sm-0 pt-2 pb-2\">\n            <img src=\"logo.svg\" height=\"4px\" alt=\"Logo\" className=\"logo pl-5 pr-2\" />\n            <p className=\"pt-2\">\n                <a className=\"text-decoration-none\" href=\"https://www.governo.it/it/dipartimenti/unit-il-completamento-della-campagna-vaccinale-e-ladozione-di-altre-misure-di-contrasto\" aria-label =\"Unità Completamento Campagna Vaccinale\" rel=\"noreferrer\" alt=\"Unità Completamento Campagna Vaccinale\">\n                Unità Completamento Campagna Vaccinale\n                </a>\n            </p>\n        </div>\n        <div className=\"col-12 col-md-4 d-flex justify-content-md-center justify-content-sm-start logo-section pt-2 pb-2 pr-sm-3\">\n            <img src=\"logo.svg\" height=\"4px\" alt=\"Logo\" className=\"logo pl-5 pr-2\" />\n            <p className=\"pt-2\">\n                <a href=\"http://www.salute.gov.it/portale/home.html\" className=\"text-decoration-none\" aria-label=\"Ministero della Salute\" rel=\"noreferrer\" alt=\"Ministero della Salute\">\n                Ministero della Salute\n                </a>\n            </p>\n        </div>\n        {/** TITLE + LOGO*/}\n        <div className=\"col-12 d-flex flex-column justify-content-center mainBanner\">\n          <div className=\"d-flex justify-content-center\">\n            <img src=\"Coccarda.svg\" alt=\"Logo\" height=\"150px\" className=\"main-logo\" />\n            <h1 className=\"large-title pl-2 pt-4 d-lg-none d-md-none d-xs-block\">Report Vaccini Anti COVID-19</h1> {/* Title Mobile*/}\n            <h1 className=\"page-title large-title pl-2 pt-5 d-none d-md-block\">Report Vaccini Anti COVID-19</h1>  {/* Title Desktop*/}\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n","import React from \"react\";\n\nexport const FooterBar = () => {\n    return (\n        <>\n            {/* <Footer small={false} theme=\"\" type=\"slim\">\n\n            </Footer> */}\n            <div className=\"row\">\n                <div className=\"col-12 text-center pt-5 pb-3\">I dati visualizzati sono disponibili all'indirizzo{\" \"}\n                    <a href=\"https://github.com/italia/covid19-opendata-vaccini\" alt=\"Repository Dati Covid Governo Italiano\">https://github.com/italia/covid19-opendata-vaccini</a>\n                </div>\n            </div>\n            <div className=\"row m-0 p-2 bg-footer\">\n                <div className=\"col-12 col-md-4 d-flex justify-content-md-center justify-content-sm-start logo-section pt-2 pb-2\">\n                    <img src=\"logo.svg\" height=\"4px\" alt=\"Logo\" className=\"logo pl-5 pr-2\" />\n                    <p className=\"pt-2\">\n                        <a href=\"http://www.governo.it\" aria-label=\"Presidenza del Consiglio dei Ministri\" className=\"text-decoration-none\" rel=\"noreferrer\" alt=\"Presidenza del Consiglio dei Ministri\">\n                            Presidenza del Consiglio dei Ministri\n                        </a>\n                    </p>\n                </div>\n                <div className=\"col-12 col-md-4 d-flex justify-content-md-center justify-content-sm-start logo-section pr-sm-0 pt-2 pb-2\">\n                    <img src=\"logo.svg\" height=\"4px\" alt=\"Logo\" className=\"logo pl-5 pr-2\" />\n                    <p className=\"pt-2\">\n                        <a className=\"text-decoration-none\" href=\"https://www.governo.it/it/dipartimenti/unit-il-completamento-della-campagna-vaccinale-e-ladozione-di-altre-misure-di-contrasto\" aria-label =\"Unità Completamento Campagna Vaccinale\" rel=\"noreferrer\" alt=\"Unità Completamento Campagna Vaccinale\">\n                            Unità Completamento Campagna Vaccinale\n                        </a>\n                    </p>\n                </div>\n                <div className=\"col-12 col-md-4 d-flex justify-content-md-center justify-content-sm-start logo-section pt-2 pb-2 pr-sm-3\">\n                    <img src=\"logo.svg\" height=\"4px\" alt=\"Logo\" className=\"logo pl-5 pr-2\" />\n                    <p className=\"pt-2\">\n                        <a href=\"http://www.salute.gov.it/portale/home.html\" className=\"text-decoration-none\" aria-label=\"Ministero della Salute\" rel=\"noreferrer\" alt=\"Ministero della Salute\">\n                            Ministero della Salute\n                        </a>\n                    </p>\n                </div>\n            </div>\n    </>\n    );\n};\n","import { React } from \"react\";\nimport moment from \"moment\";\n\nexport const Total = (props) => {\n    return (\n        <div className=\"h-100 w-100 my-3\">\n            <div className=\"mx-auto\">\n                <h6 className=\"text-center pb-4\">\n                    Report aggiornato al: {\" \"}\n                    {props.summary.timestamp && moment(props.summary.timestamp).format(\"DD-MM-YYYY HH:mm\")}\n                </h6>\n            </div>\n            <div className=\"d-flex flex-column justify-content-center\">\n                <div className=\"d-flex justify-content-center align-items-baseline\">\n                    <img src=\"meds.png\" alt=\"meds\" className=\"pl-2 pr-5\" />\n                    {\" \"}\n                    <div className=\"pl-2 mt-4 numbers\">{props.summary.tot?.toLocaleString('it')}</div>\n                </div>\n                <span className=\"border-divider mb-2\"></span>\n                <div className=\"d-flex justify-content-center\">\n                    {\" \"}\n                    <h3>Totale somministrazioni</h3>\n                </div>\n            </div>\n        </div>\n    );\n};\n","import * as _ from 'lodash';\nexport const hideLoader = () => {\n  let loading = document.getElementById('loader-custom');\n  if (loading) loading.className = !loading.className.includes('d-none') ? loading.className + ' d-none' : loading.className;\n}\nexport const showLoader = () => {\n  let loading = document.getElementById('loader-custom');\n  if (loading) loading.className = loading.className.includes('d-none') ? loading.className.replace('d-none', '') : loading.className;\n}\nexport const sumDose = (acc, x) => acc + +x?.TML_DOSE_1 + +x?.TML_DOSE_2;\nexport const sumDoseXY = (y, z) => (acc, x) => acc + +x?.[y] + +x?.[z];\nexport const sumYear = (accumulator, currentValue) => accumulator + currentValue;\nexport const sumDoseX = (y) => (acc, x) => acc + +x?.[y];\nexport const maxX = (y) => (acc, x) => (x?.[y] > acc ? x?.[y] : acc);\nexport const age = [\"16-19\", \"20-29\", \"30-39\", \"40-49\", \"50-59\", \"60-69\", \"70-79\", \"80-89\", \"90+\"];\nexport const groupByAge = (array) => {\n  let _age;\n  if (Array.isArray(array) && array.length > 0) {\n    _age = age.map(el => {\n      let resMale = _.sum(array.filter(_el => _el.fascia_anagrafica.trim() === el).map(__el => __el.sesso_maschile));\n      let resFemale = _.sum(array.filter(_el => _el.fascia_anagrafica.trim() === el).map(__el => __el.sesso_femminile));\n      return { fascia_anagrafica: el, sesso_femminile: resFemale, sesso_maschile: resMale, totale: resMale + resFemale };\n    });\n  }\n  return _age;\n}\nexport const mapArrayByProp = (array, prop) => array.map((e) => e[prop]);\nexport const reduceSum = (array) => array.reduce(sumYear);\n\nexport const aggrBy = (p) => (acc, x) => {\n  let key = x[p];\n  if (!acc[key]) {\n    acc[key] = [];\n  }\n  acc[key].push(x);\n  return acc;\n};\nexport const filterBy = (y) => (z) => (x) => {\n  return x[y] === z;\n};\nexport const filterByArea = filterBy(\"area\");\nexport const filterByAreaITA = filterByArea(\"ITA\");\nexport const filterByAge = filterBy(\"TML_FASCIA_ETA\");\nexport const mapBy = (y) =>\n  Object.keys(y).map((x) => {\n    return { [x]: { sum: y[x].reduce(sumDose, 0) } };\n  });\nexport const mapByX = (y, z) =>\n  Object.keys(y).map((x) => {\n    return { [x]: y[x].reduce(sumDoseX(z), 0) };\n  });\nconst inverse = (obj) => {\n  let retobj = {};\n  for (const key in obj) {\n    retobj[obj[key]] = key;\n  }\n  return retobj;\n};\nexport const simulateClick = (id) => {\n  if (document.getElementById(id) && id) {\n    let clickEvt = new MouseEvent('click', {\n      'bubbles': true,\n      'cancelable': true\n    });\n    document.getElementById(id).dispatchEvent(clickEvt);\n  }\n}\nexport const replaceArea = (x) => ({ ...x, area: areaMapping[x.area], code: x.area });\nexport const areaMapping = {\n  ABR: \"Abruzzo\",\n  BAS: \"Basilicata\",\n  CAL: \"Calabria\",\n  CAM: \"Campania\",\n  EMR: \"Emilia-Romagna\",\n  FVG: \"Friuli-Venezia Giulia\",\n  LAZ: \"Lazio\",\n  LIG: \"Liguria\",\n  LOM: \"Lombardia\",\n  MAR: \"Marche\",\n  MOL: \"Molise\",\n  PAB: \"P.A. Bolzano\",\n  PAT: \"P.A. Trento\",\n  PIE: \"Piemonte\",\n  PUG: \"Puglia\",\n  SAR: \"Sardegna\",\n  SIC: \"Sicilia\",\n  TOS: \"Toscana\",\n  UMB: \"Umbria\",\n  VDA: \"Valle d'Aosta\",\n  VEN: \"Veneto\",\n};\nexport const areaMappingReverse = inverse(areaMapping);\n","import { sumDoseX, replaceArea } from \"./utils\";\nimport _ from \"lodash\";\nimport Moment from 'moment';\n\nconst baseURL = \"https://raw.githubusercontent.com/italia/covid19-opendata-vaccini/master/dati\";\n\nconst years                                 = [2020, 2021, 2022, 2023];\nconst sommVaxSummaryURL                     = `${baseURL}/somministrazioni-vaccini-summary-latest.json`;\nconst sommVaxDetailBaseURL                  = `${baseURL}/somministrazioni-vaccini-latest-`;\nconst vaxSummaryURL                         = `${baseURL}/vaccini-summary-latest.json`;\nconst vaxLocationsURL                       = `${baseURL}/punti-somministrazione-tipologia.json`;\nconst lastUpdateURL                         = `${baseURL}/last-update-dataset.json`;\nconst supplierDoses                         = `${baseURL}/consegne-vaccini-latest.json`;\nconst plateaURL                             = `${baseURL}/platea.json`;\nconst plateaDoseAddizionaleBoosterURL       = `${baseURL}/platea-dose-addizionale-booster.json`;\nconst plateaDoseSecondBoosterURL            = `${baseURL}/platea-second-booster.json`;\nconst plateaDoseThirdBoosterURL             = `${baseURL}/platea-3a-booster.json`;\nconst guaritiURL                            = `${baseURL}/soggetti-guariti.json`;\nconst coperturaURL                          = `${baseURL}/copertura-vaccinale.json`;\n\nconst elaborate = (data) => {\n    /* creazioni delle costanti relative alle sorgenti dei file */\n    const dataSommVaxSummary                = data?.dataSommVaxSummary?.data;\n    const dataSommVaxDetail                 = data?.dataSommVaxDetail?.data;\n    const dataVaxSummary                    = data?.dataVaxSummary?.data;\n    const dataCopertura                     = data?.dataCopertura?.data;\n    const dataPlatea                        = data?.dataPlatea?.data;\n    const dataGuariti                       = data?.dataGuariti?.data;\n    const dataSupplierDoses                 = data?.dataSupplierDoses?.data;\n    const dataVaxLocations                  = data?.dataVaxLocations?.data;\n    const dataPlateaDoseAddizionaleBooster  = data?.dataPlateaDoseAddizionaleBooster?.data;\n    const dataPlateaSecondBooster           = data?.dataPlateaSecondBooster?.data;\n    const dataPlateaThirdBooster            = data?.dataPlateaThirdBooster?.data;\n\n    /* array statico contenente le fasce d'età relative agli over 60 */\n    const fasciaOver60 = ['60-69', '70-79', '80+'];\n\n    /* array statico contenente tutte le fasce d'età */\n    const fasciaEta = ['0-4 ', '05-11', '12-19', '20-29', '30-39', '40-49', '50-59', '60-69', '70-79', '80+'];\n\n    /********************************************************************************\n     * ----------------------- DATA AGGIORNAMENTO REPORT ----------------------------\n     *******************************************************************************/\n\n    const timestamp = data.dataLastUpdate.ultimo_aggiornamento;\n\n\n    /********************************************************************************\n     * ------------------------- TOTALE SOMMINISTRAZIONI ----------------------------\n     *******************************************************************************/\n\n    const tot = dataSommVaxSummary?.filter((d) => d.area !== \"ITA\").reduce(sumDoseX(\"totale\"), 0);   \n\n    /********************************************************************************\n     * --------------------------- BOX DI RIEPILOGO DATI ----------------------------\n     *******************************************************************************/\n\n    /* creazione totalDoses, oggetto contenente la somma delle principali statistiche presenti in Databox.jsx */\n    let totalDoses = {\n        /* Copertura vaccinale covid-19 over 60 */\n        somministrazioni_over60:        _.sum(dataCopertura?.map((e) => fasciaOver60.includes(e?.fascia_anagrafica) ? e?.vaccinati : 0)), // totale somministrazioni\n        guarigioni_over60:              _.sum(dataCopertura?.map((e) => fasciaOver60.includes(e?.fascia_anagrafica) ? e?.guariti : 0)), // totale guarigioni\n        /* Ciclo Vaccinale Primario */\n        prima_dose:                     _.sum(dataSommVaxDetail?.map((e) => (e?.eta === '05-11' || e?.eta === '00-04') ? 0 : e?.d1)), // somma delle prime dosi esclusa la fascia anagrafica 05-11\n        pregressa_infezione:            _.sum(dataSommVaxDetail?.map((e) => (e?.eta === '05-11' || e?.eta === '00-04') ? 0 : e?.dpi)), // somma delle pregresse infezioni esclusa la fascia anagrafica 05-11\n        seconda_dose:                   _.sum(dataSommVaxDetail?.map((e) => (e?.eta === '05-11' || e?.eta === '00-04') ? 0 : e?.d2)), // somma delle seconde dosi esclusa la fascia anagrafica 05-11\n        prima_dose_janssen:             _.sum(dataSommVaxDetail?.filter((e) => e.forn === \"Janssen\" && e?.eta !== '05-11' && e?.eta !== '00-04').map((e) => e?.d1)), // somma delle somministrazioni a dose unica escluse le fasce anagrafiche 00-04 05-11\n        /* Somministrazione platea 00-04 anni */\n        prima_dose_infant:              _.sum(dataSommVaxDetail?.map((e) => e?.eta === '00-04' ? e?.d1 : 0)), // somma delle prime dosi per fascia anagrafica 00-04\n        seconda_dose_infant:            _.sum(dataSommVaxDetail?.map((e) => e?.eta === '00-04' ? e?.d2 : 0)), // somma delle seconde dosi per fascia anagrafica 00-04\n        pregressa_infezione_infant:     _.sum(dataSommVaxDetail?.map((e) => e?.eta === '00-04' ? e?.dpi : 0)), // somma delle pregresse infezioni per la fascia anagrafica 00-04\n        prima_dose_janssen_infant:      _.sum(dataSommVaxDetail?.filter((e) => e.forn === \"Janssen\" && e?.eta === '00-04').map((e) => e?.d1)), // somma delle somministrazioni a dose unica per la fascia anagrafica 00-04\n        /* Somministrazione platea 5-11 anni */\n        prima_dose_baby:                _.sum(dataSommVaxDetail?.map((e) => e?.eta === '05-11' ? e?.d1 : 0)), // somma delle prime dosi per fascia anagrafica 05-11\n        seconda_dose_baby:              _.sum(dataSommVaxDetail?.map((e) => e?.eta === '05-11' ? e?.d2 : 0)), // somma delle seconde dosi per fascia anagrafica 05-11\n        pregressa_infezione_baby:       _.sum(dataSommVaxDetail?.map((e) => e?.eta === '05-11' ? e?.dpi : 0)), // somma delle pregresse infezioni per la fascia anagrafica 05-11\n        prima_dose_janssen_baby:        _.sum(dataSommVaxDetail?.filter((e) => e.forn === \"Janssen\" && e?.eta === '05-11').map((e) => e?.d1)), // somma delle somministrazioni a dose unica per la fascia anagrafica 05-11\n        /* Dose Addizionale/Booster */\n        dose_addizionale_booster:       _.sum(dataSommVaxDetail?.map((e) => (e?.eta === '05-11' || e?.eta === '00-04') ? 0 : e?.db1)), // somma delle prime dosi booster per la fascia over 12\n        /* Seconda dose booster */\n        dose_second_booster:            _.sum(dataSommVaxDetail?.map((e) => (e?.eta === '05-11' || e?.eta === '00-04') ? 0 : e?.db2)), // somma delle seconde dosi booster per la fascia over 12\n        /* Terza dose booster */\n        dose_third_booster:             _.sum(dataSommVaxDetail?.map((e) => (e?.eta === '05-11' || e?.eta === '00-04') ? 0 : e?.db3)), // somma delle terze dosi booster per la fascia over 12\n        /* Dose Addizionale/Booster 05-15 */\n        dose_addizionale_booster_baby:  _.sum(dataSommVaxDetail?.map((e) => e?.eta === '05-11' ? e?.db1 : 0)), // somma delle prime dosi booster per la fascia 5-11\n    };\n\n    /* calcolo delle platee */\n    let totalPlatea                             = _.sum(dataPlatea?.map((e) => (e?.eta !== '05-11' && e?.eta !== '00-04') ? e?.totale_popolazione : 0)); // totale platea della popolazione over 12\n    let totalPlateaBaby                         = _.sum(dataPlatea?.map((e) => (e?.eta === '05-11') ? e?.totale_popolazione : 0)); // totale platea della popolazione 05-11\n    let totalPlateaInfant                       = _.sum(dataPlatea?.map((e) => (e?.eta === '00-04') ? e?.totale_popolazione : 0)); // totale platea della popolazione 00-04\n    let totalPlateaOver60                       = _.sum(dataPlatea?.map((e) => fasciaOver60.includes(e?.eta) ? e?.totale_popolazione : 0)); // platea della popolazione over 60\n    let totalPlateaDoseAddizionaleBooster       = _.sum(dataPlateaDoseAddizionaleBooster?.map((e) => (e?.categoria_prevalente !== '05-11' && e?.categoria_prevalente !== '00-04') ? e?.totale_popolazione : 0)); // totale platea dose booster\n    let totalPlateaDoseAddizionaleBoosterBaby   = _.sum(dataPlateaDoseAddizionaleBooster?.map((e) => e?.categoria_prevalente === '05-11' ? e?.totale_popolazione : 0)); // totale platea dose booster\n    let totalPlateaDoseSecondBooster            = _.sum(dataPlateaSecondBooster?.map((e) => e?.totale_popolazione)); // totale platea seconda dose booster\n    let totalPlateaDoseThirdBooster             = _.sum(dataPlateaThirdBooster?.map((e) => e?.totale_popolazione)); // totale platea terza dose booster\n\n    /* calcolo dei guariti usato nei box iniziali di riepilogo e in Platea Guariti. Si tratta esclusivamente dei guariti per età superiore a 11 anni */\n    let totalGuaritiNotBaby                 = _.sum(dataGuariti?.map((e) => (e?.eta !== '05-11' && e?.eta !== '00-04') ? e?.guariti_senza_somm : 0)); // totale dei guariti della popolazione over 12\n    let totalGuaritiDoppiaNotBaby           = _.sum(dataGuariti?.map((e) => (e?.eta !== '05-11' && e?.eta !== '00-04') ? e?.guariti_post_somm : 0)); // totale dei guariti dopo che hanno completato il ciclo vaccinale primario della popolazione over 12\n    let totalGuaritiBoosterNotBaby          = _.sum(dataGuariti?.map((e) => (e?.eta !== '05-11' && e?.eta !== '00-04') ? e?.guariti_post_1booster : 0)); // totale dei guariti dopo che hanno eseguito la dose booster della popolazione over 12\n    let totalGuaritiSecondBoosterNotBaby    = _.sum(dataGuariti?.map((e) => (e?.eta !== '05-11' && e?.eta !== '00-04') ? e?.guariti_post_2booster : 0)); // totale dei guariti dopo che hanno eseguito la seconda dose booster della popolazione over 12\n    \n    /* calcolo dei guariti senza somministrazioni della fascia 05-11 previsto nel box Somministrazione platea 5-11 anni */\n    let totalGuaritiBaby                    = _.sum(dataGuariti?.map((e) => e?.eta === '05-11' ? e?.guariti_senza_somm : 0)); // guariti senza somministrazioni per la fascia 05-11\n    let totalGuaritiDoppiaBaby              = _.sum(dataGuariti?.map((e) => e?.eta === '05-11' ? e?.guariti_post_somm : 0)); // totale dei guariti dopo che hanno completato il ciclo vaccinale primario della popolazione 05-11\n\n    /* calcolo dei guariti senza somministrazioni della fascia 00-04 previsto nel box Somministrazione platea 0-04 anni */\n    let totalGuaritiInfant                  = _.sum(dataGuariti?.map((e) => (e?.eta === '00-04') ? e?.guariti_senza_somm : 0)); // guariti senza somministrazioni per la fascia 00-04\n\n    let databoxContent = { // insieme di dati da passare al container\n        totalGuaritiNotBaby,\n        totalGuaritiDoppiaNotBaby,\n        totalGuaritiBoosterNotBaby,\n        totalGuaritiSecondBoosterNotBaby,\n        totalPlateaDoseAddizionaleBoosterBaby,\n        totalGuaritiDoppiaBaby,\n        totalGuaritiBaby,\n        totalGuaritiInfant,\n        totalPlatea,\n        totalPlateaBaby,\n        totalPlateaInfant,\n        totalPlateaDoseAddizionaleBooster,\n        totalPlateaDoseSecondBooster,\n        totalPlateaDoseThirdBooster,\n        totalPlateaOver60,\n    }\n\n     /********************************************************************************\n     * ----------------------- COPERTURA VACCINALE OVER 60 ---------------------------\n     * Istogramma + Mappa Italia\n     * Possibilità di click sulla regione (Mappa) o sulla fascia anagrafica (Istogramma)\n     *******************************************************************************/\n    let keyValueOver60 = { // oggetto contenente le label delle serie (la legenda)\n        \"guariti\"           : \"Guarigioni 120 gg\",\n        \"somministrazioni\"  : \"Somministrazioni 120 gg\",\n        \"totale\"            : \"Totale fascia\"\n    }\n    let keysOver60      = Object.keys(keyValueOver60); // array delle chiavi della serie\n    let over60          = Object.values(keyValueOver60); // array del nome delle serie (legenda)\n    let over60Color     = [\"#090d4d\", \"#244bb3\", \"#b6d5f4\" ]; // colori associati alle serie\n\n\n    // array con i valori da visualizzare nell'istogramma senza filtri.\n    let over60Data = _(dataCopertura).filter(e => fasciaOver60.includes(e.fascia_anagrafica)).groupBy(\"fascia_anagrafica\").map((items, rowAge) => { // raggruppo i valori in base alla fascia anagrafica\n        let keyAge = rowAge === '80+' ? 'Fascia over 80' : 'Fascia ' + rowAge; // keyAge è la fascia anagrafica, nel caso di 80+ non deve apparire 80+ ma over 80\n\n        let entryTmp = {\n            'guariti'           : _.sum(items.map(e => e.guariti)), // sommo i guariti per la fascia anagrafica corrente\n            'somministrazioni'  : _.sum(items.map(e => e.vaccinati)), // sommo le somministrazioni per la fascia anagrafica corrente\n            'totale'            : _.sum(dataPlatea.filter(e => e.eta === rowAge).map(e => e.totale_popolazione)) // totale platea per la fascia anagrafica\n        }\n\n        // siccome si tratta di un grafico a pile, devo calcolare lo scostamento con la serie precedente\n        return {\n            'label'             : keyAge,\n            'guariti'           : entryTmp['guariti'],\n            'somministrazioni'  : entryTmp['somministrazioni'] > entryTmp['guariti'] ? entryTmp['somministrazioni'] - entryTmp['guariti'] : 0,\n            'totale'            : entryTmp['totale'] > entryTmp['somministrazioni'] ? entryTmp['totale'] - entryTmp['somministrazioni'] : 0,\n        };\n    }).value().sort((a, b) => a.label < b.label ? 1 : -1); // ordino la lista dei guariti secondo la fascia anagrafica;\n\n    // array con i valori da visualizzare nella mappa (regione, totale percentuale) con e senza filtri\n    const over60MapData  = _(dataCopertura?.map(replaceArea)).filter(e => fasciaOver60.includes(e.fascia_anagrafica)).groupBy(\"code\").map((items, code) => { // raggruppo i valori in base alla regione\n        let entry = {\n            code        : code, // codice regione\n            area        : _.head(items)?.area, // nome esteso regione\n            totale      : _.sum(items.map(e => e.guariti + e.vaccinati))\n        }\n\n        let popolazione = _.sum(dataPlatea.filter(e => e.area === code && fasciaOver60.includes(e.eta)).map(e => e.totale_popolazione)) // totale platea per la fascia anagrafica over 60 nella regione corrente\n        entry['totale'] = entry['totale'] / popolazione * 100; // calcolo la percentuale del totale sulla platea\n\n        for (let rowAge of fasciaEta.filter(e => fasciaOver60.includes(e))) { // per tutte le fasce d'età over 60\n            let keyAge = rowAge === '80+' ? 'fascia_over_80' : 'fascia_' + rowAge;\n            entry[keyAge] = _.sum(items.filter(e => rowAge === e.fascia_anagrafica).map(e => e.guariti + e.vaccinati)); // sommo i guariti e i vaccinati della fascia anagrafica corrente in quella determinata regione\n            let popolazioneFascia = _.sum(dataPlatea.filter(e => e.area === code && e.eta === rowAge).map(e => e.totale_popolazione)); // calcolo la platea della fascia anagrafica corrente in quella determinata regione\n            entry[keyAge] = entry[keyAge] / popolazioneFascia * 100; // calcolo la percentuale\n        }\n        \n        return entry;\n    }).value();\n\n    // array con i valori da visualizzare nell'istogramma con il filtro regione attivo\n    const over60RegionData  = {};\n    _(dataCopertura?.map(replaceArea)).filter(e => fasciaOver60.includes(e.fascia_anagrafica)).groupBy(\"code\").map((items, code) => { // raggruppo i valori in base alla regione\n        over60RegionData[code] = _(items?.map(replaceArea)).groupBy(\"fascia_anagrafica\").map((subItems, rowAge) => { // raggruppo i valori in base all'età\n            let keyAge = rowAge === '80+' ? 'Fascia over 80' : 'Fascia ' + rowAge; // keyAge è la fascia anagrafica, nel caso di 80+ non deve apparire 80+ ma over 80\n\n            let entryTmp = {\n                'guariti'           : _.sum(subItems.map(e => e.guariti)), // sommo i guariti\n                'somministrazioni'  : _.sum(subItems.map(e => e.vaccinati)), // sommo le somministrazioni\n                'totale'            : _.sum(dataPlatea.filter(e => e.eta === rowAge && e.area === code).map(e => e.totale_popolazione)) // totale platea per la fascia anagrafica corrente e la regione corrente\n            }\n\n            // siccome si tratta di un grafico a pile, devo calcolare lo scostamento con la serie precedente\n            return {\n                'label'             : keyAge,\n                'guariti'           : entryTmp['guariti'],\n                'somministrazioni'  : entryTmp['somministrazioni'] > entryTmp['guariti'] ? entryTmp['somministrazioni'] - entryTmp['guariti'] : 0,\n                'totale'            : entryTmp['totale'] > entryTmp['somministrazioni'] ? entryTmp['totale'] - entryTmp['somministrazioni'] : 0\n            };\n        }).value().sort((a, b) => a.label < b.label ? 1 : -1); // ordino la lista secondo la fascia anagrafica;\n        return items;\n    }).value();\n\n    let over60Content = { // insieme di dati da passare al container\n        over60,\n        keyValueOver60,\n        keysOver60,\n        over60Color,\n        over60Data,\n        over60RegionData,\n        over60MapData,\n    }\n\n    /********************************************************************************\n     * ---------- DISTRIBUZIONE SOMMINISTRAZIONI RISPETTO ALLE CONSEGNE -------------\n     * Tabella + Mappa Italia\n     * Possibilità di click sulla regione (Mappa)\n     *******************************************************************************/\n\n    const deliverySummary       = dataVaxSummary?.map(replaceArea);\n    const deliveredByArea       = _.groupBy(deliverySummary, \"code\");\n    /* Array di oggetti JSON aventi code, area, dosi_consegnate, dosi_somministrate e percentuale_somministrazione */\n    const totalDeliverySummary  = _(dataSommVaxDetail?.map(replaceArea)).groupBy(\"code\").map((items, code) => { // raggruppo i valori in base alla regione\n        const details = _.head(deliveredByArea[code]);\n        return {\n            code                            : code, // codice regione\n            area                            : _.head(items)?.area, // nome esteso regione\n            dosi_consegnate                 : details.dosi_consegnate || 0, // dosi consegnate\n            dosi_somministrate              : details.dosi_somministrate || 0, // dosi somministrate\n            percentuale_somministrazione    : details.percentuale_somministrazione || 0, // percentuale somministrazioni rispetto alle consegnate\n        };\n    }).value();\n\n    /********************************************************************************\n     * --------------------------- GRAFICO PLATEA GUARITI ---------------------------\n     * Istogramma a pile + Mappa Italia\n     * Possibilità di click sulla regione (Mappa) o sulla fascia anagrafica (Istogramma)\n     *******************************************************************************/ \n\n    /* totale di tutti i guariti, usato nel box del totale nella sezione Platea Guariti */\n    let totalGuaritiHealedSection           = _.sum(dataGuariti?.map((e) => e?.guariti_senza_somm + e?.guariti_post_somm + e?.guariti_post_1booster + e?.guariti_post_2booster));\n\n    let keyValueHealed  = { // oggetto contenente le label delle serie (la legenda)\n        \"senza\"     : \"Guariti senza somministrazione da al massimo 6 mesi\",\n        \"post\"      : \"Guariti post 2ª dose/unica dose da al massimo 4 mesi\",\n        \"booster\"   : \"Guariti post 1ª dose booster da al massimo 6 mesi\",\n        \"2booster\"  : \"Guariti post 2ª dose booster da al massimo 6 mesi\"\n    }\n    let keysHealed      = Object.keys(keyValueHealed); // array delle chiavi della serie\n    let healed          = Object.values(keyValueHealed); // array del nome delle serie (legenda)\n    let healedColor     = [\"#b6d5f4\", \"#0a5dbb\", \"#244bb3\", \"#090d4d\" ]; // colori associati alle serie\n\n    // array con i valori da visualizzare nell'istogramma senza filtri.\n    let healedData = _(dataGuariti).groupBy(\"eta\").map((items, rowAge) => { // raggruppo i valori in base alla fascia anagrafica\n        let keyAge = 'Fascia ' + rowAge; // keyAge è la fascia anagrafica, nel caso di 80+ non deve apparire 80+ ma over 80, nel caso 00-04 0-4\n        if (rowAge === '80+') {\n            keyAge = 'Fascia over 80';\n        }\n        if (rowAge === '00-04') {\n            keyAge = 'Fascia 0-4';\n        }\n         \n        let entryTmp = {\n            'senza'         : _.sum(items.map(e => e.guariti_senza_somm)), // sommo i guariti senza somministrazioni per la fascia anagrafica corrente\n            'post'          : _.sum(items.map(e => e.guariti_post_somm)), // sommo i guariti dopo aver completato il ciclo vaccinale per la fascia anagrafica corrent\n            'booster'       : _.sum(items.map(e => e.guariti_post_1booster)), // sommo i guariti dopo la prima dose booster per la fascia anagrafica corrent\n            '2booster'      : _.sum(items.map(e => e.guariti_post_2booster)) // sommo i guariti dopo la seconda dose booster per la fascia anagrafica corrente\n        }\n\n        // siccome si tratta di un grafico a pile, devo calcolare lo scostamento con la serie precedente\n        return {\n            'label'         : keyAge,\n            'senza'         : entryTmp['senza'],\n            'post'          : entryTmp['post'] > entryTmp['senza'] ? entryTmp['post'] - entryTmp['senza'] : 0,\n            'booster'       : entryTmp['booster'] > entryTmp['post'] ? entryTmp['booster'] - entryTmp['post'] : 0,\n            '2booster'      : entryTmp['2booster'] > entryTmp['booster'] ? entryTmp['2booster'] - entryTmp['booster'] : 0,\n            'Totale'        : entryTmp['senza'] + entryTmp['post'] + entryTmp['booster'] + entryTmp['2booster'] // somma di tutti i guariti\n        };\n    }).value().sort((a, b) => a.label < b.label ? 1 : -1); // ordino la lista dei guariti secondo la fascia anagrafica;\n\n    // array con i valori da visualizzare nella mappa (regione, totole guariti e totale guariti per fascia anagrafica) con e senza filtri\n    const healedMapData  = _(dataGuariti?.map(replaceArea)).groupBy(\"code\").map((items, code) => { // raggruppo i valori in base alla regione\n        let entry = {\n            code        : code, // codice regione\n            area        : _.head(items)?.area, // nome esteso regione\n            guariti     : _.sum(items.map(e => e.guariti_senza_somm + e.guariti_post_somm + e.guariti_post_1booster + e.guariti_post_2booster)) // sommo tutti i guariti della regione\n        }\n\n        for (let rowAge of fasciaEta) { // per tutte le fasce d'età over 60\n            let keyAge      = rowAge === '80+' ? 'fascia_over_80' : 'fascia_' + rowAge;\n            entry[keyAge]   = _.sum(items.filter(e => rowAge === e.eta).map(e => e.guariti_senza_somm + e.guariti_post_somm + e.guariti_post_1booster + e.guariti_post_2booster)); // sommo i guariti di ogni fascia anagrafica in quella determinata regione\n        }\n        \n        return entry;\n    }).value();\n\n    // array con i valori da visualizzare nell'istogramma con il filtro regione attivo\n    const healedRegionData  = {};\n    _(dataGuariti?.map(replaceArea)).groupBy(\"code\").map((items, code) => { // raggruppo i valori in base alla regione\n        healedRegionData[code] = _(items?.map(replaceArea)).groupBy(\"eta\").map((subItems, rowAge) => { // raggruppo i valori in base all'età\n            let keyAge = 'Fascia ' + rowAge; // keyAge è la fascia anagrafica, nel caso di 80+ non deve apparire 80+ ma over 80, nel caso 00-04 0-4\n            if (rowAge === '80+') {\n                keyAge = 'Fascia over 80';\n            }\n            if (rowAge === '00-04') {\n                keyAge = 'Fascia 0-4';\n            }\n\n            let entryTmp = {\n                'senza'         : _.sum(subItems.map(e => e.guariti_senza_somm)), // sommo i guariti senza somministrazioni per la fascia anagrafica corrente\n                'post'          : _.sum(subItems.map(e => e.guariti_post_somm)), // sommo i guariti dopo aver completato il ciclo vaccinale per la fascia anagrafica corrent\n                'booster'       : _.sum(subItems.map(e => e.guariti_post_1booster)), // sommo i guariti dopo la prima dose booster per la fascia anagrafica corrent\n                '2booster'      : _.sum(subItems.map(e => e.guariti_post_2booster)) // sommo i guariti dopo la seconda dose booster per la fascia anagrafica corrente\n            }\n\n            // siccome si tratta di un grafico a pile, devo calcolare lo scostamento con la serie precedente\n            return {\n                'label'         : keyAge,\n                'senza'         : entryTmp['senza'],\n                'post'          : entryTmp['post'] > entryTmp['senza'] ? entryTmp['post'] - entryTmp['senza'] : 0,\n                'booster'       : entryTmp['booster'] > entryTmp['post'] ? entryTmp['booster'] - entryTmp['post'] : 0,\n                '2booster'      : entryTmp['2booster'] > entryTmp['booster'] ? entryTmp['2booster'] - entryTmp['booster'] : 0,\n                'Totale'        : entryTmp['senza'] + entryTmp['post'] + entryTmp['booster'] + entryTmp['2booster'] // somma di tutti i guariti\n            };\n        }).value().sort((a, b) => a.label < b.label ? 1 : -1); // ordino la lista dei guariti secondo la fascia anagrafica;\n        return items;\n    }).value();\n\n    let healedContent = { // insieme di dati da passare al container\n        totalGuaritiHealedSection,\n        healed,\n        keyValueHealed,\n        keysHealed,\n        healedColor,\n        healedData,\n        healedRegionData,\n        healedMapData\n    }\n\n\n    /********************************************************************************\n     * ----------- GRAFICO ANDAMENTO SETTIMANALE DELLE SOMMINISTRAZIONI -------------\n     * Istogramma a pile\n     *******************************************************************************/ \n\n    let spectrum = [\"#0f69c9\", \"#4d99eb\", \"#77b2f2\", \"#b5d4f5\", \"#d1e0f0\", \"#edf2f7\", \"#ffffff\"]; // sono presenti più colori del necessario per gestire eventuali nuovi fornitori\n    let suppliersColor = {}; // colori associati alle serie\n    let suppliers = []; // lista dinamica dei fornitori di vaccini\n\n    for (let row of data.dataSommVaxDetail.data) { // aggiungo i fornitori evitando duplicazioni\n        if (!suppliers.includes(row.forn)) {\n            suppliers.push(row.forn);\n        }\n    }\n\n    // sposto Pfizer Pediatrico in ultima posizione, rimuovendono dalla lista ed inserendolo in coda\n    var indexOfPediatrico = suppliers.indexOf('Pfizer Pediatrico');\n    if (indexOfPediatrico !== -1) {\n        suppliers.splice(indexOfPediatrico, 1);\n        suppliers.push('Pfizer Pediatrico');\n    }\n\n    // assegno i colori ai fornitori\n    for (let rowFornitore of suppliers) {\n        if ((Object.keys(suppliersColor).length - 1) < spectrum.length) {\n            suppliersColor[rowFornitore] = spectrum[Object.keys(suppliersColor).length];\n        }\n        else {\n            suppliersColor[rowFornitore] = \"#ffffff\";\n        }\n    }\n\n    // calcolo le diverse settimane partire dal 21/12/2020\n    let weeksMappingOptimation = {};\n    var index = 0; // indice della settimana a partire dal 21/12/2020\n\n    let suppliersWeek = [];\n    var date = new Date('2020-12-21'); // data di partenza delle somministrazioni che cambierò ad ogni iterazione\n    do {\n        let entry = {\n            label: Moment(date).format('DD/MM'), // giorno e mese del lunedi della settimana\n            from: Moment(date).format('YYYY-MM-DD'), // data di inizio settimana\n            labelfrom: Moment(date).format('DD/MM'), // etichetta inizio settimana\n            to: Moment(new Date(date.getTime() + 6 * 86400000)).format('YYYY-MM-DD'), // data fine settimana\n            labelto: Moment(new Date(date.getTime() + 6 * 86400000)).format('DD/MM'), // etichetta fine settimana\n            total: 0 // somministrazioni nella settimana\n        };\n\n        for (let supplier of suppliers) {\n            entry[supplier] = 0; // somministrazioni del fornitore nella settimana inizializzato a zero\n        }\n\n        // definisco ogni giorno in quale settimana si trova\n        weeksMappingOptimation[Moment(date).format('YYYY-MM-DD')] = index;\n        weeksMappingOptimation[Moment(new Date(date.getTime() + 1 * 86400000)).format('YYYY-MM-DD')] = index;\n        weeksMappingOptimation[Moment(new Date(date.getTime() + 2 * 86400000)).format('YYYY-MM-DD')] = index;\n        weeksMappingOptimation[Moment(new Date(date.getTime() + 3 * 86400000)).format('YYYY-MM-DD')] = index;\n        weeksMappingOptimation[Moment(new Date(date.getTime() + 4 * 86400000)).format('YYYY-MM-DD')] = index;\n        weeksMappingOptimation[Moment(new Date(date.getTime() + 5 * 86400000)).format('YYYY-MM-DD')] = index;\n        weeksMappingOptimation[Moment(new Date(date.getTime() + 6 * 86400000)).format('YYYY-MM-DD')] = index;\n        index++;\n\n        suppliersWeek.push(entry);\n\n        date = new Date(date.getTime() + 7 * 86400000); // aggiungo 7 gorni\n    } while(date <= new Date());\n\n    // aggiorno i totali per ogni fornitore e per l'intera settimana\n    for (let row of data.dataSommVaxDetail.data) { // per ogni valore presente nel JSON\n        let index = weeksMappingOptimation[Moment(new Date(row.data)).format('YYYY-MM-DD')]; // ottengo l'indice di quale settimana fa parte il giorno corrente\n        let week = suppliersWeek[index];\n\n        // Totale Somministrazioni Settimanale ottenuto sommando le somministrazioni di maschi e femmine\n        week.total += (row.f + row.m );\n\n        // Totale Somministrazioni Settimanale per fornitore sommando le somministrazioni di maschi e femmine\n        week[row.forn] += (row.f + row.m );\n    }\n\n    let weekContent = { // insieme di dati da passare al container\n        suppliersColor,\n        suppliers,\n        suppliersWeek\n    }\n\n    /********************************************************************************\n     * --------------- SOMMINISTRAZIONI PER FASCIA D'ETA' - DOSE --------------------\n     * Istogramma + Mappa Italia\n     * Possibilità di click sulla regione (Mappa) o sulla fascia anagrafica (Istogramma)\n     *******************************************************************************/\n    let keyValueDoses = { // oggetto contenente le label delle serie (la legenda)\n        \"third_booster\": \"3ª dose Booster \",\n        \"second_booster\": \"2ª dose Booster \",\n        \"addizionale\": \"1ª dose Booster\",\n        \"seconda\": \"2ª dose/unica dose\",\n        \"prima\": \"1ª dose\",\n        \"totale\": \"Totale fascia\"\n    }\n    let keysDosesAges      = Object.keys(keyValueDoses); // array delle chiavi della serie\n    let dosesAges          = Object.values(keyValueDoses); // array del nome delle serie (legenda)\n    let dosesAgesColor     = [\"#090d4d\", \"#0b34a3\", \"#244bb3\", \"#0a5dbb\", \"#3073cf\", \"#548bd6\", \"#b6d5f4\"]; // colori associati alle serie\n\n\n    // array con i valori da visualizzare nell'istogramma senza filtri.\n    let dosesAgesData = _(dataSommVaxDetail).map(e => { // poichè solo in questo file è prevista la fascia 90+ e 80-89, sostituisco 90+ e 80-89 con 80+\n            if (e.eta === '90+' || e.eta === '80-89') {\n                e.eta = '80+';\n            }\n            return e;\n        }).groupBy(\"eta\").map((items, rowAge) => { // raggruppo i valori in base alla fascia anagrafica\n\n        let keyAge = 'Fascia ' + rowAge; // keyAge è la fascia anagrafica, nel caso di 80+ non deve apparire 80+ ma over 80, nel caso 00-04 0-4\n        if (rowAge === '80+') {\n            keyAge = 'Fascia over 80';\n        }\n        if (rowAge === '00-04') {\n            keyAge = 'Fascia 0-4';\n        }\n\n        let entryTmp = {\n            'prima'                 : _.sum(items.filter(e => e.forn !== 'Janssen').map(e => e.d1)), // sommo tutte le prime dosi per vaccini diversi da Janssen\n            'seconda'               : _.sum(items.filter(e => e.forn !== 'Janssen').map(e => e.d2)) + _.sum(items.filter(e => e.forn === 'Janssen').map(e => e.d1)) + _.sum(items.map(e => e.dpi)), // sommo le prime dosi Janssen, le seconde dosi non Janssen e le pregresse infezioni\n            'addizionale'           : _.sum(items.map(e => e.db1)), // sommo le dosi addizionali\n            'second_booster'        : _.sum(items.map(e => e.db2)), // sommo le seconde dosi booster\n            'third_booster'         : _.sum(items.map(e => e.db3)), // sommo le terze dosi booster,\n            'Totale platea'         : _.sum(dataPlatea.filter(e => e.eta === rowAge).map(e => e.totale_popolazione)) // totale platea per la fascia anagrafica corrente\n        }\n\n        // siccome si tratta di un grafico a pile, devo calcolare lo scostamento con la serie precedente\n        return {\n            'label'                 : keyAge,\n            'third_booster'         : entryTmp['third_booster'],\n            'second_booster'        : entryTmp['second_booster'] > entryTmp['third_booster'] ? entryTmp['second_booster'] - entryTmp['third_booster'] : 0,\n            'addizionale'           : entryTmp['addizionale'] > entryTmp['second_booster'] ? entryTmp['addizionale'] - entryTmp['second_booster'] : 0,\n            'seconda'               : entryTmp['seconda'] > entryTmp['addizionale'] ? entryTmp['seconda'] - entryTmp['addizionale'] : 0,\n            'prima'                 : entryTmp['prima'] > entryTmp['seconda'] ? entryTmp['prima'] - entryTmp['seconda'] : 0,\n            'totale'                : entryTmp['Totale platea'] > entryTmp['prima'] ? entryTmp['Totale platea'] - entryTmp['prima'] : 0,\n            'Totale platea'         : entryTmp['Totale platea'],\n        };\n    }).value().sort((a, b) => a.label < b.label ? 1 : -1); // ordino la lista dei guariti secondo la fascia anagrafica;\n\n\n    // array con i valori da visualizzare nella mappa (regione, totale percentuale) con e senza filtri\n    const secondDosesMapData  = _(dataSommVaxDetail?.map(replaceArea)).map(e => { // poichè solo in questo file è prevista la fascia 90+ e 80-89, sostituisco 90+ e 80-89 con 80+\n            if (e.eta === '90+' || e.eta === '80-89') {\n                e.eta = '80+';\n            }\n            return e;\n        }).groupBy(\"code\").map((items, code) => { // raggruppo i valori in base alla regione\n        let entry = {\n            code                : code, // codice regione\n            area                : _.head(items)?.area, // nome esteso regione\n            somministrazioni    : _.sum(items.filter(e => e.forn !== 'Janssen').map(e => e.d2)) + _.sum(items.filter(e => e.forn === 'Janssen').map(e => e.d1)) + _.sum(items.map(e => e.dpi)) // sommo solo chi ha completato il ciclo vaccinale\n        }\n\n        let popolazione = _.sum(dataPlatea.filter(e => e.area === code).map(e => e.totale_popolazione)) // totale platea nella regione corrente        \n        entry['somministrazioni'] = entry['somministrazioni'] / popolazione * 100; // calcolo la percentuale del totale sulla platea\n\n        for (let rowAge of fasciaEta) { // per tutte le fasce d'età\n            let keyAge = rowAge === '80+' ? 'fascia_over_80' : 'fascia_' + rowAge;\n            entry[keyAge]   = _.sum(items.filter(e => rowAge === e.eta && e.forn !== 'Janssen').map(e => e.d2)) + _.sum(items.filter(e => rowAge === e.eta && e.forn === 'Janssen').map(e => e.d1)) + _.sum(items.filter(e => rowAge === e.eta).map(e => e.dpi)); // sommo chi ha completato il ciclo vaccinale di quella fascia anagrafica\n            let popolazioneFascia = _.sum(dataPlatea.filter(e => e.area === code && e.eta === rowAge).map(e => e.totale_popolazione)); // calcolo la platea della fascia anagrafica corrente in quella determinata regione\n            entry[keyAge] = entry[keyAge] / popolazioneFascia * 100; // calcolo la percentuale\n        }\n        \n        return entry;\n    }).value();\n\n    // array con i valori da visualizzare nell'istogramma con il filtro regione attivo\n    const dosesAgesRegionData  = {};\n    _(dataSommVaxDetail?.map(replaceArea)).map(e => { // poichè solo in questo file è prevista la fascia 90+ e 80-89, sostituisco 90+ e 80-89 con 80+\n        if (e.eta === '90+' || e.eta === '80-89') {\n            e.eta = '80+';\n        }\n        return e;\n    }).groupBy(\"code\").map((items, code) => { // raggruppo i valori in base alla regione\n        dosesAgesRegionData[code] = _(items?.map(replaceArea)).groupBy(\"eta\").map((subItems, rowAge) => { // raggruppo i valori in base all'età\n            let keyAge = 'Fascia ' + rowAge; // keyAge è la fascia anagrafica, nel caso di 80+ non deve apparire 80+ ma over 80, nel caso 00-04 0-4\n            if (rowAge === '80+') {\n                keyAge = 'Fascia over 80';\n            }\n            if (rowAge === '00-04') {\n                keyAge = 'Fascia 0-4';\n            }\n            \n            let entryTmp = {\n                'prima'                 : _.sum(subItems.filter(e => e.forn !== 'Janssen').map(e => e.d1)), // sommo tutte le prime dosi per vaccini diversi da Janssen\n                'seconda'               : _.sum(subItems.filter(e => e.forn !== 'Janssen').map(e => e.d2)) + _.sum(subItems.filter(e => e.forn === 'Janssen' && e.area === code).map(e => e.d1)) + _.sum(subItems.filter(e => e.area === code).map(e => e.dpi)), // sommo le prime dosi Janssen, le seconde dosi non Janssen e le pregresse infezioni\n                'addizionale'           : _.sum(subItems.map(e => e.db1)), // sommo le dosi addizionali\n                'second_booster'        : _.sum(subItems.map(e => e.db2)), // sommo le seconde dosi booster\n                'third_booster'         : _.sum(subItems.map(e => e.db3)), // sommo le terze dosi booster,\n                'Totale platea'         : _.sum(dataPlatea.filter(e => e.eta === rowAge && e.area === code).map(e => e.totale_popolazione)) // totale platea per la fascia anagrafica corrente\n            }\n\n            // siccome si tratta di un grafico a pile, devo calcolare lo scostamento con la serie precedente\n            return {\n                'label'                 : keyAge,\n                'third_booster'         : entryTmp['third_booster'],\n                'second_booster'        : entryTmp['second_booster'] > entryTmp['third_booster'] ? entryTmp['second_booster'] - entryTmp['third_booster'] : 0,\n                'addizionale'           : entryTmp['addizionale'] > entryTmp['second_booster'] ? entryTmp['addizionale'] - entryTmp['second_booster'] : 0,\n                'seconda'               : entryTmp['seconda'] > entryTmp['addizionale'] ? entryTmp['seconda'] - entryTmp['addizionale'] : 0,\n                'prima'                 : entryTmp['prima'] > entryTmp['seconda'] ? entryTmp['prima'] - entryTmp['seconda'] : 0,\n                'totale'                : entryTmp['Totale platea'] > entryTmp['prima'] ? entryTmp['Totale platea'] - entryTmp['prima'] : 0,\n                'Totale platea'         : entryTmp['Totale platea'],\n            };\n        }).value().sort((a, b) => a.label < b.label ? 1 : -1); // ordino la lista secondo la fascia anagrafica;\n        return items;\n    }).value();\n\n    let agedosesContent = { // insieme di dati da passare al container\n        keyValueDoses,\n        keysDosesAges,\n        dosesAges,\n        dosesAgesColor,\n        dosesAgesData,\n        dosesAgesRegionData,\n        secondDosesMapData  \n    }\n\n    /********************************************************************************\n     * ------------------- DISTRIBUZIONE VACCINI PER FORNITORE ----------------------\n     * Istogramma\n     * Possibilità di click sulle barre\n     *******************************************************************************/ \n\n    let totalSuplier        = _.sum(dataSupplierDoses.map((e) => e?.numero_dosi)); // calcolo numero totale di vaccini distribuiti\n    const groups            = _.groupBy(dataSupplierDoses, \"forn\"); // raggruppo la distribuzione dei vaccini per fornitore\n    let allDosesSupplier    = Object.keys(groups).map((k) => { // per ogni fornitore raggruppato effettuo la somma dei vaccini distribuiti\n        let groupByKey      = groups[k].map((group) => group.numero_dosi);\n        let sumTotalDoses   = _.sum(groupByKey);\n        return { totale: sumTotalDoses, fornitore: k, allDoses: groups[k] };\n    }).sort((a, b) => a.totale < b.totale ? 1 : -1); // ordino la lista dei fornitori secondo le quantità fornite in ordine decrescente\n\n    /********************************************************************************\n     * ---------- PRINCIPALI PUNTI DI SOMMINISTRAZIONE PER REGIONE ------------------\n     * Tabella + Mappa Italia\n     * Possibilità di click sulla tabella\n     *******************************************************************************/ \n\n    const locations         = dataVaxLocations?.map(replaceArea); // dati per la tabella .map(replaceArea) sostituisce la sigla della regione con il nome completo\n    // array con i valori da visualizzare nella mappa\n    const locationsByRegion = _(dataVaxLocations?.map(replaceArea)).groupBy(\"area\").map((items, area) => { // raggruppo i valori in base alla regione\n        return { area: area, locations: items.length }; // locations è il numero di punti di somministrazione per quella regione (numero che appare al click sulla regione)\n    }).value();\n\n    /********************************************************************************\n     * ------------------------------ FINE CALCOLI ----------------------------------\n     * Restituzione dei dati da rendere disponibili all'esterno\n     *******************************************************************************/\n\n    const aggr = {\n        timestamp,\n        tot,\n        databoxContent,\n        over60Content,\n        healedContent,\n        weekContent,\n        agedosesContent,\n        deliverySummary,\n        locations,\n        locationsByRegion,\n        totalDeliverySummary,\n        totalDoses,\n        allDosesSupplier,\n        totalSuplier,  \n    };\n    return aggr;\n};\n\n\n/********************************************************************************\n * ---------------------- LETTURA DATI DA SORGENTI JSON -------------------------\n * Istogramma\n * Possibilità di click sulle barre\n *******************************************************************************/ \n\nexport const loadData = async () => {\n    const [\n        resSommVaxSummary,\n        resVaxSummary,\n        resVaxLocations,\n        resLastUpdate,\n        resSupplierDoses,\n        resPlatea,\n        resPlateaDoseAddizionaleBooster,\n        resPlateaDoseSecondBooster,\n        resPlateaDoseThirdBooster,\n        resGuariti,\n        resCopertura\n    ] = await Promise.all([\n        fetch(sommVaxSummaryURL),\n        fetch(vaxSummaryURL),\n        fetch(vaxLocationsURL),\n        fetch(lastUpdateURL),\n        fetch(supplierDoses),\n        fetch(plateaURL),\n        fetch(plateaDoseAddizionaleBoosterURL),\n        fetch(plateaDoseSecondBoosterURL),\n        fetch(plateaDoseThirdBoosterURL),\n        fetch(guaritiURL),\n        fetch(coperturaURL)\n    ]);\n\n    const arrayLatestURL = [];\n    for(var i = 0; i < years.length; i++) {\n        arrayLatestURL.push(fetch(sommVaxDetailBaseURL + years[i] + '.json'));\n    }\n    const arrayLatestRes = await Promise.all(arrayLatestURL);\n\n    const [\n        dataSommVaxSummary,\n        dataVaxSummary,\n        dataVaxLocations,\n        dataLastUpdate,\n        dataSupplierDoses,\n        dataPlatea,\n        dataPlateaDoseAddizionaleBooster,\n        dataPlateaSecondBooster,\n        dataPlateaThirdBooster,\n        dataGuariti,\n        dataCopertura\n    ] = await Promise.all([\n        resSommVaxSummary.json(),\n        resVaxSummary.json(),\n        resVaxLocations.json(),\n        resLastUpdate.json(),\n        resSupplierDoses.json(),\n        resPlatea.json(),\n        resPlateaDoseAddizionaleBooster.json(),\n        resPlateaDoseSecondBooster.json(),\n        resPlateaDoseThirdBooster.json(),\n        resGuariti.json(),\n        resCopertura.json()\n    ]);\n\n    const arrayLatestJson = [];\n    for(i = 0; i < arrayLatestRes.length; i++) {\n        arrayLatestJson.push(arrayLatestRes[i].json());\n    }\n    const arrayLatestData = await Promise.all(arrayLatestJson);\n\n    const dataSommVaxDetail = arrayLatestData[0];\n    for(i = 0; i < arrayLatestData.length; i++) {\n        dataSommVaxDetail.data = [...dataSommVaxDetail.data, ...arrayLatestData[i].data];\n    }\n\n    return {\n        ...elaborate({\n            dataSommVaxSummary,\n            dataSommVaxDetail,\n            dataVaxSummary,\n            dataLastUpdate,\n            dataVaxLocations,\n            dataSupplierDoses,\n            dataPlatea,\n            dataPlateaDoseAddizionaleBooster,\n            dataPlateaSecondBooster,\n            dataPlateaThirdBooster,\n            dataGuariti,\n            dataCopertura\n        })\n    };\n};\n","/* eslint-disable */\nimport * as jQuery from \"jquery\";\n\n(function() {\n \n    /*\n     * Natural Sort algorithm for Javascript - Version 0.7 - Released under MIT license\n     * Author: Jim Palmer (based on chunking idea from Dave Koelle)\n     * Contributors: Mike Grier (mgrier.com), Clint Priest, Kyle Adams, guillermo\n     * See: http://js-naturalsort.googlecode.com/svn/trunk/naturalSort.js\n     */\n    function naturalSort (a, b, html) {\n        var re = /(^-?[0-9]+(\\.?[0-9]*)[df]?e?[0-9]?%?$|^0x[0-9a-f]+$|[0-9]+)/gi,\n            sre = /(^[ ]*|[ ]*$)/g,\n            dre = /(^([\\w ]+,?[\\w ]+)?[\\w ]+,?[\\w ]+\\d+:\\d+(:\\d+)?[\\w ]?|^\\d{1,4}[\\/\\-]\\d{1,4}[\\/\\-]\\d{1,4}|^\\w+, \\w+ \\d+, \\d{4})/,\n            hre = /^0x[0-9a-f]+$/i,\n            ore = /^0/,\n            htmre = /(<([^>]+)>)/ig,\n            // convert all to strings and trim()\n            x = a.toString().replace(sre, '') || '',\n            y = b.toString().replace(sre, '') || '';\n            // remove html from strings if desired\n            if (!html) {\n                x = x.replace(htmre, '');\n                y = y.replace(htmre, '');\n            }\n            // chunk/tokenize\n        var xN = x.replace(re, '\\0$1\\0').replace(/\\0$/,'').replace(/^\\0/,'').split('\\0'),\n            yN = y.replace(re, '\\0$1\\0').replace(/\\0$/,'').replace(/^\\0/,'').split('\\0'),\n            // numeric, hex or date detection\n            xD = parseInt(x.match(hre), 10) || (xN.length !== 1 && x.match(dre) && Date.parse(x)),\n            yD = parseInt(y.match(hre), 10) || xD && y.match(dre) && Date.parse(y) || null;\n     \n        // first try and sort Hex codes or Dates\n        if (yD) {\n            if ( xD < yD ) {\n                return -1;\n            }\n            else if ( xD > yD ) {\n                return 1;\n            }\n        }\n     \n        // natural sorting through split numeric strings and default strings\n        for(var cLoc=0, numS=Math.max(xN.length, yN.length); cLoc < numS; cLoc++) {\n            // find floats not starting with '0', string or 0 if not defined (Clint Priest)\n            var oFxNcL = !(xN[cLoc] || '').match(ore) && parseFloat(xN[cLoc], 10) || xN[cLoc] || 0;\n            var oFyNcL = !(yN[cLoc] || '').match(ore) && parseFloat(yN[cLoc], 10) || yN[cLoc] || 0;\n            // handle numeric vs string comparison - number < string - (Kyle Adams)\n            if (isNaN(oFxNcL) !== isNaN(oFyNcL)) {\n                return (isNaN(oFxNcL)) ? 1 : -1;\n            }\n            // rely on string comparison if different types - i.e. '02' < 2 != '02' < '2'\n            else if (typeof oFxNcL !== typeof oFyNcL) {\n                oFxNcL += '';\n                oFyNcL += '';\n            }\n            if (oFxNcL < oFyNcL) {\n                return -1;\n            }\n            if (oFxNcL > oFyNcL) {\n                return 1;\n            }\n        }\n        return 0;\n    }\n     \n    jQuery.extend( jQuery.fn.dataTableExt.oSort, {\n        \"natural-asc\": function ( a, b ) {\n            return naturalSort(a,b,true);\n        },\n     \n        \"natural-desc\": function ( a, b ) {\n            return naturalSort(a,b,true) * -1;\n        },\n     \n        \"natural-nohtml-asc\": function( a, b ) {\n            return naturalSort(a,b,false);\n        },\n     \n        \"natural-nohtml-desc\": function( a, b ) {\n            return naturalSort(a,b,false) * -1;\n        },\n     \n        \"natural-ci-asc\": function( a, b ) {\n            a = a.toString().toLowerCase();\n            b = b.toString().toLowerCase();\n     \n            return naturalSort(a,b,true);\n        },\n     \n        \"natural-ci-desc\": function( a, b ) {\n            a = a.toString().toLowerCase();\n            b = b.toString().toLowerCase();\n     \n            return naturalSort(a,b,true) * -1;\n        }\n    } );\n     \n    }());","import { React, useEffect } from \"react\";\nimport * as $ from \"jquery\";\nimport DataTable from \"datatables.net\";\nimport \"../naturalSortAlgorithm\";\n\n\n$.DataTable = DataTable;\nconst columns = [\n  { title: \"Regioni\", data: \"area\" },\n  { title: \"Dosi somministrate\", data: \"dosi_somministrate\" },\n  { title: \"Dosi consegnate\", data: \"dosi_consegnate\" },\n  { title: \"%\", data: \"percentuale_somministrazione\" },\n];\n\nexport const Table = ({ deliveryTableData }) => {\n\n  // Add footer elements\n  useEffect(() => {\n    $(\"#datatable\").find(\"tfoot\")\n    $(\"#datatable\")\n      .find(\"table\")\n      .append('<tfoot><th></th><th></th><th></th><th></th></tfoot>')\n  }, [])\n\n  useEffect(() => {\n\n    $(\"#datatable\")\n      .find(\"table\")\n      .DataTable({\n        dom:\n          \"<'row'<'col-12'l>>\" +\n          \"<'row'<'col-12'tr>>\",\n        paging: false,\n        searching: true,\n        destroy: true,\n        data: deliveryTableData,\n        columns,\n        language: {\n          decimal: \",\",\n          thousands: \".\"\n        },\n        columnDefs: [\n          {\n            targets: 0,\n            width: '160px'\n          },\n          { type: 'natural', targets: 3 },\n          {\n            \"targets\": [1, 2, 3],\n            render: (data, type, row) => {\n              return Number(data).toLocaleString('it')\n            }\n          }\n        ],\n        footerCallback: (row, data, start, end, display) => {\n          var api = $(\"#datatable\")\n            .find(\"table\")\n            .DataTable();\n\n          // Remove the formatting to get integer data for summation\n          var intVal = function (i) {\n            return typeof i === 'string' ?\n              i.replace(/[$,]/g, '') * 1 :\n              typeof i === 'number' ?\n                i : 0;\n          };\n\n          let totalDelivery = api\n            .column(2, { search: 'applied' })\n            .data()\n            .reduce(function (a, b) {\n              return intVal(a) + intVal(b);\n            }, 0);\n\n          let totalVaccines = api\n            .column(1, { search: 'applied' })\n            .data()\n            .reduce(function (a, b) {\n              return intVal(a) + intVal(b);\n            }, 0);\n\n          // Total over all pages\n          var totalPercentage = totalDelivery ? (totalVaccines/totalDelivery)*100 : 0\n\n          // Update footer\n          $(api.column(3).footer()).html(\n            (totalPercentage).toFixed(1)\n          );\n\n          $(api.column(2).footer()).html(\n            totalDelivery.toLocaleString('it')\n          );\n\n          $(api.column(1).footer()).html(\n            totalVaccines.toLocaleString('it')\n          );\n\n          $(api.column(0).footer()).html(\n            'Totale'\n          );\n        }\n      });\n\n  },[deliveryTableData]);\n\n  return (\n    <div id=\"datatable\">\n      <table\n        className=\"table h-100 table-borderless compact table-hover deliveries-table\"\n        cellSpacing=\"0\"\n        width=\"100%\"\n        style={{ paddingBottom: 6 }}\n      />\n    </div>\n  );\n};\n","import { React, useEffect, useState } from \"react\";\nimport * as d3 from \"d3\";\nimport * as topojson from \"topojson-client\";\nimport _ from \"lodash\";\n\nexport const MapArea = ({\n    handleMapDeliveryClick,\n    fillMapDeliveryArea,\n    fillBy,\n    summary,\n    tooltip,\n    percentage,\n}) => {\n        const [geographies, setGeographies] = useState([]);\n        const [maxValue, setMaxValue] = useState(0);\n\n        useEffect(() => {\n            if (percentage) {\n                setMaxValue(100);\n            } else {\n                const maxValue = _.maxBy(summary || {}, fillBy);\n                setMaxValue(maxValue ? maxValue[fillBy] : 0);\n            }\n        }, [summary, fillBy, percentage]);\n\n    const width = 498,\n          height = 478;\n\n    const projection = d3\n        .geoAlbers()\n        .center([0, 41])\n        .rotate([347, 0])\n        .parallels([35, 45])\n        .scale(2200)\n        .translate([width / 2, height / 2]);\n        useEffect(() => {\n            const fetchData = async () => {\n                const res = await fetch(\"data/geo/it.json\");\n                const data = await res.json();\n                setGeographies(topojson.feature(data, data.objects.regions).features);\n            };\n        fetchData();\n        }, []);\n\n    return (\n        <div className=\"map-area\">\n            <svg className=\"h-100 w-100\" height={height}>\n                <g className=\"countries\">\n                    {geographies.map((d, i) => {\n                        let reg_name = d.properties.reg_name;\n                        let regions = _.filter(summary, (i) => i.area === reg_name);\n                        let region = {};\n                        if (regions && regions.length > 0) {\n                            region = regions[0];\n                        }\n\n                        return (\n                            <path\n                                key={`path-${i}`}\n                                d={d3.geoPath().projection(projection)(d)}\n                                className=\"country\"\n                                id={`${region?.area?.trim()}`}\n                                fill={fillMapDeliveryArea({ region, maxValue, field: fillBy })}\n                                stroke=\"#FFFFFF\"\n                                strokeWidth={0.7}\n                                onClick={() => handleMapDeliveryClick(region)}\n                            >\n                                <title>\n                                    <span className=\"bg-info\">{tooltip(region)}</span>\n                                </title>\n                            </path>\n                        );\n                    })});\n                </g>\n            </svg>\n        </div>\n    );\n};\n","import React, { useEffect, useState } from \"react\";\nimport { find, max, isEmpty } from \"lodash\";\nimport { Table } from \"./../components/Table\";\nimport { MapArea } from \"./../components/MapArea\";\n\nexport const Deliveries = ({ data }) => {\n    const [deliveryMapData, setDeliveryMapData] = useState([]);\n    const [deliveryTableData, setDeliveryTableData] = useState([]);\n    const [deliverySelectedRegion, setDeliverySelectedRegion] = useState(null);\n    const [totalDelivery, setTotalDelivery] = useState(0);\n    const [selectedAge, setSelectedAge] = useState(null);\n\n        useEffect(() => {\n            if (!isEmpty(data)) {\n                setDeliveryMapData(data.totalDeliverySummary);\n                setDeliveryTableData(data.totalDeliverySummary);\n                setTotalDelivery(data.tot);\n            }\n        }, [data]);\n\n        const resetFilter = () => {\n            setDeliverySelectedRegion(null);\n            setDeliveryTableData(data.totalDeliverySummary);\n            setTotalDelivery(data.tot);\n            setSelectedAge(null);\n            setDeliveryMapData(data.totalDeliverySummary);\n        };\n\n        const fillMapDeliveryArea = ({ region, maxValue, field }) => {\n            let scaleOp = 0;\n            if (region.code === deliverySelectedRegion) {\n                scaleOp = 1;\n            } else if (!deliverySelectedRegion) {\n                scaleOp = max([region[field] / maxValue, 0.1]);\n            } else {\n                const valueToFill = region[field] / (2 * maxValue);\n                scaleOp = max([valueToFill, 0.1]);\n            }\n            return `rgba(0,102,204,${scaleOp}) `;\n        };\n\n        const handleMapDeliveryClick = (region) => {\n            if (selectedAge) {\n                resetFilter();\n            }\n\n            if (deliverySelectedRegion === region.code) {\n                resetFilter();\n            } else {\n                const deliveryTableFilteredData = find(\n                data.totalDeliverySummary,\n                (d) => d.code === region.code\n            );\n\n            setDeliveryTableData([deliveryTableFilteredData]);\n            setDeliverySelectedRegion(region.code);\n            setTotalDelivery(deliveryTableFilteredData.dosi_somministrate);\n        }\n    };\n\n\n    return (\n        <div>\n            <div className=\"row\">\n                <div className=\"col-12 d-flex justify-content-end\"></div>\n            </div>\n            <div className=\"row p-2 p-3 bg-grey\">\n                <div className=\"col-12 col-lg-6 h-100 order-md-2 order-lg-1 p-1 pb-5\">\n                    <Table deliveryTableData={deliveryTableData} className=\"mr-5 h-100\" />\n                </div>\n                <div className=\"col-12 col-lg-6 order-md-1 order-lg-2 text-center\">\n                    <div className=\"p-4 position-relative d-lg-none\">\n                        <div className=\"d-flex justify-content-start pr-5\">\n                            <h5 className=\"pl-4 pl-sm-1 justify-content-center\">Distribuzione somministrazioni rispetto alle consegne</h5>\n                        </div>\n                    </div>\n                    <div className=\"p-4 d-none d-lg-block map-legend mt-5\">\n                        <div className=\"d-flex justify-content-end\">\n                            <h5 className=\"pl-1 pl-sm-1 text-left\">\n                                Distribuzione<br />somministrazioni <br />rispetto alle consegne\n                            </h5>\n                        </div>\n                    </div>\n                    <div className=\"justify-content-center mt-5\">\n                    <MapArea\n                        fillMapDeliveryArea={fillMapDeliveryArea}\n                        summary={deliveryMapData}\n                        handleMapDeliveryClick={handleMapDeliveryClick}\n                        tooltip={(r) => r.area + \" \" + (r.percentuale_somministrazione && r.percentuale_somministrazione.toLocaleString(\"it\")) + \"%\"}\n                        fillBy=\"percentuale_somministrazione\"\n                    />\n                    </div>\n                    <div className=\"p-4 position-relative\">\n                        <div className=\"text-black\">\n                            <div className=\"d-flex justify-content-center \">\n                                <span className=\"numbers\">{totalDelivery?.toLocaleString(\"it\")}</span>\n                            </div>\n                            <div className=\"d-flex justify-content-center\">\n                                <h5>Totale somministrazioni</h5>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n","import { React, useEffect, useRef } from \"react\";\nimport * as d3 from \"d3\";\n\nexport const AgeHStackedBarChart = ({\n  handleRectClick,\n  height,\n  width,\n  data,\n  keys,\n  labels,\n  colors,\n  selectedCodeAge,\n  regionSelected\n  }) => {\n\n  const myRef = useRef();\n  const divRef = useRef();\n\n  useEffect(() => {\n      doExit();\n      draw();\n      // eslint-disable-next-line\n  }, [data, keys, labels, selectedCodeAge]);\n\n\n  const responsivefy = (svg) => {\n    // Container is the DOM element, svg is appended.\n    // Then we measure the container and find its\n    // aspect ratio.\n    const container = d3.select(svg.node().parentNode),\n      width = parseInt(svg.style(\"width\"), 10),\n      height = parseInt(svg.style(\"height\"), 10),\n      aspect = width / height;\n\n    // Add viewBox attribute to set the value to initial size\n    // add preserveAspectRatio attribute to specify how to scale\n    // and call resize so that svg resizes on page load\n    svg\n      .attr(\"viewBox\", `0 0 ${width} ${height}`)\n      .attr(\"preserveAspectRatio\", \"xMinYMid\")\n      .call(resize);\n\n    d3.select(window).on(\"resize.\" + container.attr(\"id\"), resize);\n\n    function resize() {\n      const targetWidth = parseInt(container.style(\"width\"));\n      svg.attr(\"width\", targetWidth);\n      svg.attr(\"height\", Math.round(targetWidth / aspect));\n    }\n  };\n\n  function doExit() {\n    d3.select(divRef.current).selectAll(\"svg\").remove();\n  }\n\n  const draw = () => {\n\n    const dataset = d3.stack().keys(keys)(data);\n\n    // append element\n    const svg = d3\n      .select(divRef.current)\n      .append(\"svg\")\n      .style('margin-bottom', 10)\n      .attr(\"width\", width)\n      .attr(\"height\", height);\n    const margin = { y: 30, x: 60 };\n\n    // axis\n    const xScale = d3.scaleLinear().domain([0, d3.max(data, function(d) { return d['Totale platea']; })]);\n    const yScale = d3.scaleBand().padding(0.2);\n    xScale.range([0, width]);\n    yScale.range([0, height]).domain(data.map((d) => d.label));\n\n    svg\n      .attr(\"width\", width + 2 * margin.x)\n      .attr(\"height\", height + 2 * margin.y)\n      .call(responsivefy) // Call responsivefy to make the chart responsive\n      .attr(\"id\", \"svg-stack-bar\");\n\n    const chart = svg\n      .append(\"g\")\n      .attr(\"transform\", `translate(${margin.x},${margin.y})`);\n\n    chart\n      .append(\"g\")\n      .attr(\"class\", \"axis\")\n      .attr(\"transform\", `translate(0, 0)`)\n      .style(\"font-size\", \"12px\")\n      .call(d3.axisLeft(yScale))\n      .attr('stroke-width', 0)\n        .selectAll(\"text\")\n            .attr(\"y\", 0)\n            .attr(\"x\", -30)\n            .style(\"text-anchor\", \"start\")\n            .style(\"fill\", \"#19191a\");\n\n\n    const tooltip = d3\n      .select('body')\n      .append('div')\n      .attr('class', 'd3-tooltip')\n      .style('position', 'absolute')\n      .style('z-index', '10')\n      .style('display', 'none')\n      .style('padding', '10px')\n      .style('background', 'rgba(0,0,0,0.8)')\n      .style('border-radius', '4px')\n      .style('color', '#fff');\n\n    const path = chart.selectAll().data(dataset);\n\n    path\n      .enter()\n      .append(\"g\")\n      .attr(\"fill\", function(d) {\n        return colors[d.index];\n      })\n      .attr(\"dose\", function(d) {\n        return d.key;\n      })\n      .selectAll(\"rect\")\n      .data(function(d) {\n        return d;\n      })\n      .enter().append(\"rect\")\n      .on(\"click\", (e, d) => {\n        handleRectClick(d);\n        tooltip.html(``).style('display', 'none');\n      })\n      .attr(\"opacity\", (d) => {\n        const ageCode = d.data.label.toLowerCase().replaceAll(' ', '_');\n\n        let opac = selectedCodeAge === ageCode ? 1 : !selectedCodeAge ? 1 : 0.3;\n        return opac;\n      })\n      .attr(\"x\", function(d) {\n        return xScale(d[0]) + 60;\n      })\n      .attr(\"y\", function(d) {\n        return yScale(d.data.label);\n      })\n      .attr(\"width\", function(d) {\n        return xScale(d[1]) - xScale(d[0]);\n      })\n      .attr(\"height\", yScale.bandwidth())\n      .on('mouseover', function (d, i) {\n        d3.select(this).transition().attr('fill', '#0BD9D3');\n      })\n      .on('mousemove', function (event, d) {\n        let regione = regionSelected ? \" \" + regionSelected : \"\";\n\n        if (d3.select(this.parentNode).attr(\"dose\") === 'totale') {\n          tooltip\n            .style('top', event.pageY - 10 + 'px')\n            .style('left', event.pageX + 10 + 'px');\n          tooltip\n            .html(\n                `<div style=\"text-align: center; line-height: 1.15rem;\">\n                <div style=\"font-size: 12px;\">${regione}</div>\n                <div><b>${d.data.label}</b></div>\n                <div style=\"font-size: 14px;\">Platea</div>\n                <div>${d.data[\"Totale platea\"].toLocaleString('it')}</div>\n                </div>`\n                )\n            .style('display', null);\n        }\n        else {\n          var perc = 0;\n          if (d3.select(this.parentNode).attr(\"dose\") === 'prima') {\n            let sum = d.data[\"prima\"] + d.data[\"seconda\"] + d.data[\"addizionale\"] + d.data[\"second_booster\"] + d.data[\"third_booster\"];\n            perc = (sum / d.data[\"Totale platea\"]) * 100;\n          }\n          else {\n            if (d3.select(this.parentNode).attr(\"dose\") === 'seconda') {\n              let sum = d.data[\"seconda\"] + d.data[\"addizionale\"] + d.data[\"second_booster\"] + d.data[\"third_booster\"];\n              perc = (sum / d.data[\"Totale platea\"]) * 100;\n            }\n            else {\n              if (d3.select(this.parentNode).attr(\"dose\") === 'addizionale') {\n                let sum = d.data[\"addizionale\"] + d.data[\"second_booster\"] + d.data[\"third_booster\"];\n                perc = (sum / d.data[\"Totale platea\"]) * 100;\n              }\n              else {\n                if (d3.select(this.parentNode).attr(\"dose\") === 'second_booster') {\n                  let sum = d.data[\"second_booster\"] + d.data[\"third_booster\"];\n                  perc = (sum / d.data[\"Totale platea\"]) * 100;\n                }\n                else {\n                  perc = (d.data[\"third_booster\"] / d.data[\"Totale platea\"]) * 100;\n                }\n              }\n            }\n          }\n\n          tooltip\n            .style('top', event.pageY - 10 + 'px')\n            .style('left', event.pageX + 10 + 'px');\n\n            if ( perc < 0) {\n\n                tooltip\n                    .html(\n                        `<div style=\"text-align: center; line-height: 1.15rem;\">\n                        <div style=\"font-size: 12px;\">${regione} ${d.data.label}</div>\n                        <div style=\"text-align: center\"><b>${labels[d3.select(this.parentNode).attr(\"dose\")]} </b></div>\n                        <div style=\"font-size: 14px;\">Somministrate ${(d[1]).toLocaleString('it')} su ${d.data[\"Totale platea\"].toLocaleString('it')}</div>`\n                    )\n                    .style('display', null);\n\n            } else {\n\n                tooltip\n                    .html(\n                        `<div style=\"text-align: center; line-height: 1.15rem;\">\n                        <div style=\"font-size: 12px;\">${regione} ${d.data.label}</div>\n                        <div style=\"text-align: center\"><b>${labels[d3.select(this.parentNode).attr(\"dose\")]} </b></div>\n                        <div style=\"font-size: 14px;\"><b>(${perc.toFixed(2).toLocaleString(\"it\")} %)</b></div>\n                        <div style=\"font-size: 14px;\">Somministrate ${(d[1]).toLocaleString('it')} su ${d.data[\"Totale platea\"].toLocaleString('it')}</div>`\n                    )\n                    .style('display', null);\n            }\n        }\n      })\n      .on('mouseout', function (d) {\n          tooltip.html(``).style('display', 'none');\n          d3.select(this).transition().attr('fill', colors[d.key]);\n      });\n\n    path.exit().remove();\n  };\n\n  return (\n    <div ref={divRef} className=\"chart svg-container\">\n      <svg ref={myRef} className=\"svg-content-responsive\"></svg>\n    </div>\n  );\n};\n","import React, { useEffect, useState } from \"react\";\nimport { isEmpty, max } from \"lodash\";\nimport { AgeHStackedBarChart } from \"./../components/AgeHStackedBarChart\";\nimport { MapArea } from \"./../components/MapArea\";\n\nexport const AgeDoses = ({ data }) => {\n    const [dosesAgesColor, setdosesAgesColor] = useState([]);\n    const [dosesAges, setdosesAges] = useState([]);\n    const [dosesAgesKeys, setDosesAgesKeys] = useState([]);\n    const [keyValueDoses, setKeyValueDoses] = useState({});\n    const [dosesAgesData, setDosesAgesData] = useState([]);\n\n    const [categoryMapData, setCategoryMapData] = useState([]);\n    const [categoryMapField, setCategoryMapField] = useState(\"somministrazioni\");\n\n    const [categorySelectedRegion, setCategorySelectedRegion] = useState(null);\n    const [categorySelectedRegionDescr, setCategorySelectedRegionDescr] = useState(null);\n    const [selectedCodeAge, setSelectedCodeAge] = useState(null);\n\n    const [totalByCategory, setTotalByCategory] = useState(0);\n\n    useEffect(() => {\n        if (!isEmpty(data)) {\n            setdosesAgesColor(data.agedosesContent.dosesAgesColor);\n            setdosesAges(data.agedosesContent.dosesAges);\n            setDosesAgesKeys(data.agedosesContent.keysDosesAges);\n            setKeyValueDoses(data.agedosesContent.keyValueDoses);\n            setDosesAgesData(data.agedosesContent.dosesAgesData);\n\n            setTotalByCategory(data.tot);\n            setCategoryMapData(data.agedosesContent.secondDosesMapData);\n        }\n    }, [data]);\n\n    const resetFilter = () => {\n        setSelectedCodeAge(null);\n        setCategorySelectedRegion(null);\n        setCategorySelectedRegionDescr(null);\n        setTotalByCategory(data.tot);\n        setDosesAgesData(data.agedosesContent.dosesAgesData);\n        setCategoryMapField(\"somministrazioni\");\n        setCategoryMapData(data.agedosesContent.secondDosesMapData);\n    };\n\n    const fillMapCategoryArea = ({ region, maxValue, field }) => {\n        let scaleOp = 0;\n        if (region.code === categorySelectedRegion) {\n          scaleOp = 1;\n        } else if (!categorySelectedRegion) {\n          scaleOp = max([region[field] / maxValue, 0.1]);\n        } else {\n          const valueToFill = region[field] / (2 * maxValue);\n          scaleOp = max([valueToFill, 0.1]);\n        }\n        return `rgba(0,102,204,${scaleOp}) `;\n    };\n\n    const handleMapCategoryClick = (region) => {\n        if (selectedCodeAge) {\n          resetFilter();\n        }\n\n        if (categorySelectedRegion === region.code) {\n          resetFilter();\n        } else {\n          setCategorySelectedRegion(region.code);\n          setCategorySelectedRegionDescr(region.area);\n          setDosesAgesData(data.agedosesContent.dosesAgesRegionData[region.code])\n\n          for(let row of data?.totalDeliverySummary) {\n            if (row.code === region.code) {\n                setTotalByCategory(row.dosi_somministrate);\n            }\n          }\n        }\n    };\n\n    const handleCategoryBarChartClick = (cat) => {\n        if (categorySelectedRegion) {\n          resetFilter();\n        }\n\n        const ageCode = cat.data.label.toLowerCase().replaceAll(' ', '_');\n\n        if (selectedCodeAge === ageCode) {\n          resetFilter();\n        } else {\n          setSelectedCodeAge(ageCode);\n          setCategoryMapField(ageCode);\n\n          for(let row of data.agedosesContent.dosesAgesData) {\n            if (row.label === cat.data.label) {\n                setTotalByCategory(row.totale);\n                break;\n            }\n          }\n        }\n    };\n\n    return (\n        <div className=\"row\">\n            {/* Box Title */}\n            <div className=\"col-12 d-flex justify-content-center align-items-center section-title mx-2\">\n                <div>\n                    <h3>Somministrazioni per fascia d'età - dose</h3>\n                </div>\n            </div>\n            {/* // Box Title */}\n\n            <div className=\"col-12 col-md-12 m-3\">\n                {/* Total Box - Mobile Layout */}\n                <div className=\"d-lg-none bg-box box-mobile m-3\">\n                    <div className=\"text-white\">\n                        <div className=\"d-flex justify-content-center pt-5\">\n                            <h5>Totale somministrazioni</h5>\n                        </div>\n                        <div className=\"d-flex justify-content-center\">\n                            <p className=\"box-numbers\">\n                                {totalByCategory && totalByCategory.toLocaleString(\"it\")}\n                            </p>\n                        </div>\n                        <div className=\"col-12 d-flex justify-content-end pb-2\">\n                            <img alt=\"reset-plot2\" src=\"reset_white.png\" onClick={resetFilter} height=\"36px\"/>\n                        </div>\n                    </div>\n                </div>\n                {/* // Total Box - Mobile Layout */}\n\n                {/* Total Box - Desktop Layout */}\n                <div className=\"col-4 col-md-4 d-none d-lg-block\">\n                    <div className=\"bg-box box-card box-left\">\n                        <div className=\"text-white\">\n                            <div className=\"d-flex justify-content-start pt-3 pl-5\">\n                                <h5>Totale somministrazioni</h5>\n                            </div>\n                            <div className=\"d-flex justify-content-start pl-5\">\n                                <p className=\"box-numbers\">\n                                    {totalByCategory && totalByCategory.toLocaleString(\"it\")}\n                                </p>\n                            </div>\n                            <div className=\"col-12 d-flex justify-content-end pb-2\">\n                                <img alt=\"Reset\" src=\"reset_white.png\" onClick={resetFilter} height=\"36px\"/>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                {/* // Total Box - Desktop Layout */}\n            </div>\n            <div className=\"col-12 col-md-6\">\n\n                {/* Graph */}\n                <AgeHStackedBarChart\n                    width={+350}\n                    height={+300}\n                    property={{ xprop: \"label\", yprop: \"total\" }}\n                    handleRectClick={handleCategoryBarChartClick}\n                    regionSelected={categorySelectedRegionDescr}\n                    selectedCodeAge={selectedCodeAge}\n                    colors={dosesAgesColor}\n                    keys={dosesAgesKeys}\n                    labels={keyValueDoses}\n                    data={dosesAgesData}\n                />\n                {/* // Graph */}\n\n                {/* Legend */}\n                <div className=\"row mb-4 ml-4\">\n                    {dosesAges.map((dose, index) => {\n                        return (\n                            <div className=\"row\" key={dose}>\n                                <div className=\"circle\" style={{ backgroundColor: dosesAgesColor[index] }}></div>\n                                <div className=\"legend-dark mr-4\">{dose}</div>\n                            </div>\n                        )\n                    })}\n                </div>\n                {/* // Legend */}\n\n                <p className=\"d-block d-sm-none text-center\">*Tieni premuto sulle barre del grafico per visualizzare i dati sulle dosi somministrate</p>\n                <p className=\"d-none d-sm-block text-center\">*Passa con il mouse sulle barre del grafico per visualizzare i dati sulle dosi somministrate</p>\n            </div>\n            <div className=\"col-12 col-md-6\">\n\n                {/* Map Title - Mobile View*/}\n                <div className=\"p-4 d-lg-none\">\n                    <div className=\"text-center\">\n                        <h5>Percentuale vaccinati per regione</h5>\n                    </div>\n                </div>\n                {/* // Map Title - Mobile View*/}\n\n                {/* Map Graph */}\n                <MapArea\n                    fillMapDeliveryArea={fillMapCategoryArea}\n                    summary={categoryMapData}\n                    handleMapDeliveryClick={handleMapCategoryClick}\n                    fillBy={categoryMapField}\n                    percentage={true}\n                    tooltip={(r) => {\n                            var region = null;\n                            for(let row of categoryMapData) {\n                                if (row.code === r.code) {\n                                    region = row;\n                                }\n                            }\n\n                            return (\n                                r.area +\n                                \" \" +\n                                (r[categoryMapField] && r[categoryMapField].toFixed(2).toLocaleString(\"it\") + \"%\") +\n                                \" \" +\n                                (region && region[categoryMapField] && \"(\" + region[categoryMapField].toLocaleString(\"it\") + \")\")\n                            )\n                        }\n                    }\n                    className=\"ml-5\"\n                />\n                {/* // Map Graph */}\n\n                {/* Map Title - Desktop View*/}\n                {/* <div className=\"p-4 position-relative d-none d-lg-block\" style={{ left: \"300px\", top: \"-390px\" }}> */}\n                <div className=\"p-4 d-none d-lg-block map-legend\">\n                    <div className=\"d-flex justify-content-start pr-5\">\n                        <h5 className=\"pl-3 pl-sm-1\">\n                            Percentuale vaccinati\n                            <br /> per regione\n                        </h5>\n                    </div>\n                </div>\n                {/* // Map Title - Desktop View*/}\n            </div>\n        </div>\n    )\n};","import { React, useEffect, useRef } from \"react\";\nimport * as d3 from \"d3\";\n\nexport const HealedHStackedBarChart = ({\n  handleRectClick,\n  height,\n  width,\n  data,\n  keys,\n  labels,\n  colors,\n  selectedCodeAge,\n  regionSelected\n  }) => {\n\n  const myRef = useRef();\n  const divRef = useRef();\n\n  useEffect(() => {\n      doExit();\n      draw();\n      // eslint-disable-next-line\n  }, [data, keys, labels, selectedCodeAge]);\n\n\n  const responsivefy = (svg) => {\n    // Container is the DOM element, svg is appended.\n    // Then we measure the container and find its\n    // aspect ratio.\n    const container = d3.select(svg.node().parentNode),\n      width = parseInt(svg.style(\"width\"), 10),\n      height = parseInt(svg.style(\"height\"), 10),\n      aspect = width / height;\n\n    // Add viewBox attribute to set the value to initial size\n    // add preserveAspectRatio attribute to specify how to scale\n    // and call resize so that svg resizes on page load\n    svg\n      .attr(\"viewBox\", `0 0 ${width} ${height}`)\n      .attr(\"preserveAspectRatio\", \"xMinYMid\")\n      .call(resize);\n\n    d3.select(window).on(\"resize.\" + container.attr(\"id\"), resize);\n\n    function resize() {\n      const targetWidth = parseInt(container.style(\"width\"));\n      svg.attr(\"width\", targetWidth);\n      svg.attr(\"height\", Math.round(targetWidth / aspect));\n    }\n  };\n\n  function doExit() {\n    d3.select(divRef.current).selectAll(\"svg\").remove();\n  }\n\n  const draw = () => {\n\n    const dataset = d3.stack().keys(keys)(data);\n\n    // append element\n    const svg = d3\n      .select(divRef.current)\n      .append(\"svg\")\n      .style('margin-bottom', 10)\n      .attr(\"width\", width)\n      .attr(\"height\", height);\n    const margin = { y: 30, x: 60 };\n\n    // axis\n    const xScale = d3.scaleLinear().domain([0, d3.max(data, function(d) { return d['post'] + d['senza'] + d['booster'] + d['2booster']; })]);\n    const yScale = d3.scaleBand().padding(0.2);\n    xScale.range([0, width]);\n    yScale.range([0, height]).domain(data.map((d) => d.label));\n\n    svg\n      .attr(\"width\", width + 2 * margin.x)\n      .attr(\"height\", height + 2 * margin.y)\n      .call(responsivefy) // Call responsivefy to make the chart responsive\n      .attr(\"id\", \"svg-stack-bar\");\n\n    const chart = svg\n      .append(\"g\")\n      .attr(\"transform\", `translate(${margin.x},${margin.y})`);\n\n    chart\n      .append(\"g\")\n      .attr(\"class\", \"axis\")\n      .attr(\"transform\", `translate(0, 0)`)\n      .style(\"font-size\", \"12px\")\n      .call(d3.axisLeft(yScale))\n      .attr('stroke-width', 0)\n        .selectAll(\"text\")\n            .attr(\"y\", 0)\n            .attr(\"x\", -30)\n            .style(\"text-anchor\", \"start\")\n            .style(\"fill\", \"#19191a\");\n\n\n    const tooltip = d3\n      .select('body')\n      .append('div')\n      .attr('class', 'd3-tooltip')\n      .style('position', 'absolute')\n      .style('z-index', '10')\n      .style('display', 'none')\n      .style('padding', '10px')\n      .style('background', 'rgba(0,0,0,0.8)')\n      .style('border-radius', '4px')\n      .style('color', '#fff');\n\n    const path = chart.selectAll().data(dataset);\n\n    path\n      .enter()\n      .append(\"g\")\n      .attr(\"fill\", function(d) {\n        return colors[d.index];\n      })\n      .attr(\"dose\", function(d) {\n        return d.key;\n      })\n      .selectAll(\"rect\")\n      .data(function(d) {\n        return d;\n      })\n      .enter().append(\"rect\")\n      .on(\"click\", (e, d) => {\n        handleRectClick(d);\n        tooltip.html(``).style('display', 'none');\n      })\n      .attr(\"opacity\", (d) => {\n        const ageCode = d.data.label.toLowerCase().replaceAll(' ', '_');\n\n        let opac = selectedCodeAge === ageCode ? 1 : !selectedCodeAge ? 1 : 0.3;\n        return opac;\n      })\n      .attr(\"x\", function(d) {\n        return xScale(d[0]) + 60;\n      })\n      .attr(\"y\", function(d) {\n        return yScale(d.data.label);\n      })\n      .attr(\"width\", function(d) {\n        return xScale(d[1]) - xScale(d[0]);\n      })\n      .attr(\"height\", yScale.bandwidth())\n      .on('mouseover', function (d, i) {\n        d3.select(this).transition().attr('fill', '#0BD9D3');\n      })\n      .on('mousemove', function (event, d) {\n        let regione = regionSelected ? \" \" + regionSelected : \"\";\n\n        tooltip\n          .style('top', event.pageY - 10 + 'px')\n          .style('left', event.pageX + 10 + 'px');\n        tooltip\n          .html(\n              `<div style=\"text-align: center; line-height: 1.15rem;\">\n              <div style=\"font-size: 12px;\">${regione} ${d.data.label}</div>\n              <div style=\"text-align: center\"><b>${labels[d3.select(this.parentNode).attr(\"dose\")]} </b></div>\n              <div style=\"font-size: 14px;\">${(d[1]).toLocaleString('it')}</div>`\n          )\n          .style('display', null);\n      })\n      .on('mouseout', function (d) {\n          tooltip.html(``).style('display', 'none');\n          d3.select(this).transition().attr('fill', colors[d.key]);\n      });\n\n    path.exit().remove();\n  };\n\n  return (\n    <div ref={divRef} className=\"chart svg-container\">\n      <svg ref={myRef} className=\"svg-content-responsive\"></svg>\n    </div>\n  );\n};\n","import React, { useEffect, useState } from \"react\";\nimport { isEmpty, max } from \"lodash\";\nimport { HealedHStackedBarChart } from \"../components/HealedHStackedBarChart\";\nimport { MapArea } from \"../components/MapArea\";\n\nexport const Healed = ({ data }) => {\n    const [healedColor, setHealedColor] = useState([]);\n    const [healed, setHealed] = useState([]);\n    const [healedKeys, setHealedKeys] = useState([]);\n    const [healedData, setHealedData] = useState([]);\n    const [keyValueHealed, setKeyValueHealed] = useState({});\n\n    const [categoryMapData, setCategoryMapData] = useState([]);\n    const [categoryMapField, setCategoryMapField] = useState(\"guariti\");\n\n    const [categorySelectedRegion, setCategorySelectedRegion] = useState(null);\n    const [categorySelectedRegionDescr, setCategorySelectedRegionDescr] = useState(null);\n    const [selectedCodeAge, setSelectedCodeAge] = useState(null);\n\n    const [totalByCategory, setTotalByCategory] = useState(0);\n\n    useEffect(() => {\n        if (!isEmpty(data)) {\n            setHealedColor(data.healedContent.healedColor);\n            setHealed(data.healedContent.healed);\n            setHealedData(data.healedContent.healedData);\n            setHealedKeys(data.healedContent.keysHealed);\n\n            setTotalByCategory(data.healedContent.totalGuaritiHealedSection);\n            setCategoryMapData(data.healedContent.healedMapData);\n\n            setKeyValueHealed(data.healedContent.keyValueHealed);\n        }\n    }, [data]);\n\n    const resetFilter = () => {\n        setSelectedCodeAge(null);\n        setCategorySelectedRegion(null);\n        setCategorySelectedRegionDescr(null);\n        setTotalByCategory(data.healedContent.totalGuaritiHealedSection);\n        setHealedData(data.healedContent.healedData);\n        setCategoryMapField(\"guariti\");\n        setCategoryMapData(data.healedContent.healedMapData);\n    };\n\n    const fillMapCategoryArea = ({ region, maxValue, field }) => {\n        let scaleOp = 0;\n        if (region.code === categorySelectedRegion) {\n          scaleOp = 1;\n        } else if (!categorySelectedRegion) {\n          scaleOp = max([region[field] / maxValue, 0.1]);\n        } else {\n          const valueToFill = region[field] / (2 * maxValue);\n          scaleOp = max([valueToFill, 0.1]);\n        }\n        return `rgba(0,102,204,${scaleOp}) `;\n    };\n\n    const handleMapCategoryClick = (region) => {\n        if (selectedCodeAge) {\n          resetFilter();\n        }\n\n        if (categorySelectedRegion === region.code) {\n          resetFilter();\n        } else {\n          setCategorySelectedRegion(region.code);\n          setCategorySelectedRegionDescr(region.area);\n          setHealedData(data.healedContent.healedRegionData[region.code]);\n\n          var val = 0;\n          for(let row of data.healedContent.healedRegionData[region.code]) {\n            val += row.Totale;\n          }\n          setTotalByCategory(val);\n        }\n    };\n\n    const handleCategoryBarChartClick = (cat) => {\n        if (categorySelectedRegion) {\n          resetFilter();\n        }\n\n        const ageCode = cat.data.label.toLowerCase().replaceAll(' ', '_');\n\n        if (selectedCodeAge === ageCode) {\n          resetFilter();\n        } else {\n          setSelectedCodeAge(ageCode);\n          setCategoryMapField(ageCode);\n\n          for(let row of data.healedContent.healedData) {\n            if (row.label === cat.data.label) {\n                setTotalByCategory(row.Totale);\n                break;\n            }\n          }\n        }\n    };\n\n    return (\n        <div className=\"row\">\n            {/* Box Title */}\n            <div className=\"col-12 d-flex justify-content-center align-items-center section-title mx-2\">\n                <div className=\"text-center\">\n                    <h3 className=\"mb-0\">Platea guariti</h3>\n                </div>\n            </div>\n            {/* // Box Title */}\n\n            <div className=\"col-12 col-md-12 m-3\">\n                {/* Total Box - Mobile Layout */}\n                <div className=\"d-lg-none bg-box box-mobile m-3\">\n                    <div className=\"text-white\">\n                        <div className=\"d-flex justify-content-center pt-5\">\n                            <h5>Totale guariti</h5>\n                        </div>\n                        <div className=\"d-flex justify-content-center\">\n                            <p className=\"box-numbers\">\n                                {totalByCategory && totalByCategory.toLocaleString(\"it\")}\n                            </p>\n                        </div>\n                        <div className=\"col-12 d-flex justify-content-end pb-2\">\n                            <img alt=\"reset-plot2\" src=\"reset_white.png\" onClick={resetFilter} height=\"36px\"/>\n                        </div>\n                    </div>\n                </div>\n                {/* // Total Box - Mobile Layout */}\n\n                {/* Total Box - Desktop Layout */}\n                <div className=\"col-4 col-md-4 d-none d-lg-block\">\n                    <div className=\"bg-box box-card box-left\">\n                        <div className=\"text-white\">\n                            <div className=\"d-flex justify-content-start pt-3 pl-5\">\n                                <h5>Totale guariti</h5>\n                            </div>\n                            <div className=\"d-flex justify-content-start pl-5\">\n                                <p className=\"box-numbers\">\n                                    {totalByCategory && totalByCategory.toLocaleString(\"it\")}\n                                </p>\n                            </div>\n                            <div className=\"col-12 d-flex justify-content-end pb-2\">\n                                <img alt=\"Reset\" src=\"reset_white.png\" onClick={resetFilter} height=\"36px\"/>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                {/* // Total Box - Desktop Layout */}\n            </div>\n            <div className=\"col-12 col-md-6\">\n\n                {/* Graph */}\n                <HealedHStackedBarChart\n                    width={+350}\n                    height={+300}\n                    property={{ xprop: \"label\", yprop: \"total\" }}\n                    handleRectClick={handleCategoryBarChartClick}\n                    regionSelected={categorySelectedRegionDescr}\n                    selectedCodeAge={selectedCodeAge}\n                    colors={healedColor}\n                    keys={healedKeys}\n                    labels={keyValueHealed}\n                    data={healedData}\n                />\n                {/* // Graph */}\n\n                 {/* Legend */}\n                 <div className=\"row mb-4 ml-4\">\n                    {healed.map((itemVal, index) => {\n                        return (\n                            <div className=\"row\" key={itemVal}>\n                                <div className=\"circle\" style={{ backgroundColor: healedColor[index] }}></div>\n                                <div className=\"legend-dark mr-4\">{itemVal}</div>\n                            </div>\n                        )\n                    })}\n                </div>\n                {/* // Legend */}\n\n            </div>\n            <div className=\"col-12 col-md-6 my-0 py-0\">\n                {/* Map Graph */}\n                <MapArea\n                    fillMapDeliveryArea={fillMapCategoryArea}\n                    summary={categoryMapData}\n                    handleMapDeliveryClick={handleMapCategoryClick}\n                    fillBy={categoryMapField}\n                    percentage={false}\n                    tooltip={(r) => {\n                            var region = null;\n                            for(let row of categoryMapData) {\n                                if (row.code === r.code) {\n                                    region = row;\n                                }\n                            }\n\n                            return (\n                                r.area +\n                                \" \" +\n                                (region && region[categoryMapField] && \"(\" + region[categoryMapField].toLocaleString(\"it\") + \")\")\n                            )\n                        }\n                    }\n                    className=\"ml-5\"\n                />\n                {/* // Map Graph */}\n\n                <p className=\"text-center\">*Seleziona la Regione/Provincia Autonoma per visualizzare il dettaglio.</p>\n            </div>\n        </div>\n    )\n};","import { React, useEffect, useRef } from \"react\";\nimport * as d3 from \"d3\";\n\nexport const StackedBarChart = ({\n  height,\n  width,\n  data,\n  keys,\n  colors,\n  selectedFrom,\n  selectedTo,\n  property,\n  title,\n  ytitle\n  }) => {\n\n  const myRef = useRef();\n  const divRef = useRef();\n\n  useEffect(() => {\n      doExit();\n      draw();\n      // eslint-disable-next-line\n  }, [data, keys, selectedFrom, selectedTo]);\n\n\n  const responsivefy = (svg) => {\n    // Container is the DOM element, svg is appended.\n    // Then we measure the container and find its\n    // aspect ratio.\n    const container = d3.select(svg.node().parentNode),\n      width = parseInt(svg.style(\"width\"), 10),\n      height = parseInt(svg.style(\"height\"), 10),\n      aspect = width / height;\n\n    // Add viewBox attribute to set the value to initial size\n    // add preserveAspectRatio attribute to specify how to scale\n    // and call resize so that svg resizes on page load\n    svg\n      .attr(\"viewBox\", `0 0 ${width} ${height+10}`)\n      .attr(\"preserveAspectRatio\", \"xMinYMid\")\n      .call(resize);\n\n    d3.select(window).on(\"resize.\" + container.attr(\"id\"), resize);\n\n    function resize() {\n      const targetWidth = parseInt(container.style(\"width\"));\n      svg.attr(\"width\", targetWidth);\n      svg.attr(\"height\", Math.round(targetWidth / aspect));\n    }\n  };\n\n  function doExit() {\n    d3.select(divRef.current).selectAll(\"svg\").remove();\n  }\n\n  const draw = () => {\n\n    const dataset = d3.stack().keys(keys)(data.slice(selectedFrom, selectedTo));\n\n    // append element\n    const svg = d3\n      .select(divRef.current)\n      .append(\"svg\")\n      .style('margin-bottom', 15)\n      .attr(\"width\", width)\n      .attr(\"height\", height);\n    const margin = { y: 50, x: 50 };\n\n    // axis\n    const xScale = d3.scaleBand().padding(0.2);\n    const yScale = d3.scaleLinear().domain([0, d3.max(data.slice(selectedFrom, selectedTo), function(d) { return d.total; })]);\n    yScale.range([height, 0]);\n    xScale.range([0, width]).domain(data.slice(selectedFrom, selectedTo).map((d) => d.label));\n\n    svg\n      .attr(\"width\", width + 2 * margin.x)\n      .attr(\"height\", height + 2 * margin.y)\n      .call(responsivefy) // Call responsivefy to make the chart responsive\n      .attr(\"id\", \"svg-stack-bar\");\n\n    svg\n      .append(\"text\")\n      .attr(\"x\", width / 2 + margin.x)\n      .attr(\"y\", margin.y / 2)\n      .attr(\"class\", \"title\")\n      .attr(\"text-anchor\", \"middle\")\n      .attr(\"transform\", \"rotate(90)\")\n      .attr(title);\n\n    svg\n      .append(\"text\")\n      .attr(\"x\", -(height / 2) - margin.y)\n      .attr(\"y\", margin.x / 2.4)\n      .attr(\"transform\", \"rotate(-90)\")\n      .attr(\"class\", \"title\")\n      .text(ytitle);\n\n\n    const chart = svg\n      .append(\"g\")\n      .attr(\"transform\", `translate(${margin.x},${margin.y})`);\n\n    chart\n      .append(\"g\")\n      .attr(\"class\", \"axis\")\n      .attr(\"transform\", `translate(0,${height})`)\n      .style('font-size', 16)\n      .call(d3.axisBottom(xScale))\n        .selectAll(\"text\") // x axis label rotation\n            .attr(\"y\", -5)\n            .attr(\"x\", 11)\n            .attr(\"transform\", \"rotate(90)\")\n            .style(\"text-anchor\", \"start\");\n\n\n    const tooltip = d3\n      .select('body')\n      .append('div')\n      .attr('class', 'd3-tooltip')\n      .style('position', 'absolute')\n      .style('z-index', '10')\n      .style('display', 'none')\n      .style('padding', '10px')\n      .style('background', 'rgba(0,0,0,0.8)')\n      .style('border-radius', '4px')\n      .style('color', '#fff');\n\n    const path = chart.selectAll().data(dataset);\n\n    path\n      .enter()\n      .append(\"g\")\n      .attr(\"fill\", function(d) {\n        return colors[d.key];\n      })\n      .attr(\"supply\", function(d) {\n        return d.key;\n      })\n      .selectAll(\"rect\")\n      .data(function(d) {\n        return d;\n      })\n      .enter().append(\"rect\")\n      .attr(\"x\", function(d) {\n        return xScale(d.data.label);\n      })\n      .attr(\"y\", function(d) {\n        return yScale(d[1]);\n      })\n      .attr(\"height\", function(d) {\n        return yScale(d[0]) - yScale(d[1]);\n      })\n      .attr(\"width\", xScale.bandwidth())\n      .on('mouseover', function (d, i) {\n        d3.select(this).transition().attr('fill', '#0BD9D3');\n      })\n      .on('mousemove', function (event, d) {\n        tooltip\n            .style('top', event.pageY - 10 + 'px')\n            .style('left', event.pageX + 10 + 'px');\n        tooltip\n          .html(\n            `<div style=\"text-align: center\"><b>${d3.select(this.parentNode).attr(\"supply\")}</b></div>\n            <div>${(d[1] - d[0]).toLocaleString('it')} su ${d.data.total.toLocaleString(\"it\")}</div>\n            <div style=\"text-align: center; font-size: 12px\">dal ${(d.data.labelfrom)} al ${d.data.labelto}</div>`\n          )\n          .style('display', null);\n      })\n      .on('mouseout', function (d) {\n          tooltip.html(``).style('display', 'none');\n          d3.select(this).transition().attr('fill', colors[d.key]);\n      });\n    path.exit().remove();\n  };\n\n  return (\n    <div ref={divRef} className=\"chart svg-container\">\n      <svg ref={myRef} className=\"svg-content-responsive\"></svg>\n    </div>\n  );\n};\n","import React, { useEffect, useState } from \"react\";\nimport { Range, getTrackBackground } from \"react-range\";\n\nexport const RangeWeek = ({\n    from,\n    to,\n    min,\n    max,\n    changeFrom,\n    changeTo\n  }) => {\n\n  const [values, setValues] = useState([0, 1]);\n\n  const STEP = 1;\n\n  useEffect(() => {\n    setValues([from, to])\n  },[from, to, min, max]);\n\n\n  return (\n    <div className=\"col-12\"\n      style={{\n        display: 'flex',\n        justifyContent: 'center',\n        flexWrap: 'wrap',\n        backgroundColor: 'rgb(15, 53, 89)'\n      }}\n    >\n      <Range\n        draggableTrack\n        values={values}\n        step={STEP}\n        min={min}\n        max={max}\n        rtl={false}\n        onChange={(values) => {\n          if (values[0] !== values[1]) {\n            setValues(values);\n            changeFrom(values[0]);\n            changeTo(values[1]);\n          }\n\n        }}\n        renderTrack={({ props, children }) => (\n          <div\n            onMouseDown={props.onMouseDown}\n            onTouchStart={props.onTouchStart}\n            style={{\n              ...props.style,\n              height: '36px',\n              display: 'flex',\n              width: '100%',\n              marginRight: 10,\n              marginLeft: 10\n            }}\n          >\n            <div\n              ref={props.ref}\n              style={{\n                height: '5px',\n                width: '100%',\n                borderRadius: '4px',\n                background: getTrackBackground({\n                  values,\n                  colors: ['#ccc', 'black', '#ccc'],\n                  min: min,\n                  max: max,\n                  rtl: false\n                }),\n                alignSelf: 'center'\n              }}\n            >\n              {children}\n            </div>\n          </div>\n        )}\n        renderThumb={({ props, isDragged }) => (\n          <div\n            {...props}\n            style={{\n              ...props.style,\n              height: '20px',\n              width: '20px',\n              borderRadius: '50%',\n              backgroundColor: '#ccc',\n              display: 'flex',\n              justifyContent: 'center',\n              alignItems: 'center',\n              boxShadow: '0px 2px 6px #AAA'\n            }}\n          >\n          </div>\n        )}\n      />\n    </div>\n  );\n};\n","import React, { useEffect, useState } from \"react\";\nimport { isEmpty } from \"lodash\";\nimport { StackedBarChart } from \"./../components/StackedBarChart\";\nimport { RangeWeek } from \"./../components/RangeWeek\";\n\nexport const Weeks = ({ data }) => {\n    const [suppliersColor, setSuppliersColor] = useState([]);\n    const [suppliers, setSuppliers] = useState([]);\n    const [suppliersWeek, setSuppliersWeek] = useState([]);\n    const [from, setFrom] = useState(0);\n    const [to, setTo] = useState(0);\n\n    useEffect(() => {\n        if (!isEmpty(data)) {\n            setSuppliersColor(data.weekContent.suppliersColor);\n            setSuppliers(data.weekContent.suppliers);\n            setSuppliersWeek(data.weekContent.suppliersWeek);\n\n            setTo(data.weekContent.suppliersWeek.length);\n            if (data.weekContent.suppliersWeek.length >= 9) {\n                setFrom(data.weekContent.suppliersWeek.length - 9);\n            }\n        }\n      }, [data]);\n\n    return (\n        <div className=\"row\">\n            {/* Title Box - Desktop View */}\n            <div className=\"col-12 d-flex justify-content-center align-items-center section-title px-5 mx-2\">\n                <h3>Andamento settimanale delle somministrazioni</h3>\n            </div>\n            {/* // Title Box - Desktop View */}\n            <div className=\"row col-12 m-2 p-2 \">\n                <div className=\"col-12 col-md-6 align-items-end testo-info-campania d-none d-sm-none d-md-flex d-lg-flex\"></div>\n                <div className=\"col-12 col-md-6  position-relative\">\n\n                    <div className=\"bg-gradient-bar\"></div>\n                </div>\n                <div className=\"col-12 col-md-4\" style={{ backgroundColor: \"#17324D\" }}>\n                    <div className=\"p-2 position-relative\">\n                        <div className=\"p-4\">\n                            <img src=\"group_person.svg\" alt=\"Logo\" className=\"img-fluid\" />\n                        </div>\n                        <div className=\"mt-4 ml-3\">\n                            {suppliers.map((supply, index) => {\n                                return (\n                                    <div className=\"row\" key={supply}>\n                                        <div className=\"circle\" style={{ backgroundColor: suppliersColor[supply] }}></div>\n                                        <span className=\"legend\">{supply}</span>\n                                    </div>\n                                )\n                            })}\n                        </div>\n                    </div>\n                </div>\n                <div className=\"col-12 col-md-8 text-white\"  style={{ backgroundColor: \"#17324D\" }}>\n                <div className=\"text-white text-center mt-3 \">*Passa con il mouse sulle barre del grafico per visualizzare i dati della settimana</div>\n                    <StackedBarChart\n                        title=\"\"\n                        xtitle=\"Somministrazione settimanale\"\n                        ytitle=\"\"\n                        width={780}\n                        height={350}\n                        marginBottom={10}\n                        property={{ xprop: \"label\", yprop: \"total\" }}\n\n                        colors={suppliersColor}\n                        keys={suppliers}\n                        data={suppliersWeek}\n                        selectedFrom={from}\n                        selectedTo={to}\n                    />\n                </div>\n                {suppliersWeek.length > 0 && (\n                    <RangeWeek min={0} max={suppliersWeek.length} from={from} to={to} changeFrom={(value) => setFrom(value)} changeTo={(value) => setTo(value)}  />\n                )}\n            </div>\n                <div>*Fai scorrere i selettori per aumentare o diminuire le settimane da visualizzare</div>\n        </div>\n    )\n};","import { React, useEffect, useRef } from \"react\";\nimport * as d3 from \"d3\";\n\nexport const Over60HStackedBarChart = ({\n  handleRectClick,\n  height,\n  width,\n  data,\n  keys,\n  labels,\n  colors,\n  selectedCodeAge,\n  regionSelected\n  }) => {\n\n  const myRef = useRef();\n  const divRef = useRef();\n\n  useEffect(() => {\n      doExit();\n      draw();\n      // eslint-disable-next-line\n  }, [data, keys, labels, selectedCodeAge]);\n\n\n  const responsivefy = (svg) => {\n    // Container is the DOM element, svg is appended.\n    // Then we measure the container and find its\n    // aspect ratio.\n    const container = d3.select(svg.node().parentNode),\n      width = parseInt(svg.style(\"width\"), 10),\n      height = parseInt(svg.style(\"height\"), 10),\n      aspect = width / height;\n\n    // Add viewBox attribute to set the value to initial size\n    // add preserveAspectRatio attribute to specify how to scale\n    // and call resize so that svg resizes on page load\n    svg\n      .attr(\"viewBox\", `0 0 ${width} ${height}`)\n      .attr(\"preserveAspectRatio\", \"xMinYMid\")\n      .call(resize);\n\n    d3.select(window).on(\"resize.\" + container.attr(\"id\"), resize);\n\n    function resize() {\n      const targetWidth = parseInt(container.style(\"width\"));\n      svg.attr(\"width\", targetWidth);\n      svg.attr(\"height\", Math.round(targetWidth / aspect));\n    }\n  };\n\n  function doExit() {\n    d3.select(divRef.current).selectAll(\"svg\").remove();\n  }\n\n  const draw = () => {\n\n    const dataset = d3.stack().keys(keys)(data);\n\n    // append element\n    const svg = d3\n      .select(divRef.current)\n      .append(\"svg\")\n      .style('margin-bottom', 10)\n      .attr(\"width\", width)\n      .attr(\"height\", height);\n    const margin = { y: 30, x: 60 };\n\n    // axis\n    const xScale = d3.scaleLinear().domain([0, d3.max(data, function(d) { return d['somministrazioni'] + d['guariti'] + d['totale']; })]);\n    const yScale = d3.scaleBand().padding(0.2);\n    xScale.range([0, width]);\n    yScale.range([0, height]).domain(data.map((d) => d.label));\n\n    svg\n      .attr(\"width\", width + 2 * margin.x)\n      .attr(\"height\", height + 2 * margin.y)\n      .call(responsivefy) // Call responsivefy to make the chart responsive\n      .attr(\"id\", \"svg-stack-bar\");\n\n    const chart = svg\n      .append(\"g\")\n      .attr(\"transform\", `translate(${margin.x},${margin.y})`);\n\n    chart\n      .append(\"g\")\n      .attr(\"class\", \"axis\")\n      .attr(\"transform\", `translate(0, 0)`)\n      .style(\"font-size\", \"12px\")\n      .call(d3.axisLeft(yScale))\n      .attr('stroke-width', 0)\n        .selectAll(\"text\")\n            .attr(\"y\", 0)\n            .attr(\"x\", -30)\n            .style(\"text-anchor\", \"start\")\n            .style(\"fill\", \"#19191a\");\n\n\n    const tooltip = d3\n      .select('body')\n      .append('div')\n      .attr('class', 'd3-tooltip')\n      .style('position', 'absolute')\n      .style('z-index', '10')\n      .style('display', 'none')\n      .style('padding', '10px')\n      .style('background', 'rgba(0,0,0,0.8)')\n      .style('border-radius', '4px')\n      .style('color', '#fff');\n\n    const path = chart.selectAll().data(dataset);\n\n    path\n      .enter()\n      .append(\"g\")\n      .attr(\"fill\", function(d) {\n        return colors[d.index];\n      })\n      .attr(\"dose\", function(d) {\n        return d.key;\n      })\n      .selectAll(\"rect\")\n      .data(function(d) {\n        return d;\n      })\n      .enter().append(\"rect\")\n      .on(\"click\", (e, d) => {\n        handleRectClick(d);\n        tooltip.html(``).style('display', 'none');\n      })\n      .attr(\"opacity\", (d) => {\n        const ageCode = d.data.label.toLowerCase().replaceAll(' ', '_');\n\n        let opac = selectedCodeAge === ageCode ? 1 : !selectedCodeAge ? 1 : 0.3;\n        return opac;\n      })\n      .attr(\"x\", function(d) {\n        return xScale(d[0]) + 60;\n      })\n      .attr(\"y\", function(d) {\n        return yScale(d.data.label);\n      })\n      .attr(\"width\", function(d) {\n        return xScale(d[1]) - xScale(d[0]);\n      })\n      .attr(\"height\", yScale.bandwidth())\n      .on('mouseover', function (d, i) {\n        d3.select(this).transition().attr('fill', '#0BD9D3');\n      })\n      .on('mousemove', function (event, d) {\n        let regione = regionSelected ? \" \" + regionSelected : \"\";\n\n        tooltip\n          .style('top', event.pageY - 10 + 'px')\n          .style('left', event.pageX + 10 + 'px');\n\n          if (d3.select(this.parentNode).attr(\"dose\") === 'totale') {\n            let sum = d.data[\"somministrazioni\"] + d.data[\"guariti\"] + d.data[\"totale\"];\n\n            tooltip\n              .style('top', event.pageY - 10 + 'px')\n              .style('left', event.pageX + 10 + 'px');\n            tooltip\n              .html(\n                  `<div style=\"text-align: center; line-height: 1.15rem;\">\n                  <div style=\"font-size: 12px;\">${regione}</div>\n                  <div><b>${d.data.label}</b></div>\n                  <div style=\"font-size: 14px;\">Platea</div>\n                  <div>${sum.toLocaleString('it')}</div>\n                  </div>`\n                  )\n              .style('display', null);\n          }\n          else {\n            tooltip\n              .html(\n                  `<div style=\"text-align: center; line-height: 1.15rem;\">\n                  <div style=\"font-size: 12px;\">${regione} ${d.data.label}</div>\n                  <div style=\"text-align: center\"><b>${labels[d3.select(this.parentNode).attr(\"dose\")]} </b></div>\n                  <div style=\"font-size: 14px;\">${(d[1]).toLocaleString('it')}</div>`\n              )\n              .style('display', null);\n          }\n      })\n      .on('mouseout', function (d) {\n          tooltip.html(``).style('display', 'none');\n          d3.select(this).transition().attr('fill', colors[d.key]);\n      });\n\n    path.exit().remove();\n  };\n\n  return (\n    <div ref={divRef} className=\"chart svg-container\">\n      <svg ref={myRef} className=\"svg-content-responsive\"></svg>\n    </div>\n  );\n};\n","import React, { useEffect, useState } from \"react\";\nimport { isEmpty, max } from \"lodash\";\nimport { Over60HStackedBarChart } from \"../components/Over60HStackedBarChart\";\nimport { MapArea } from \"../components/MapArea\";\n\nexport const Over60 = ({ data }) => {\n    const [over60Color, setOver60Color] = useState([]);\n    const [over60, setOver60] = useState([]);\n    const [over60Keys, setOver60Keys] = useState([]);\n    const [over60Data, setOver60Data] = useState([]);\n    const [keyValueOver60, setKeyValueOver60] = useState({});\n\n    const [categoryMapData, setCategoryMapData] = useState([]);\n    const [categoryMapField, setCategoryMapField] = useState(\"totale\");\n\n    const [categorySelectedRegion, setCategorySelectedRegion] = useState(null);\n    const [categorySelectedRegionDescr, setCategorySelectedRegionDescr] = useState(null);\n    const [selectedCodeAge, setSelectedCodeAge] = useState(null);\n\n    useEffect(() => {\n        if (!isEmpty(data)) {\n            setOver60Color(data.over60Color);\n            setOver60(data.over60);\n            setOver60Data(data.over60Data);\n            setOver60Keys(data.keysOver60);\n            setCategoryMapData(data.over60MapData);\n            setKeyValueOver60(data.keyValueOver60);\n        }\n    }, [data]);\n\n    const resetFilter = () => {\n        setSelectedCodeAge(null);\n        setCategorySelectedRegion(null);\n        setCategorySelectedRegionDescr(null);\n        setOver60Data(data.over60Data);\n        setCategoryMapField(\"totale\");\n        setCategoryMapData(data.over60MapData);\n    };\n\n    const fillMapCategoryArea = ({ region, maxValue, field }) => {\n        let scaleOp = 0;\n        if (region.code === categorySelectedRegion) {\n          scaleOp = 1;\n        } else if (!categorySelectedRegion) {\n          scaleOp = max([region[field] / maxValue, 0.1]);\n        } else {\n          const valueToFill = region[field] / (2 * maxValue);\n          scaleOp = max([valueToFill, 0.1]);\n        }\n        return `rgba(0,102,204,${scaleOp}) `;\n    };\n\n    const handleMapCategoryClick = (region) => {\n        if (selectedCodeAge) {\n          resetFilter();\n        }\n\n        if (categorySelectedRegion === region.code) {\n          resetFilter();\n        } else {\n          setCategorySelectedRegion(region.code);\n          setCategorySelectedRegionDescr(region.area);\n          setOver60Data(data.over60RegionData[region.code]);\n        }\n    };\n\n    const handleCategoryBarChartClick = (cat) => {\n        if (categorySelectedRegion) {\n          resetFilter();\n        }\n\n        const ageCode = cat.data.label.toLowerCase().replaceAll(' ', '_');\n\n        if (selectedCodeAge === ageCode) {\n          resetFilter();\n        } else {\n          setSelectedCodeAge(ageCode);\n          setCategoryMapField(ageCode);\n        }\n    };\n\n    return (\n        <div className=\"row\">\n            <div className=\"col-12 col-md-6\">\n\n                {/* Graph */}\n                <Over60HStackedBarChart\n                    width={+350}\n                    height={+120}\n                    property={{ xprop: \"label\", yprop: \"total\" }}\n                    handleRectClick={handleCategoryBarChartClick}\n                    regionSelected={categorySelectedRegionDescr}\n                    selectedCodeAge={selectedCodeAge}\n                    colors={over60Color}\n                    keys={over60Keys}\n                    labels={keyValueOver60}\n                    data={over60Data}\n                />\n                {/* // Graph */}\n\n                 {/* Legend */}\n                 <div className=\"row mb-4 ml-4\">\n                    {over60.map((itemVal, index) => {\n                        return (\n                            <div className=\"row\" key={itemVal}>\n                                <div className=\"circle\" style={{ backgroundColor: over60Color[index] }}></div>\n                                <div className=\"legend-dark mr-4\">{itemVal}</div>\n                            </div>\n                        )\n                    })}\n                </div>\n                {/* // Legend */}\n\n                <p className=\"d-none d-sm-block text-center\">*Passa con il mouse sulle barre del grafico per visualizzare i dati di dettaglio</p>\n            </div>\n            <div className=\"col-12 col-md-6 my-0 py-0\">\n\n                {/* Map Title - Mobile View*/}\n                <div className=\"p-4 d-lg-none\">\n                    <div className=\"text-center\">\n                        <h5>Percentuale copertura per regione</h5>\n                    </div>\n                </div>\n                {/* // Map Title - Mobile View*/}\n\n                {/* Map Graph */}\n                <MapArea\n                    fillMapDeliveryArea={fillMapCategoryArea}\n                    summary={categoryMapData}\n                    handleMapDeliveryClick={handleMapCategoryClick}\n                    fillBy={categoryMapField}\n                    percentage={true}\n                    tooltip={(r) => {\n                            return (\n                                r.area +\n                                \" \" +\n                                (r[categoryMapField] && r[categoryMapField].toFixed(2).toLocaleString(\"it\") + \"%\")\n                            )\n                        }\n                    }\n                    className=\"ml-5\"\n                />\n                {/* // Map Graph */}\n\n                {/* Map Title - Desktop View*/}\n                {/* <div className=\"p-4 position-relative d-none d-lg-block\" style={{ left: \"300px\", top: \"-390px\" }}> */}\n                <div className=\"p-4 d-none d-lg-block map-legend\">\n                    <div className=\"d-flex justify-content-start pr-5\">\n                        <h5 className=\"pl-3 pl-sm-1\">\n                            Percentuale copertura\n                            <br /> per regione\n                        </h5>\n                    </div>\n                </div>\n                {/* // Map Title - Desktop View*/}\n            </div>\n        </div>\n    )\n};","import React, { useEffect, useState } from \"react\";\nimport { Over60 } from \"../containers/over60\";\n\nexport const Databox = ({ data }) => {\n\n    const [somministrazioniOver60, setSomministrazioniOver60] = useState(''); // Somministrazioni over 60\n    const [percentualeSomministrazioniOver60, setPercentualeSomministrazioniOver60] = useState(''); // Percentuale Somministrazioni over 60\n\n    const [guarigioniOver60, setGuarigioniOver60] = useState(''); // Guarigioni over 60\n    const [percentualeGuarigioniOver60, setPercentualeGuarigioniOver60] = useState(''); // Percentuale Guarigioni over 60\n\n    const [totaleOver60, setTotaleOver60] = useState(''); // Somministrazioni + Guarigioni over 60\n    const [percentualeTotaleOver60, setPercentualeTotaleOver60] = useState(''); // Percentuale Somministrazioni + Guarigioni over 60\n\n    const [totalePrimaDose, setTotalePrimaDose] = useState(''); // Prima Dose\n    const [percentualePrimaDosePopolazione, setPercentualePrimaDosePopolazione] = useState(''); // Percentuale Prima Dose\n\n    const [totalePersoneVaccinate, setTotalePersoneVaccinate] = useState(''); // Completamento ciclo vaccinale\n    const [totalePersoneVaccinatePopolazione, setTotalePersoneVaccinatePopolazione] = useState(''); // Percentuale Completamento ciclo vaccinale\n\n    const [totaleDoseAddizionaleBooster, setTotaleDoseAddizionaleBooster] = useState(''); // Dose aggiuntiva/booster\n    const [percentualeDoseAddizionaleBooster, setPercentualeDoseAddizionaleBooster] = useState(''); // Percentuale Dose aggiuntiva/booster\n\n    const [totalePersoneSecondBooster, setTotalePersoneSecondBooster] = useState(''); // Dose seconda booster\n    const [percentualePersoneSecondBooster, setPercentualePersoneSecondBooster] = useState(''); // Percentuale Dose seconda booster\n\n    const [totalePersoneThirdBooster, setTotalePersoneThirdBooster] = useState(''); // Dose terza booster\n    const [percentualePersoneThirdBooster, setPercentualePersoneThirdBooster] = useState(''); // Percentuale Dose terza booster\n\n    const [totalePersoneGuarite, setTotalePersoneGuarite] = useState(''); // Guariti\n    const [totalePersoneGuaritePopolazione, setTotalePersoneGuaritePopolazione] = useState(''); // Percentuale Guariti\n\n    const [totalePersoneGuariteDoppiaDose, setTotalePersoneGuariteDoppiaDose] = useState(''); // Guariti con doppia dose\n    const [totalePersoneGuaritePopolazioneDoppiaDose, setTotalePersoneGuaritePopolazioneDoppiaDose] = useState(''); // Percentuale Guariti con doppia dose\n\n    const [totaleAlmenoUnaGuariti, setTotaleAlmenoUnaGuariti] = useState(''); // Prima Dose + Guariti\n    const [percentualeAlmenoUnaGuariti, setPercentualeAlmenoUnaGuariti] = useState(''); // Percentuale Prima Dose + Guariti\n\n    const [totaleDoseAddizionaleGuaritiDoppiaDose, setTotaleDoseAddizionaleGuaritiDoppiaDose] = useState(''); // Booster + Guariti doppia dose\n    const [percentualeDoseAddizionaleGuaritiDoppiaDose, setPercentualeDoseAddizionaleGuaritiDoppiaDose] = useState(''); // Percentuale Booster + Guariti doppia dose\n\n    const [totaleGuaritiDopoDoseBooster, setTotaleGuaritiDopoDoseBooster] = useState(''); // Guariti dopo dose booster\n    const [percentualeGuaritiDopoDoseBooster, setPercentualeGuaritiDopoDoseBooster] = useState(''); // Percentuale Guariti dopo dose booster\n\n    const [totaleGuaritiDopoSecondaDoseBooster, setTotaleGuaritiDopoSecondaDoseBooster] = useState(''); // Guariti dopo seconda dose booster\n    const [percentualeGuaritiDopoSecondaDoseBooster, setPercentualeGuaritiDopoSecondaDoseBooster] = useState(''); // Percentuale Guariti dopo seconda dose booster\n\n    const [totaleBooster, setTotaleBooster] = useState(''); // Totale booster\n    const [percentualeTotaleBooster, setPercentualeTotaleBooster] = useState(''); // Percentuale Totale booster\n\n    const [totaleThirdBooster, setTotaleThirdBooster] = useState(''); // Totale booster 3 dose booster\n    const [percentualeTotaleThirdBooster, setPercentualeTotaleThirdBooster] = useState(''); // Percentuale Totale booster 3 dose booster\n\n    const [totalePrimaDoseBaby, setTotalePrimaDoseBaby] = useState(''); // Prima Dose Baby\n    const [percentualePrimaDosePopolazioneBaby, setPercentualePrimaDosePopolazioneBaby] = useState(''); // Percentuale Prima Dose Baby\n\n    const [totalePersoneVaccinateBaby, setTotalePersoneVaccinateBaby] = useState(''); // Completamento ciclo vaccinale Baby\n    const [totalePersoneVaccinatePopolazioneBaby, setTotalePersoneVaccinatePopolazioneBaby] = useState(''); // Percentuale Completamento ciclo vaccinale Baby\n\n    const [totalePersoneGuariteBaby, setTotalePersoneGuariteBaby] = useState(''); // Guariti Baby\n    const [totalePersoneGuaritePopolazioneBaby, setTotalePersoneGuaritePopolazioneBaby] = useState(''); // Percentuale Guariti Baby\n\n    const [totalePrimaDoseConGuaritiBaby, setTotalePrimaDoseConGuaritiBaby] = useState(''); // Prima Dose Baby + Guariti Baby\n    const [percentualeTotalePrimaDoseConGuaritiBaby, setPercentualeTotalePrimaDoseConGuaritiBaby] = useState(''); // Percentuale Prima Dose Baby + Guariti Baby\n\n    const [totaleDoseAddizionaleBoosterBaby, setTotaleDoseAddizionaleBoosterBaby] = useState(''); // Dose aggiuntiva/booster 5-11\n    const [percentualeDoseAddizionaleBoosterBaby, setPercentualeDoseAddizionaleBoosterBaby] = useState(''); // Percentuale Dose aggiuntiva/booster 5-11\n\n    const [totalePersoneGuariteDoppiaDoseBaby, setTotalePersoneGuariteDoppiaDoseBaby] = useState(''); // Guariti con doppia dose 5-11\n    const [totalePersoneGuaritePopolazioneDoppiaDoseBaby, setTotalePersoneGuaritePopolazioneDoppiaDoseBaby] = useState(''); // Percentuale Guariti con doppia dose 5-11\n\n    const [totaleDoseAddizionaleGuaritiDoppiaDoseBaby, setTotaleDoseAddizionaleGuaritiDoppiaDoseBaby] = useState(''); // Booster + Guariti doppia dose 5-11\n    const [percentualeDoseAddizionaleGuaritiDoppiaDoseBaby, setPercentualeDoseAddizionaleGuaritiDoppiaDoseBaby] = useState(''); // Percentuale Booster + Guariti doppia dose 5-11\n\n    const [totalePrimaDoseInfant, setTotalePrimaDoseInfant] = useState(''); // Prima Dose Neonati\n    const [percentualePrimaDosePopolazioneInfant, setPercentualePrimaDosePopolazioneInfant] = useState(''); // Percentuale Prima Dose Neonati\n\n    const [totalePersoneVaccinateInfant, setTotalePersoneVaccinateInfant] = useState(''); // Completamento ciclo vaccinale neonati\n    const [totalePersoneVaccinatePopolazioneInfant, setTotalePersoneVaccinatePopolazioneInfant] = useState(''); // Percentuale Completamento ciclo vaccinale neonati\n\n    const [totalePersoneGuariteInfant, setTotalePersoneGuariteInfant] = useState(''); // Guariti Neonati\n    const [totalePersoneGuaritePopolazioneInfant, setTotalePersoneGuaritePopolazioneInfant] = useState(''); // Percentuale Guariti neonati\n\n    const [totalePrimaDoseConGuaritiInfant, setTotalePrimaDoseConGuaritiInfant] = useState(''); // Prima Dose neonati + Guariti neonati\n    const [percentualeTotalePrimaDoseConGuaritiInfant, setPercentualeTotalePrimaDoseConGuaritiInfant] = useState(''); // Percentuale Prima Dose neonati + Guariti naonati\n\n    useEffect(() => {\n\n        // Somministrazioni over 60\n        setSomministrazioniOver60(format(data?.totalDoses?.somministrazioni_over60));\n        setPercentualeSomministrazioniOver60(format(data?.totalDoses?.somministrazioni_over60 / data?.databoxContent?.totalPlateaOver60 * 100, true));\n\n        // Guarigioni over 60\n        setGuarigioniOver60(format(data?.totalDoses?.guarigioni_over60));\n        setPercentualeGuarigioniOver60(format(data?.totalDoses?.guarigioni_over60 / data?.databoxContent?.totalPlateaOver60 * 100, true));\n\n        // Totale over 60\n        if (data?.totalDoses?.guarigioni_over60) {\n            setTotaleOver60(format(data?.totalDoses?.guarigioni_over60 + data?.totalDoses?.somministrazioni_over60));\n            setPercentualeTotaleOver60(format((data?.totalDoses?.guarigioni_over60 + data?.totalDoses?.somministrazioni_over60) / data?.databoxContent?.totalPlateaOver60 * 100, true));\n        }\n\n        // Prima Dose\n        let prima = (data?.totalDoses?.prima_dose + data?.totalDoses?.pregressa_infezione);\n        if (!isNaN(prima)) {\n            setTotalePrimaDose(format(prima));\n            setPercentualePrimaDosePopolazione(format(prima / data?.databoxContent?.totalPlatea * 100, true));\n\n            //Prima Dose + Guariti\n            setTotaleAlmenoUnaGuariti(format((prima + data?.databoxContent?.totalGuaritiNotBaby)));\n            setPercentualeAlmenoUnaGuariti(format((prima + data?.databoxContent?.totalGuaritiNotBaby) / data?.databoxContent?.totalPlatea * 100, true));\n        }\n\n        // Completamento ciclo vaccinale\n        let tot = (data?.totalDoses?.seconda_dose + data?.totalDoses?.prima_dose_janssen + data?.totalDoses?.pregressa_infezione);\n        if (!isNaN(tot)) {\n            setTotalePersoneVaccinate(format(tot));\n            setTotalePersoneVaccinatePopolazione(format(tot / data?.databoxContent?.totalPlatea * 100, true));\n        }\n\n        // Dose aggiuntiva/booster\n        setTotaleDoseAddizionaleBooster(data?.totalDoses?.dose_addizionale_booster);\n        setPercentualeDoseAddizionaleBooster(format(data?.totalDoses?.dose_addizionale_booster / data?.databoxContent?.totalPlateaDoseAddizionaleBooster * 100, true));\n\n        // Dose second booster\n        setTotalePersoneSecondBooster(format(data?.totalDoses?.dose_second_booster));\n        setPercentualePersoneSecondBooster(format(data?.totalDoses?.dose_second_booster / data?.databoxContent?.totalPlateaDoseSecondBooster * 100, true))\n        \n        // Dose third booster\n        setTotalePersoneThirdBooster(format(data?.totalDoses?.dose_third_booster));\n        setPercentualePersoneThirdBooster(format(data?.totalDoses?.dose_third_booster / data?.databoxContent?.totalPlateaDoseThirdBooster * 100, true));\n\n        // Guariti\n        setTotalePersoneGuarite(format(data?.databoxContent?.totalGuaritiNotBaby));\n        setTotalePersoneGuaritePopolazione(format(data?.databoxContent?.totalGuaritiNotBaby / data?.databoxContent?.totalPlatea * 100, true));\n\n        // Guariti con doppia dose\n        setTotalePersoneGuariteDoppiaDose(data?.databoxContent?.totalGuaritiDoppiaNotBaby);\n        setTotalePersoneGuaritePopolazioneDoppiaDose(format(data?.databoxContent?.totalGuaritiDoppiaNotBaby/ data?.databoxContent?.totalPlateaDoseAddizionaleBooster * 100, true));\n\n        // Dose aggiuntiva/booster + Guariti con doppia dose\n        setTotaleDoseAddizionaleGuaritiDoppiaDose(format(data?.databoxContent?.totalGuaritiDoppiaNotBaby + data?.totalDoses?.dose_addizionale_booster));\n        setPercentualeDoseAddizionaleGuaritiDoppiaDose(format((data?.databoxContent?.totalGuaritiDoppiaNotBaby + data?.totalDoses?.dose_addizionale_booster) / data?.databoxContent?.totalPlateaDoseAddizionaleBooster* 100, true));\n\n        // Guariti dopo prima dose booster\n        setTotaleGuaritiDopoDoseBooster(format(data?.databoxContent?.totalGuaritiBoosterNotBaby));\n        setPercentualeGuaritiDopoDoseBooster(format(data?.databoxContent?.totalGuaritiBoosterNotBaby / data?.databoxContent?.totalPlateaDoseSecondBooster * 100, true));\n\n         // Guariti dopo seconda dose booster\n         setTotaleGuaritiDopoSecondaDoseBooster(format(data?.databoxContent?.totalGuaritiSecondBoosterNotBaby));\n         setPercentualeGuaritiDopoSecondaDoseBooster(format(data?.databoxContent?.totalGuaritiSecondBoosterNotBaby / data?.databoxContent?.totalPlateaDoseThirdBooster * 100, true));\n\n        // Totale booster\n        setTotaleBooster(format(data?.totalDoses?.dose_second_booster + data?.databoxContent?.totalGuaritiBoosterNotBaby)); \n        setPercentualeTotaleBooster(format((data?.totalDoses?.dose_second_booster + data?.databoxContent?.totalGuaritiBoosterNotBaby) / (data?.databoxContent?.totalPlateaDoseSecondBooster) * 100, true));\n\n        // Totale booster terza dose\n        setTotaleThirdBooster(format(data?.totalDoses?.dose_third_booster + data?.databoxContent?.totalGuaritiSecondBoosterNotBaby)); \n        setPercentualeTotaleThirdBooster(format((data?.totalDoses?.dose_third_booster + data?.databoxContent?.totalGuaritiSecondBoosterNotBaby) / (data?.databoxContent?.totalPlateaDoseThirdBooster) * 100, true));\n\n        // Prima Dose Baby\n        let primaBaby = (data?.totalDoses?.prima_dose_baby + data?.totalDoses?.pregressa_infezione_baby);\n        if (!isNaN(primaBaby)) {\n            setTotalePrimaDoseBaby(format(primaBaby));\n            setPercentualePrimaDosePopolazioneBaby(format(primaBaby / data?.databoxContent?.totalPlateaBaby* 100, true));\n        }\n\n        // Completamento ciclo vaccinale Baby\n        let totBaby = (data?.totalDoses?.seconda_dose_baby + data?.totalDoses?.prima_dose_janssen_baby + data?.totalDoses?.pregressa_infezione_baby);\n        if (!isNaN(totBaby)) {\n            setTotalePersoneVaccinateBaby(format(totBaby));\n            setTotalePersoneVaccinatePopolazioneBaby(format(totBaby / data?.databoxContent?.totalPlateaBaby* 100, true));\n        }\n\n        // Guariti Baby\n        setTotalePersoneGuariteBaby(format(data?.databoxContent?.totalGuaritiBaby));\n        setTotalePersoneGuaritePopolazioneBaby(format(data?.databoxContent?.totalGuaritiBaby / data?.databoxContent?.totalPlateaBaby* 100, true));\n\n        // Prima Dose + Guariti Baby\n        setTotalePrimaDoseConGuaritiBaby(format(primaBaby + data?.databoxContent?.totalGuaritiBaby));\n        setPercentualeTotalePrimaDoseConGuaritiBaby(format((primaBaby + data?.databoxContent?.totalGuaritiBaby) / data?.databoxContent?.totalPlateaBaby* 100, true));\n\n        // Dose aggiuntiva/booster baby\n        setTotaleDoseAddizionaleBoosterBaby(data?.totalDoses?.dose_addizionale_booster_baby);\n        setPercentualeDoseAddizionaleBoosterBaby(format(data?.totalDoses?.dose_addizionale_booster_baby / data?.databoxContent?.totalPlateaDoseAddizionaleBoosterBaby * 100, true));\n\n        // Guariti con doppia dose baby\n        setTotalePersoneGuariteDoppiaDoseBaby(data?.databoxContent?.totalGuaritiDoppiaBaby);\n        setTotalePersoneGuaritePopolazioneDoppiaDoseBaby(format(data?.databoxContent?.totalGuaritiDoppiaBaby/ data?.databoxContent?.totalPlateaDoseAddizionaleBoosterBaby * 100, true));\n\n        // Dose aggiuntiva/booster + Guariti con doppia dose\n        setTotaleDoseAddizionaleGuaritiDoppiaDoseBaby(format(data?.databoxContent?.totalGuaritiDoppiaBaby + data?.totalDoses?.dose_addizionale_booster_baby));\n        setPercentualeDoseAddizionaleGuaritiDoppiaDoseBaby(format((data?.databoxContent?.totalGuaritiDoppiaBaby + data?.totalDoses?.dose_addizionale_booster_baby) / data?.databoxContent?.totalPlateaDoseAddizionaleBoosterBaby* 100, true));\n  \n         // Prima Dose neonati\n         let primaInfant = (data?.totalDoses?.prima_dose_infant + data?.totalDoses?.pregressa_infezione_infant);\n         if (!isNaN(primaInfant)) {\n             setTotalePrimaDoseInfant(format(primaInfant));\n             setPercentualePrimaDosePopolazioneInfant(format(primaInfant / data?.databoxContent?.totalPlateaInfant* 100, true));\n         }\n \n         // Completamento ciclo vaccinale neonati\n         let totInfant = (data?.totalDoses?.seconda_dose_infant + data?.totalDoses?.prima_dose_janssen_infant + data?.totalDoses?.pregressa_infezione_infant);\n         if (!isNaN(totInfant)) {\n             setTotalePersoneVaccinateInfant(format(totInfant));\n             setTotalePersoneVaccinatePopolazioneInfant(format(totInfant / data?.databoxContent?.totalPlateaInfant* 100, true));\n         }\n \n         // Guariti neonati\n         setTotalePersoneGuariteInfant(format(data?.databoxContent?.totalGuaritiInfant));\n         setTotalePersoneGuaritePopolazioneInfant(format(data?.databoxContent?.totalGuaritiInfant / data?.databoxContent?.totalPlateaInfant* 100, true));\n \n         // Prima Dose + Guariti neonati\n         setTotalePrimaDoseConGuaritiInfant(format(primaInfant + data?.databoxContent?.totalGuaritiInfant));\n         setPercentualeTotalePrimaDoseConGuaritiInfant(format((primaInfant + data?.databoxContent?.totalGuaritiInfant) / data?.databoxContent?.totalPlateaInfant* 100, true));\n    }, [data]);\n\n    function format(data, digit = false) {\n        if (digit) {\n            return data?.toLocaleString('it', {minimumFractionDigits: 2, maximumFractionDigits: 2});\n        }\n        return data?.toLocaleString('it');\n    }\n\n    return (\n        <div className=\"p-3 mb-5\">\n\n            <div className=\"col-12 d-flex justify-content-center align-items-center p-3 section-title small\">\n                <div className=\"mb-2\" >\n                    <h3 className=\"text-center\">Copertura vaccinale Covid-19<br />Over 60</h3>\n                </div>\n            </div>\n\n            <div className=\"row bg-box p-2 mb-4\">\n                <div className=\"col-md-4 col-sm-12\">\n                    <div className=\"box-card p-2\">\n                        <div className=\"p-1\">\n                            <div className=\"align-items-center justify-content-center text-center mb-4\">\n                                <h5 className=\"mt-2\">Somministrazioni</h5>\n                                <div className=\"box-numbers\">{somministrazioniOver60}</div>\n                                <div className=\"box-text\">{percentualeSomministrazioniOver60} % della popolazione over 60<br />oggetto di somministrazione anti Covid-19<br />da al massimo 4 mesi</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"col-md-4 col-sm-12\">\n                    <div className=\"box-card p-2\">\n                        <div className=\"p-1\">\n                            <div className=\"align-items-center justify-content-center text-center mb-4\">\n                                <h5 className=\"mt-2\">Guarigioni</h5>\n                                <div className=\"box-numbers\">{guarigioniOver60}</div>\n                                <div className=\"box-text\">{percentualeGuarigioniOver60} % della popolazione over 60<br />guarita dall'infezione<br />da al massimo 4 mesi</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"col-md-4 col-sm-12\">\n                    <div className=\"box-card p-2\">\n                        <div className=\"p-1\">\n                            <div className=\"align-items-center justify-content-center text-center mb-4\">\n                                <h5 className=\"mt-2\">Totale</h5>\n                                <div className=\"box-numbers\">{totaleOver60}</div>\n                                <div className=\"box-text\">{percentualeTotaleOver60} % della popolazione over 60</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <Over60 data={data.over60Content} />                   {/* Grafico over 60 */}\n\n            <div className=\"col-12 d-flex justify-content-center align-items-center p-3 section-title small\">\n                <div className=\"mb-2\" >\n                    <h3 className=\"text-center\">Ciclo Vaccinale Primario</h3>\n                </div>\n            </div>\n\n            <div className=\"row bg-box p-2 mb-4\">\n                <div className=\"col-md-4 col-sm-12\">\n                    <div className=\"box-card p-2\">\n                        <div className=\"p-1\">\n                            <div className=\"align-items-center justify-content-center text-center mb-4\">\n                                <h5 className=\"mt-2\">Con almeno una dose</h5>\n                                <div className=\"box-numbers\">{totalePrimaDose}</div>\n                                <div className=\"box-text\">{percentualePrimaDosePopolazione} % della popolazione over 12</div>\n                                <div className=\"box-label\" >(persone con almeno una somministrazione)</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"col-md-4 col-sm-12\">\n                    <div className=\"box-card p-2\">\n                        <div className=\"p-1\">\n                            <div className=\"align-items-center justify-content-center text-center mb-4\">\n                                <h5 className=\"mt-2\">Ciclo vaccinale</h5>\n                                <div className=\"box-numbers\">{totalePersoneVaccinate}</div>\n                                <div className=\"box-text\">{totalePersoneVaccinatePopolazione} % della popolazione over 12</div>\n                                <div className=\"box-label\" >(persone che hanno completato il ciclo vaccinale)</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"col-md-4 col-sm-12\">\n                    <div className=\"box-card p-2\">\n                        <div className=\"p-1\">\n                            <div className=\"align-items-center justify-content-center text-center mb-4\">\n                                <h5 className=\"mt-2\">Guariti</h5>\n                                <div className=\"box-numbers\">{totalePersoneGuarite}</div>\n                                <div className=\"box-text\">{totalePersoneGuaritePopolazione} % della popolazione over 12</div>\n                                <div className=\"box-label\" >guarita da al massimo 6 mesi senza alcuna somministrazione</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"col-md-12 col-sm-12\">\n                    <div className=\"box-card p-2\">\n                        <div className=\"p-1\">\n                            <div className=\"align-items-center justify-content-center text-center mb-4\">\n                                <h5 className=\"mt-2\">Totale</h5>\n                                <div className=\"box-numbers\">{totaleAlmenoUnaGuariti}</div>\n                                <div className=\"box-text\">{percentualeAlmenoUnaGuariti} % della popolazione over 12</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n\n            <div className=\"col-12 d-flex justify-content-center align-items-center p-3 section-title small\">\n                <div className=\"mb-2\" >\n                    <h3 className=\"text-center\">Dose Addizionale/Booster</h3>\n                </div>\n            </div>\n\n            <div className=\"row bg-box p-2 mb-4\">\n                <div className=\"col-md-6 col-sm-12\">\n                    <div className=\"box-card p-2\">\n                        <div className=\"p-1\">\n                            <div className=\"align-items-center justify-content-center text-center\">\n                                <h5 className=\"mt-2 mb-3\">Dose addizionale/richiamo (booster)</h5>\n                                <div className=\"box-numbers\">{totaleDoseAddizionaleBooster?.toLocaleString('it')}</div>\n                                <div className=\"box-text\">{percentualeDoseAddizionaleBooster} % della popolazione potenzialmente oggetto di<br />dose addizionale o booster che ha ultimato il ciclo vaccinale<br />da almeno 4 mesi</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"col-md-6 col-sm-12\">\n                    <div className=\"box-card p-2\">\n                        <div className=\"p-1\">\n                            <div className=\"align-items-center justify-content-center text-center\">\n                                <h5 className=\"mt-2 mb-3\">Guariti post 2ª dose/unica dose</h5>\n                                <div className=\"box-numbers\">{totalePersoneGuariteDoppiaDose?.toLocaleString('it')}</div>\n                                <div className=\"box-text\">{totalePersoneGuaritePopolazioneDoppiaDose} % della popolazione potenzialmente oggetto di<br />dose addizionale o booster guarita post 2ª dose/unica dose<br />da al massimo 4 mesi</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"col-md-12 col-sm-12\">\n                    <div className=\"box-card p-2\">\n                        <div className=\"p-1\">\n                            <div className=\"align-items-center justify-content-center text-center mb-4\">\n                                <h5 className=\"mt-2 mb-3\">Totale</h5>\n                                <div className=\"box-numbers\">{totaleDoseAddizionaleGuaritiDoppiaDose}</div>\n                                <div className=\"box-text\">{percentualeDoseAddizionaleGuaritiDoppiaDose} % della platea dose booster</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div className=\"col-12 d-flex justify-content-center align-items-center p-3 section-title small\">\n                <div className=\"mb-2\" >\n                    <h3 className=\"text-center\">Seconda dose booster</h3>\n                </div>\n            </div>\n\n            <div className=\"row bg-box p-2 mb-4\">\n                <div className=\"col-md-6 col-sm-12\">\n                    <div className=\"box-card p-2\">\n                        <div className=\"p-1\">\n                            <div className=\"align-items-center justify-content-center text-center\">\n                                <h5 className=\"mt-2 mb-3\">Booster immuno / 2ª dose booster</h5>\n                                <div className=\"box-numbers\">{totalePersoneSecondBooster?.toLocaleString('it')}</div>\n                                <div className=\"box-text\">{percentualePersoneSecondBooster} % della popolazione potenzialmente oggetto di <br />dose booster/2ª booster cha ha ultimato il ciclo vaccinale<br />da almeno 4 mesi</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"col-md-6 col-sm-12\">\n                    <div className=\"box-card p-2\">\n                        <div className=\"p-1\">\n                            <div className=\"align-items-center justify-content-center text-center\">\n                                <h5 className=\"mt-2 mb-3\">Guariti post 1ª dose booster</h5>\n                                <div className=\"box-numbers\">{totaleGuaritiDopoDoseBooster?.toLocaleString('it')}</div>\n                                <div className=\"box-text\">{percentualeGuaritiDopoDoseBooster} % della popolazione potenzialmente oggetto di <br />2ª dose booster guarita post 1ª dose booster da<br />al massimo 6 mesi</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"col-md-12 col-sm-12\">\n                    <div className=\"box-card mb-3\">\n                        <div className=\"p-1\">\n                            <div className=\"align-items-center justify-content-center text-center mb-4\">\n                                <h5 className=\"mt-2 mb-3\">Totale</h5>\n                                <div className=\"box-numbers\">{totaleBooster}</div>\n                                <div className=\"box-text\">{percentualeTotaleBooster} % della platea 2ª dose booster</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div className=\"col-12 d-flex justify-content-center align-items-center p-3 section-title small\">\n                <div className=\"mb-2\" >\n                    <h3 className=\"text-center\">Terza dose booster</h3>\n                </div>\n            </div>\n\n            <div className=\"row bg-box p-2 mb-4\">\n                <div className=\"col-md-6 col-sm-12\">\n                    <div className=\"box-card p-2\">\n                        <div className=\"p-1\">\n                            <div className=\"align-items-center justify-content-center text-center\">\n                                <h5 className=\"mt-2 mb-3\">3ª dose booster</h5>\n                                <div className=\"box-numbers\">{totalePersoneThirdBooster?.toLocaleString('it')}</div>\n                                <div className=\"box-text\">{percentualePersoneThirdBooster} % della popolazione potenzialmente oggetto di <br />3ª dose booster cha ha ultimato il ciclo vaccinale<br />da almeno 4 mesi</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"col-md-6 col-sm-12\">\n                    <div className=\"box-card p-2\">\n                        <div className=\"p-1\">\n                            <div className=\"align-items-center justify-content-center text-center\">\n                                <h5 className=\"mt-2 mb-3\">Guariti post 2ª dose booster</h5>\n                                <div className=\"box-numbers\">{totaleGuaritiDopoSecondaDoseBooster?.toLocaleString('it')}</div>\n                                <div className=\"box-text\">{percentualeGuaritiDopoSecondaDoseBooster} % della popolazione potenzialmente oggetto di <br />3ª dose booster guarita post 2ª dose booster da<br />al massimo 6 mesi</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"col-md-12 col-sm-12\">\n                    <div className=\"box-card mb-3\">\n                        <div className=\"p-1\">\n                            <div className=\"align-items-center justify-content-center text-center mb-4\">\n                                <h5 className=\"mt-2 mb-3\">Totale</h5>\n                                <div className=\"box-numbers\">{totaleThirdBooster}</div>\n                                <div className=\"box-text\">{percentualeTotaleThirdBooster} % della platea 3ª dose booster</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div className=\"col-12 d-flex justify-content-center align-items-center p-3 section-title small\">\n                <div className=\"mb-2\" >\n                    <h3 className=\"text-center\">Ciclo Vaccinale Primario 5-11 anni</h3>\n                </div>\n            </div>\n\n            <div className=\"row bg-box mb-4\">\n                <div className=\"col-md-4 col-sm-12\">\n                    <div className=\"box-card p-2\">\n                        <div className=\"p-1\">\n                            <div className=\"align-items-center justify-content-center text-center mb-4\">\n                                <h5 className=\"mt-2\">Con almeno una dose</h5>\n                                <div className=\"box-numbers\">{totalePrimaDoseBaby}</div>\n                                <div className=\"box-text\">{percentualePrimaDosePopolazioneBaby} % della popolazione 5-11</div>\n                                <div className=\"box-label\" >(persone con almeno una somministrazione)</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"col-md-4 col-sm-12\">\n                    <div className=\"box-card p-2\">\n                        <div className=\"p-1\">\n                            <div className=\"align-items-center justify-content-center text-center mb-4\">\n                                <h5 className=\"mt-2\">Ciclo vaccinale</h5>\n                                <div className=\"box-numbers\">{totalePersoneVaccinateBaby}</div>\n                                <div className=\"box-text\">{totalePersoneVaccinatePopolazioneBaby} % della popolazione 5-11</div>\n                                <div className=\"box-label\" >(persone che hanno completato il ciclo vaccinale)</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"col-md-4 col-sm-12\">\n                    <div className=\"box-card p-2\">\n                        <div className=\"p-1\">\n                            <div className=\"align-items-center justify-content-center text-center mb-4\">\n                                <h5 className=\"mt-2\">Guariti</h5>\n                                <div className=\"box-numbers\">{totalePersoneGuariteBaby}</div>\n                                <div className=\"box-text\">{totalePersoneGuaritePopolazioneBaby} % della popolazione 5-11</div>\n                                <div className=\"box-label\" >guarita da al massimo 6 mesi senza alcuna somministrazione</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"col-md-12 col-sm-12\">\n                    <div className=\"box-card\">\n                        <div className=\"p-1\">\n                            <div className=\"align-items-center justify-content-center text-center mb-4\">\n                                <h5 className=\"mt-2\">Totale</h5>\n                                <div className=\"box-numbers\">{totalePrimaDoseConGuaritiBaby}</div>\n                                <div className=\"box-text\">{percentualeTotalePrimaDoseConGuaritiBaby} % della popolazione 5-11</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div className=\"col-12 d-flex justify-content-center align-items-center p-3 section-title small\">\n                <div className=\"mb-2\" >\n                    <h3 className=\"text-center\">Prima Dose Booster 5-11 anni</h3>\n                </div>\n            </div>\n\n            <div className=\"row bg-box p-2 mb-4\">\n                <div className=\"col-md-6 col-sm-12\">\n                    <div className=\"box-card p-2\">\n                        <div className=\"p-1\">\n                            <div className=\"align-items-center justify-content-center text-center\">\n                                <h5 className=\"mt-2 mb-3\">Dose addizionale/richiamo (booster)</h5>\n                                <div className=\"box-numbers\">{totaleDoseAddizionaleBoosterBaby?.toLocaleString('it')}</div>\n                                <div className=\"box-text\">{percentualeDoseAddizionaleBoosterBaby} % della popolazione 5-11 potenzialmente oggetto di<br />dose addizionale o booster che ha ultimato il ciclo vaccinale<br />da almeno 4 mesi</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"col-md-6 col-sm-12\">\n                    <div className=\"box-card p-2\">\n                        <div className=\"p-1\">\n                            <div className=\"align-items-center justify-content-center text-center\">\n                                <h5 className=\"mt-2 mb-3\">Guariti post 2ª dose/unica dose</h5>\n                                <div className=\"box-numbers\">{totalePersoneGuariteDoppiaDoseBaby?.toLocaleString('it')}</div>\n                                <div className=\"box-text\">{totalePersoneGuaritePopolazioneDoppiaDoseBaby} % della popolazione 5-11 potenzialmente oggetto di<br />dose addizionale o booster guarita post 2ª dose/unica dose<br />da al massimo 4 mesi</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"col-md-12 col-sm-12\">\n                    <div className=\"box-card p-2\">\n                        <div className=\"p-1\">\n                            <div className=\"align-items-center justify-content-center text-center mb-4\">\n                                <h5 className=\"mt-2 mb-3\">Totale</h5>\n                                <div className=\"box-numbers\">{totaleDoseAddizionaleGuaritiDoppiaDoseBaby}</div>\n                                <div className=\"box-text\">{percentualeDoseAddizionaleGuaritiDoppiaDoseBaby} % della platea dose booster 5-11</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div className=\"col-12 d-flex justify-content-center align-items-center p-3 section-title small\">\n                <div className=\"mb-2\" >\n                    <h3 className=\"text-center\">Ciclo Vaccinale Primario 0-4 anni</h3>\n                </div>\n            </div>\n\n            <div className=\"row bg-box mb-4\">\n                <div className=\"col-md-4 col-sm-12\">\n                    <div className=\"box-card p-2\">\n                        <div className=\"p-1\">\n                            <div className=\"align-items-center justify-content-center text-center mb-4\">\n                                <h5 className=\"mt-2\">Con almeno una dose</h5>\n                                <div className=\"box-numbers\">{totalePrimaDoseInfant}</div>\n                                <div className=\"box-text\">{percentualePrimaDosePopolazioneInfant} % della popolazione 0-4</div>\n                                <div className=\"box-label\" >(persone con almeno una somministrazione)</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"col-md-4 col-sm-12\">\n                    <div className=\"box-card p-2\">\n                        <div className=\"p-1\">\n                            <div className=\"align-items-center justify-content-center text-center mb-4\">\n                                <h5 className=\"mt-2\">Ciclo vaccinale</h5>\n                                <div className=\"box-numbers\">{totalePersoneVaccinateInfant}</div>\n                                <div className=\"box-text\">{totalePersoneVaccinatePopolazioneInfant} % della popolazione 0-4</div>\n                                <div className=\"box-label\" >(persone che hanno completato il ciclo vaccinale)</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"col-md-4 col-sm-12\">\n                    <div className=\"box-card p-2\">\n                        <div className=\"p-1\">\n                            <div className=\"align-items-center justify-content-center text-center mb-4\">\n                                <h5 className=\"mt-2\">Guariti</h5>\n                                <div className=\"box-numbers\">{totalePersoneGuariteInfant}</div>\n                                <div className=\"box-text\">{totalePersoneGuaritePopolazioneInfant} % della popolazione 0-4</div>\n                                <div className=\"box-label\" >guarita da al massimo 6 mesi senza alcuna somministrazione</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"col-md-12 col-sm-12\">\n                    <div className=\"box-card\">\n                        <div className=\"p-1\">\n                            <div className=\"align-items-center justify-content-center text-center mb-4\">\n                                <h5 className=\"mt-2\">Totale</h5>\n                                <div className=\"box-numbers\">{totalePrimaDoseConGuaritiInfant}</div>\n                                <div className=\"box-text\">{percentualeTotalePrimaDoseConGuaritiInfant} % della popolazione 0-4</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>        \n    );\n};","import { React, useEffect, useRef } from \"react\";\nimport * as d3 from \"d3\";\nimport { maxX } from \"../utils\";\n\nexport const BarChartSupplier = (props) => {\n\n  const width = +props.width, //hack to get int\n    height = +props.height;\n  const myRef = useRef();\n  const divRef = useRef();\n\n  useEffect(() => {\n    doExit();\n    draw();\n    // eslint-disable-next-line\n  }, [props]);\n\n\n  const responsivefy = (svg) => {\n    // Container is the DOM element, svg is appended.\n    // Then we measure the container and find its\n    // aspect ratio.\n    const container = d3.select(svg.node().parentNode),\n      width = parseInt(svg.style(\"width\"), 10),\n      height = parseInt(svg.style(\"height\"), 10),\n      aspect = width / height;\n\n    // Add viewBox attribute to set the value to initial size\n    // add preserveAspectRatio attribute to specify how to scale\n    // and call resize so that svg resizes on page load\n    svg\n      .attr(\"viewBox\", `0 0 ${width} ${height}`)\n      .attr(\"preserveAspectRatio\", \"xMinYMid\")\n      .call(resize);\n\n    d3.select(window).on(\"resize.\" + container.attr(\"id\"), resize);\n\n    function resize() {\n      const targetWidth = parseInt(container.style(\"width\"));\n      svg.attr(\"width\", targetWidth);\n      svg.attr(\"height\", Math.round(targetWidth / aspect));\n    }\n  };\n\n  function doExit() {\n    d3.select(divRef.current).selectAll(\"svg\").remove();\n  }\n\n  const draw = () => {\n    const data = props?.data || [];\n    const maxScale = data?.reduce(maxX(props.property.yprop), 0) || 0;\n    // append element\n    const svg = d3\n      .select(divRef.current)\n      .append(\"svg\")\n      .attr(\"width\", width)\n      .attr(\"height\", height);\n    const margin = { y: 50, x: 20 };\n\n    // axis\n    const xScale = d3.scaleBand().padding(0.5);\n    const yScale = d3.scaleLinear().domain([0, maxScale]); //max scale should be dynamic\n    yScale.range([height, 0]);\n    xScale.range([0, width]).domain(data.map((d) => d[props.property.xprop]));\n\n    svg\n      .attr(\"width\", width + 2 * margin.x)\n      .attr(\"height\", height + 2 * margin.y)\n      .call(responsivefy) // Call responsivefy to make the chart responsive\n      .attr(\"id\", \"svg-bar\");\n\n    const chart = svg\n      .append(\"g\")\n      .attr(\"transform\", `translate(${margin.x},${margin.y})`);\n\n    chart\n      .append(\"g\")\n      .attr(\"class\", \"axis-dark\")\n      .attr(\"transform\", `translate(0,${height})`)\n      .style('font-size', 16)\n      .call(d3.axisBottom(xScale));\n\n    const path = chart.selectAll().data(data);\n\n    path\n      .enter()\n      .append(\"rect\").on('click', (e, d) => {\n        props.handleBarChartClick(d);\n      })\n      .attr('id', (d) => d?.fornitore)\n      .attr('opacity', (d) => {\n        let opac = props.selected?.fornitore === d?.fornitore ? 1 : !props.selected ? 1 : 0.1;\n        return opac;\n      })\n      .attr(\"class\", \"bg-bar\")\n      .attr(\"x\", (d) => +xScale(d[props.property.xprop]))\n      .attr(\"y\", (d) => yScale(d[props.property.yprop]))\n      .attr(\"height\", (d) => height - yScale(d[props.property.yprop]))\n      .attr(\"width\", xScale.bandwidth())\n      .append(\"title\")\n      .attr(\"x\", (d) => xScale(d[props.property.xprop]))\n      .attr(\"y\", (d) => yScale(d[props.property.yprop]))\n      .text((d) => `Fornitore ${d[props.property.xprop]} totale: ${d[props.property.yprop]}`)\n\n    path\n      .enter()\n      .append(\"text\")\n      .attr(\"class\", \"bartext-dark\")\n      .attr(\"text-anchor\", \"center\")\n      .attr(\"fill\", \"black\")\n      .attr(\"x\", (d) => xScale(d[props.property.xprop]) -5 )\n      .attr(\"y\", (d) =>\n        height - yScale(d[props.property.yprop]) >= 0\n          ? yScale(d[props.property.yprop]) - 10\n          : yScale(d[props.property.yprop])\n      )\n      .text((d) => d[props.property.yprop]?.toLocaleString('it'));\n\n    path.exit().remove();\n  };\n\n  return (\n    <div ref={divRef}>\n      {/* <div className=\"w-100 h-100 d-flex justify-content-start pr-5\">\n        <img src=\"logo.png\" width=\"35\" height=\"35\" alt=\"Logo\" />\n        <h5 className=\"pl-3 pl-sm-1\">Distribuzione vaccini per fornitore</h5>\n      </div> */}\n      <svg ref={myRef}></svg>\n    </div>\n  );\n};\n","import { React, useEffect, useState } from \"react\";\nimport { isEmpty } from \"lodash\";\nimport { simulateClick } from './../utils';\nimport { BarChartSupplier } from \"./BarChartsSupplier\";\n\nexport const Supplier = (data) => {\n    const [selectedLocationCategoryMap, setSelectedLocationCategoryMap] = useState(null);\n    const [selectedSupplier, setelectedSupplier] = useState(null);\n    const [deliveryBarChartData, setdeliveryBarChartData] = useState([]);\n    const [totalSuplier, setTotalSuplier] = useState(0);\n\n    const resetFilter = () => {\n        setdeliveryBarChartData(data?.data?.allDosesSupplier);\n        setTotalSuplier(data?.data?.totalSuplier);\n        setelectedSupplier(null);\n        setSelectedLocationCategoryMap(null);\n        setTotalSuplier(data?.data?.totalSuplier);\n    }\n\n    useEffect(() => {\n        if (!isEmpty(data)) {\n            let tmp = data?.data?.allDosesSupplier;\n            if (tmp) {\n                tmp.map(val => {\n                    if (val.fornitore.includes(\"Vaxzevria\")) {\n                        val.fornitore = \"Vaxzevria\";\n                    }\n\n                    return val;\n                })\n            }\n            setdeliveryBarChartData(tmp);\n            setTotalSuplier(data?.data?.totalSuplier);\n        }\n    }, [data]);\n\n    const handleDeliveryBarChartClick = (bar) => {\n        if (selectedSupplier === bar) {\n            resetFilter();\n        } else if (selectedLocationCategoryMap) {\n            resetFilter();\n            simulateClick(bar.fornitore);\n        } else {\n            handleRectClick(bar);\n            setelectedSupplier(bar);\n            setTotalSuplier(bar?.totale);\n        }\n    }\n\n    const handleRectClick = (currentRect) => {\n        setelectedSupplier(currentRect)\n    }\n\n    return (\n        <div className=\"row\">\n            <div className=\"col-12 col-md-12 mt-4\">\n                {/* Box Title */}\n            <div className=\"col-12 d-flex justify-content-center align-items-center section-title mx-2\">\n                <div className=\"text-center\">\n                    <h3>Distribuzione vaccini per fornitore</h3>\n                </div>\n            </div>\n            {/* // Box Title */}\n\n            <div className=\"col-12 col-md-12 m-3\">\n                {/* Total Box - Mobile Layout */}\n                <div className=\"d-lg-none bg-box box-mobile m-3\">\n                        <div className=\"text-white\">\n                            <div className=\"d-flex justify-content-center pt-5\">\n                                <h5>Totale vaccini distribuiti</h5>\n                            </div>\n                            <div className=\"d-flex justify-content-center\">\n                                <p className=\"box-numbers\">{totalSuplier?.toLocaleString('it')}</p>\n                            </div>\n                            <div className=\"col-12 d-flex justify-content-end pb-2\">\n                                <img alt=\"reset-plot2\" src=\"reset_white.png\" onClick={resetFilter} height=\"36px\"/>\n                            </div>\n                        </div>\n                    </div>\n                    {/* // Total Box - Mobile Layout */}\n\n                    {/* Total Box - Desktop Layout */}\n                    <div className=\"offset-md-8 col-md-4 d-none d-lg-block\">\n                        <div className=\"bg-box box-card box-right\">\n                            <div className=\"text-white\">\n                                <div className=\"d-flex justify-content-start pt-3 pl-5\">\n                                    <h5>Totale vaccini distribuiti</h5>\n                                </div>\n                                <div className=\"d-flex justify-content-start pl-5\">\n                                    <p className=\"box-numbers\" >{totalSuplier?.toLocaleString('it')}</p>\n                                </div>\n                                <div className=\"col-12 d-flex justify-content-end pb-2\">\n                                    <img alt=\"Reset\" src=\"reset_white.png\" onClick={resetFilter} height=\"36px\"/>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    {/* // Total Box - Desktop Layout */}\n                </div>\n            </div>\n\n            {/* Supplier BarChart */}\n            <div className=\"col-12 col-md-7 w-100 h-100 pb-5\">\n                <BarChartSupplier\n                    width=\"850\"\n                    handleBarChartClick={handleDeliveryBarChartClick}\n                    height=\"350\"\n                    selected={selectedSupplier}\n                    property={{ xprop: \"fornitore\", yprop: \"totale\" }}\n                    data={deliveryBarChartData}\n                />\n            </div>\n            {/* Supplier BarChart */}\n        </div>\n    );\n};","import { React, useEffect } from \"react\";\nimport $ from \"jquery\";\nimport DataTable from \"datatables.net\";\nimport \"datatables.net-bs4/css/dataTables.bootstrap4.min.css\";\n\n$.DataTable = DataTable;\nconst columns = [\n    { title: \"Regione\", data: \"area\" },\n    { title: \"Punto di somministrazione\", data: \"denominazione_struttura\" },\n    { title: \"Tipologia\", data: \"tipologia\" }\n];\n\nexport const LocationsTable = (props) => {\n\n    useEffect(() => {\n        const {setLocationCount} = props;\n\n        const table = $(\"#datatable-locations\")\n        .find(\"table\")\n        .DataTable({\n            dom:\n            \"<'row'<'col-sm-12 col-md-6'l><'col-sm-12 col-md-6'>>\" +\n            \"<'row'<'col-sm-12'tr>>\" +\n            \"<'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7'p>>\",\n            paging: false,\n            columnDefs: [{\n                \"targets\": [1,2],\n                \"searchable\": false\n            }],\n            searching: true,\n            destroy: true,\n            bLengthChange: false,\n            info: false,\n            scrollY: '550px',\n            scrollCollapse: true,\n            data: props.summary?.locations || [],\n            columns,\n        });\n\n        if (props?.selected) {\n            table.search(props.selected).draw();\n        } else {\n            table.search(\" \").draw();\n        }\n\n        setLocationCount(table.rows( {search:'applied'} ).count()/2)\n    });\n\n    return (\n\n        <div id=\"datatable-locations\">\n            <table className=\"display compact\" cellSpacing=\"0\" width=\"100%\"/>\n        </div>\n    );\n};\n","import React, { useEffect, useState } from \"react\";\nimport { isEmpty, max } from \"lodash\";\nimport { MapArea } from \"./../components/MapArea\";\nimport { LocationsTable } from \"./../components/LocationsTable\";\n\nconst TextBoxTotal = ({locationCount}) => (\n\n    <>\n\n        <div className=\"d-flex pl-5 pt-3\">\n            <h5>Totale punti somministrazione</h5>\n        </div>\n        <div className=\"d-flex pl-5\">\n            <p className=\"box-numbers\">{locationCount}</p>\n        </div>\n\n    </>\n)\n\nconst TextBoxMap = () => (\n    <div className=\"w-100 h-100 d-flex justify-content-start pr-5\">\n        <h5 className=\"pl-3 pl-sm-1\">Principali punti di<br /> somministrazione <br /> per regione</h5>\n    </div>\n)\n\nexport const Locations = ({ data }) => {\n    const [summary, setSummary] = useState({});\n    const [selectedLocation, setSelectedLocation] = useState(\"\");\n    const [locationCount, setLocationCount] = useState(0);\n\n    useEffect(() => {\n        if (!isEmpty(data)) {\n            setSummary(data);\n        }\n    }, [data]);\n\n    const resetFilter = () => {\n        setSelectedLocation(\"\");\n        setLocationCount(0);\n    };\n\n    const fillMapDeliveryArea = ({ region, maxValue, field }) => {\n        let scaleOp = 0;\n            if (region.area === selectedLocation) {\n                scaleOp = 1;\n            } else if (!selectedLocation) {\n                scaleOp = max([region[field] / maxValue, 0.1]);\n            } else {\n                const valueToFill = region[field] / (2 * maxValue);\n                scaleOp = max([valueToFill, 0.1]);\n            }\n        return `rgba(23,50,77,${scaleOp})`;\n    };\n\n    const handleClick = (region) => {\n        if (selectedLocation === region.area) {\n            setSelectedLocation(null);\n        } else {\n            setSelectedLocation(region.area);\n        }\n    };\n\n    return (\n        <div className=\"row\">\n            {/* Box Title */}\n            <div className=\"col-12 d-flex justify-content-center align-items-center section-title mx-2\">\n                <div className=\"text-center\">\n                    <h3>Principali punti di somministrazione</h3>\n                    <p>(Sono inclusi i punti di somministrazione ospedalieri e territoriali;<br />\n                        non sono inclusi i punti di somministrazione temporanei)</p>\n                </div>\n            </div>\n            {/* Box Title */}\n\n            <div className=\"col-12 col-md-12 m-3\">\n                {/* Total Box - Mobile View */}\n                <div className=\"d-lg-none bg-box box-mobile m-3\">\n                        <div className=\"text-white\">\n                            <TextBoxTotal locationCount={locationCount}/>\n                        </div>\n                    <div className=\"col-12 d-flex justify-content-end pb-2\">\n                        <img alt=\"reset-plot\" src=\"reset_white.png\" onClick={resetFilter} height=\"36\" />\n                    </div>\n                </div>\n                {/* // Total Box - Mobile View */}\n\n                {/* Total Box - Desktop View */}\n                <div className=\"col-4 col-md-4 d-none d-lg-block\">\n                <div className=\"bg-box box-card box-left\">\n                        <div className=\"text-white\">\n\n                        <TextBoxTotal locationCount={locationCount}/>\n\n                            <div className=\"col-12 d-flex justify-content-end pb-2\">\n                                <img alt=\"reset-white\" src=\"reset_white.png\" onClick={resetFilter} height=\"36px\" />\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                {/* // Total Box - Desktop View */}\n            </div>\n            <div className=\"col-12 col-md-6\">\n                {/* Map Legend - Mobile View */}\n                <div className=\"p-2 d-lg-none text-center\">Principali Punti di Somministrazione per Regione</div>\n\n                {/* Map Legend - Desktop View */}\n                <div className=\"d-none d-lg-block map-legend\" ><TextBoxMap/></div>\n\n                {/* Map Graph */}\n                <div className=\"mt-5\">\n                <MapArea\n                    fillMapDeliveryArea={fillMapDeliveryArea}\n                    summary={data.locationsByRegion}\n                    handleMapDeliveryClick={handleClick}\n                    tooltip={(r) => r.area + \": \" + (r.locations && r.locations.toLocaleString(\"it\")) }\n                    fillBy=\"locations\"\n                    className=\"ml-5 w-100 h-100\"\n                />\n                </div>\n                {/* // Map Graph */}\n            </div>\n            {/* Data Table */}\n            <div className=\"col-12 col-md-6 pl-3\">\n                <LocationsTable\n                    summary={{ ...summary }}\n                    selected={selectedLocation}\n                    className=\"mr-5 h-100\"\n                    setLocationCount={setLocationCount}\n                />\n            </div>\n            {/* // Data Table */}\n        </div>\n    );\n};\n","import { useState, useEffect } from 'react';\nimport { HeaderBar } from \"./components/HeaderBar\";\nimport { FooterBar } from \"./components/FooterBar\";\nimport { Total } from \"./components/Total\";\nimport { loadData } from \"./loadData\";\nimport { Deliveries } from \"./containers/deliveries\";\nimport { AgeDoses } from \"./containers/agedoses\";\nimport { Healed } from \"./containers/healed\";\nimport { Weeks } from \"./containers/weeks\";\nimport { Databox } from \"./containers/databox\";\nimport { Supplier } from './components/Supplier';\nimport { hideLoader } from \"./utils\";\nimport \"./App.css\";\nimport { Locations } from \"./containers/locations\";\n\n\nfunction App() {\n    const [summary, setSummary] = useState({});\n\n    useEffect(() => {\n        loadData().then((d) => {\n        hideLoader();\n        setSummary(d);\n        });\n    }, []);\n\n    return (\n        <div>\n            <HeaderBar />\n            <div className=\"container\">\n                <Total summary={{ ...summary }} />          {/* Totale Somministrazioni */}\n                <Databox data={summary} />                  {/* Box riepilogo dati */}\n                <Deliveries data={summary} />               {/* Tabella Distribuzione Dosi */}\n                <Healed data={summary} />                   {/* Grafico guariti */}\n                <Weeks data={summary} />                    {/* Grafico Andamento Settimanale delle Somministrazioni */}\n                <AgeDoses data={summary} />                 {/* Grafico Somministrazioni per fascia d'età */}\n                <Supplier data={summary} />                 {/* Grafico Distribuzione Vaccini per Fornitore */}\n                <Locations data={summary} />                {/* Tabella Principali Punti di Somministrazione */}\n            </div>\n            <FooterBar />\n        </div>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}