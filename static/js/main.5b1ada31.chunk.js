(this["webpackJsonpcovid19-dashboard-vaccini"]=this["webpackJsonpcovid19-dashboard-vaccini"]||[]).push([[0],{175:function(e,t,a){},184:function(e,t,a){"use strict";a.r(t);var i=a(0),s=a(1),o=a.n(s),n=a(54),l=a.n(n),c=(a(175),a(7)),r=a(2),d=(a(176),a(51),a(177),a(178),a(179),function(){return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"row m-0 bg-tertiary",children:[Object(i.jsxs)("div",{className:"col-12 col-md-4 d-flex justify-content-md-center justify-content-sm-start logo-section pt-2 pb-2",children:[Object(i.jsx)("img",{src:"logo.svg",height:"4px",alt:"Logo",className:"logo pl-5 pr-2"}),Object(i.jsx)("p",{className:"pt-2",children:Object(i.jsx)("a",{href:"http://www.governo.it","aria-label":"Presidenza del Consiglio dei Ministri",className:"text-decoration-none",rel:"noreferrer",alt:"Presidenza del Consiglio dei Ministri",children:"Presidenza del Consiglio dei Ministri"})})]}),Object(i.jsxs)("div",{className:"col-12 col-md-4 d-flex justify-content-md-center justify-content-sm-start logo-section pr-sm-0 pt-2 pb-2",children:[Object(i.jsx)("img",{src:"logo.svg",height:"4px",alt:"Logo",className:"logo pl-5 pr-2"}),Object(i.jsx)("p",{className:"pt-2",children:Object(i.jsx)("a",{className:"text-decoration-none",href:"https://www.governo.it/it/dipartimenti/unit-il-completamento-della-campagna-vaccinale-e-ladozione-di-altre-misure-di-contrasto","aria-label":"Unit\xe0 Completamento Campagna Vaccinale",rel:"noreferrer",alt:"Unit\xe0 Completamento Campagna Vaccinale",children:"Unit\xe0 Completamento Campagna Vaccinale"})})]}),Object(i.jsxs)("div",{className:"col-12 col-md-4 d-flex justify-content-md-center justify-content-sm-start logo-section pt-2 pb-2 pr-sm-3",children:[Object(i.jsx)("img",{src:"logo.svg",height:"4px",alt:"Logo",className:"logo pl-5 pr-2"}),Object(i.jsx)("p",{className:"pt-2",children:Object(i.jsx)("a",{href:"http://www.salute.gov.it/portale/home.html",className:"text-decoration-none","aria-label":"Ministero della Salute",rel:"noreferrer",alt:"Ministero della Salute",children:"Ministero della Salute"})})]}),Object(i.jsx)("div",{className:"col-12 d-flex flex-column justify-content-center mainBanner",children:Object(i.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(i.jsx)("img",{src:"Coccarda.svg",alt:"Logo",height:"150px",className:"main-logo"}),Object(i.jsx)("h1",{className:"large-title pl-2 pt-4 d-lg-none d-md-none d-xs-block",children:"Report Vaccini Anti COVID-19"})," ",Object(i.jsx)("h1",{className:"large-title pl-2 pt-5 d-none d-md-block",children:"Report Vaccini Anti COVID-19"}),"  "]})})]})})}),m=function(){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{className:"row",children:Object(i.jsxs)("div",{className:"col-12 text-center pt-5 pb-3",children:["I dati visualizzati sono disponibili all'indirizzo"," ",Object(i.jsx)("a",{href:"https://github.com/italia/covid19-opendata-vaccini",alt:"Repository Dati Covid Governo Italiano",children:"https://github.com/italia/covid19-opendata-vaccini"})]})}),Object(i.jsxs)("div",{className:"row m-0 p-2 bg-footer",children:[Object(i.jsxs)("div",{className:"col-12 col-md-4 d-flex justify-content-md-center justify-content-sm-start logo-section pt-2 pb-2",children:[Object(i.jsx)("img",{src:"logo.svg",height:"4px",alt:"Logo",className:"logo pl-5 pr-2"}),Object(i.jsx)("p",{className:"pt-2",children:Object(i.jsx)("a",{href:"http://www.governo.it","aria-label":"Presidenza del Consiglio dei Ministri",className:"text-decoration-none",rel:"noreferrer",alt:"Presidenza del Consiglio dei Ministri",children:"Presidenza del Consiglio dei Ministri"})})]}),Object(i.jsxs)("div",{className:"col-12 col-md-4 d-flex justify-content-md-center justify-content-sm-start logo-section pr-sm-0 pt-2 pb-2",children:[Object(i.jsx)("img",{src:"logo.svg",height:"4px",alt:"Logo",className:"logo pl-5 pr-2"}),Object(i.jsx)("p",{className:"pt-2",children:Object(i.jsx)("a",{className:"text-decoration-none",href:"https://www.governo.it/it/dipartimenti/unit-il-completamento-della-campagna-vaccinale-e-ladozione-di-altre-misure-di-contrasto","aria-label":"Unit\xe0 Completamento Campagna Vaccinale",rel:"noreferrer",alt:"Unit\xe0 Completamento Campagna Vaccinale",children:"Unit\xe0 Completamento Campagna Vaccinale"})})]}),Object(i.jsxs)("div",{className:"col-12 col-md-4 d-flex justify-content-md-center justify-content-sm-start logo-section pt-2 pb-2 pr-sm-3",children:[Object(i.jsx)("img",{src:"logo.svg",height:"4px",alt:"Logo",className:"logo pl-5 pr-2"}),Object(i.jsx)("p",{className:"pt-2",children:Object(i.jsx)("a",{href:"http://www.salute.gov.it/portale/home.html",className:"text-decoration-none","aria-label":"Ministero della Salute",rel:"noreferrer",alt:"Ministero della Salute",children:"Ministero della Salute"})})]})]})]})},u=a(8),j=a.n(u),b=function(e){var t;return Object(i.jsxs)("div",{className:"h-100 w-100 my-3",children:[Object(i.jsx)("div",{className:"mx-auto",children:Object(i.jsxs)("h6",{className:"text-center pb-4",children:["Report aggiornato al: "," ",e.summary.timestamp&&j()(e.summary.timestamp).format("DD-MM-YYYY HH:mm")]})}),Object(i.jsxs)("div",{className:"d-flex flex-column justify-content-center",children:[Object(i.jsxs)("div",{className:"d-flex justify-content-center align-items-baseline",children:[Object(i.jsx)("img",{src:"meds.png",alt:"meds",className:"pl-2 pr-5"})," ",Object(i.jsx)("div",{className:"pl-2 mt-4 numbers",children:null===(t=e.summary.tot)||void 0===t?void 0:t.toLocaleString("it")})]}),Object(i.jsx)("span",{className:"border-divider mb-2"}),Object(i.jsxs)("div",{className:"d-flex justify-content-center",children:[" ",Object(i.jsx)("h3",{children:"Totale somministrazioni"})]})]})]})},v=a(9),p=a.n(v),h=a(18),x=a(5),f=(a(10),a(3)),O=a.n(f),g=function(e){return function(t,a){return t+ +(null===a||void 0===a?void 0:a[e])}},y=function(e){return function(t){return function(a){return a[e]===t}}},N=(y("area")("ITA"),y("TML_FASCIA_ETA"),function(e){return Object(c.a)(Object(c.a)({},e),{},{area:z[e.area],code:e.area})}),z={ABR:"Abruzzo",BAS:"Basilicata",CAL:"Calabria",CAM:"Campania",EMR:"Emilia-Romagna",FVG:"Friuli-Venezia Giulia",LAZ:"Lazio",LIG:"Liguria",LOM:"Lombardia",MAR:"Marche",MOL:"Molise",PAB:"P.A. Bolzano",PAT:"P.A. Trento",PIE:"Piemonte",PUG:"Puglia",SAR:"Sardegna",SIC:"Sicilia",TOS:"Toscana",UMB:"Umbria",VDA:"Valle d'Aosta",VEN:"Veneto"},S=(function(e){var t={};for(var a in e)t[e[a]]=a}(z),"https://raw.githubusercontent.com/italia/covid19-opendata-vaccini/master/dati"),_="".concat(S,"/somministrazioni-vaccini-summary-latest.json"),w="".concat(S,"/somministrazioni-vaccini-latest.json"),D="".concat(S,"/vaccini-summary-latest.json"),k="".concat(S,"/punti-somministrazione-tipologia.json"),C="".concat(S,"/anagrafica-vaccini-summary-latest.json"),B="".concat(S,"/last-update-dataset.json"),P="".concat(S,"/consegne-vaccini-latest.json"),M="".concat(S,"/platea.json"),A="".concat(S,"/platea-dose-addizionale-booster.json"),T="".concat(S,"/platea-second-booster.json"),L="".concat(S,"/soggetti-guariti.json"),Y=function(e){var t,a,i,s=e.dataSommVaxSummary.data.filter((function(e){return"ITA"!==e.area})).reduce(g("totale"),0),o=e.dataSupplierDoses.data,n=e.dataSommVaxDetail.data.map(N),l=e.dataVaxSummary.data.map(N),c=null===e||void 0===e||null===(t=e.dataSommVaxDetail)||void 0===t?void 0:t.data,r={prima_dose:O.a.sum(null===c||void 0===c?void 0:c.map((function(e){return"05-11"===(null===e||void 0===e?void 0:e.eta)?0:null===e||void 0===e?void 0:e.d1}))),prima_dose_baby:O.a.sum(null===c||void 0===c?void 0:c.map((function(e){return"05-11"===(null===e||void 0===e?void 0:e.eta)?null===e||void 0===e?void 0:e.d1:0}))),seconda_dose:O.a.sum(null===c||void 0===c?void 0:c.map((function(e){return"05-11"===(null===e||void 0===e?void 0:e.eta)?0:null===e||void 0===e?void 0:e.d2}))),seconda_dose_baby:O.a.sum(null===c||void 0===c?void 0:c.map((function(e){return"05-11"===(null===e||void 0===e?void 0:e.eta)?null===e||void 0===e?void 0:e.d2:0}))),pregressa_infezione:O.a.sum(null===c||void 0===c?void 0:c.map((function(e){return"05-11"===(null===e||void 0===e?void 0:e.eta)?0:null===e||void 0===e?void 0:e.dpi}))),pregressa_infezione_baby:O.a.sum(null===c||void 0===c?void 0:c.map((function(e){return"05-11"===(null===e||void 0===e?void 0:e.eta)?null===e||void 0===e?void 0:e.dpi:0}))),dose_addizionale_booster:O.a.sum(null===c||void 0===c?void 0:c.map((function(e){return"05-11"===(null===e||void 0===e?void 0:e.eta)?0:null===e||void 0===e?void 0:e.db1}))),dose_addizionale_booster_baby:O.a.sum(null===c||void 0===c?void 0:c.map((function(e){return"05-11"===(null===e||void 0===e?void 0:e.eta)?null===e||void 0===e?void 0:e.db1:0}))),dose_immunocompromessi_fragili:O.a.sum(null===c||void 0===c?void 0:c.map((function(e){return"05-11"===(null===e||void 0===e?void 0:e.eta)?0:null===e||void 0===e?void 0:e.dbi}))),dose_second_booster:O.a.sum(null===c||void 0===c?void 0:c.map((function(e){return"05-11"===(null===e||void 0===e?void 0:e.eta)?0:null===e||void 0===e?void 0:e.db2}))),prima_dose_janssen:O.a.sum(null===c||void 0===c?void 0:c.filter((function(e){return"Janssen"===e.forn&&"05-11"!==(null===e||void 0===e?void 0:e.eta)})).map((function(e){return null===e||void 0===e?void 0:e.d1}))),prima_dose_janssen_baby:O.a.sum(null===c||void 0===c?void 0:c.filter((function(e){return"Janssen"===e.forn&&"05-11"===(null===e||void 0===e?void 0:e.eta)})).map((function(e){return null===e||void 0===e?void 0:e.d1}))),vax_somministrati:null===(a=O.a.sum(null===o||void 0===o||null===(i=o.filter((function(e){var t;return"2020-12-27"!==(null===e||void 0===e||null===(t=e.data_consegna)||void 0===t?void 0:t.substr(0,10))})))||void 0===i?void 0:i.map((function(e){return null===e||void 0===e?void 0:e.numero_dosi}))))||void 0===a?void 0:a.toLocaleString("it")};r.pregressa_infezione||(r.pregressa_infezione=0),r.dose_addizionale_booster||(r.dose_addizionale_booster=0),r.pregressa_infezione_baby||(r.pregressa_infezione_baby=0),r.dose_addizionale_booster_baby||(r.dose_addizionale_booster_baby=0);for(var d=O.a.groupBy(o,"forn"),m=Object.keys(d).map((function(e){var t=d[e].map((function(e){return e.numero_dosi}));return{totale:O.a.sum(t),fornitore:e,allDoses:d[e]}})).sort((function(e,t){return e.totale<t.totale?1:-1})),u=O.a.sum(m.map((function(e){return null===e||void 0===e?void 0:e.totale}))),b=O.a.groupBy(o,"area"),v=Object.keys(b).map((function(e){var t=b[e].map((function(e){return e.numero_dosi})),a=O.a.sum(t);return{area:z[e],dosi_somministrate:a}})),p=O.a.groupBy(l,"code"),h=e.dataVaxLocations.data.map(N),f=0,y=O()(e.dataVaxLocations.data.map(N)).groupBy("area").map((function(e,t){return f=f>e.length?f:e.length,{area:t,locations:e.length}})).value(),S=O()(e.dataSommVaxDetail.data.map(N)).groupBy("code").map((function(e,t){var a,i=O.a.head(p[t]);return{code:t,area:null===(a=O.a.head(e))||void 0===a?void 0:a.area,byAge:O()(e).groupBy("eta").map((function(t,a){var s,o=O.a.sumBy(t,(function(e){return e.m+e.f})),n=o/(i.dosi_consegnate||1);return{age:a,fascia_anagrafica:a,dosi_somministrate:o,dosi_consegnate:i.dosi_consegnate||0,percentuale_somministrazione:+(100*n).toFixed(1),area:null===(s=O.a.head(e))||void 0===s?void 0:s.area,totale:o}})).value(),sesso_femminile:O.a.sumBy(e,"f"),sesso_maschile:O.a.sumBy(e,"m"),dosi_consegnate:i.dosi_consegnate||0,dosi_somministrate:i.dosi_somministrate||0,percentuale_somministrazione:i.percentuale_somministrazione||0}})).value(),_=O()(e.dataSommVaxDetail.data.map(N)).groupBy((function(e){return e.eta.toString().trim()})).map((function(e,t){var a=O()(e).groupBy("code").map((function(e,a){var i=O.a.sumBy(e,(function(e){return e.m+e.f})),s=i/(O.a.head(p[a]).dosi_consegnate||1);return{age:t,dosi_somministrate:i,sesso_maschile:O.a.sumBy(e,"m"),sesso_femminile:O.a.sumBy(e,"f"),code:a,dosi_consegnate:O.a.head(p[a]).dosi_consegnate||0,percentuale_somministrazione:+(100*s).toFixed(1),area:O.a.head(e).area}})).value();return{age:t,details:a}})).groupBy("age").value(),w={second_booster:"2\xaa dose Booster",immunocompromessi:"Booster Fragili/Immunocompromessi",addizionale:"Dose addizionale/booster",seconda:"2\xaa dose/unica dose",prima:"1\xaa dose",totale:"Totale fascia"},D=Object.keys(w),k=[],C=0,B=Object.keys(w);C<B.length;C++){var P=B[C];k.push(w[P])}var M,A={},T=[],L={},Y={},I=Object(x.a)(e.dataSommVaxDetail.data);try{for(I.s();!(M=I.n()).done;){var V=M.value,G=V.eta;if("80-89"!==G&&"90+"!==G||(G="over 80"),"5-11"===G&&(G="05-11"),!Y.hasOwnProperty(G)){Y[G]={};for(var R=0,F=Object.keys(w);R<F.length;R++){var E=F[R];Y[G][E]=0}}if("Janssen"===V.forn?Y[G].seconda+=V.d1:(Y[G].prima+=V.d1,Y[G].seconda+=V.d2),Y[G].seconda+=V.dpi,Y[G].addizionale+=V.db1,V.hasOwnProperty("dbi")&&(Y[G].immunocompromessi+=V.dbi),V.hasOwnProperty("db2")&&(Y[G].second_booster+=V.db2),A.hasOwnProperty(V.area)){if(!A[V.area].hasOwnProperty(G)){A[V.area][G]={};for(var U=0,$=Object.keys(w);U<$.length;U++){var J=$[U];A[V.area][G][J]=0}}}else{A[V.area]={},A[V.area][G]={};for(var W=0,H=Object.keys(w);W<H.length;W++){var X=H[W];A[V.area][G][X]=0}}"Janssen"===V.forn?A[V.area][G].seconda+=V.d1:(A[V.area][G].prima+=V.d1,A[V.area][G].seconda+=V.d2),A[V.area][G].seconda+=V.dpi,A[V.area][G].addizionale+=V.db1,V.hasOwnProperty("dbi")&&(A[V.area][G].immunocompromessi+=V.dbi),V.hasOwnProperty("db2")&&(A[V.area][G].second_booster+=V.db2)}}catch(wa){I.e(wa)}finally{I.f()}var Z,q={},K=Object(x.a)(Object.keys(Y).sort().reverse());try{for(K.s();!(Z=K.n()).done;){var Q=Z.value,ee={label:"Fascia "+Q};ee.second_booster=Y[Q].second_booster,ee.immunocompromessi=Y[Q].immunocompromessi-Y[Q].second_booster,ee.addizionale=Y[Q].addizionale-Y[Q].immunocompromessi,ee.seconda=Y[Q].seconda-Y[Q].addizionale,ee.prima=Y[Q].prima-Y[Q].seconda,ee["Totale platea"]=0;var te,ae=Object(x.a)(e.dataPlatea.data);try{for(ae.s();!(te=ae.n()).done;){var ie=te.value;(ie.eta===Q||"over 80"===Q&&"80+"===ie.eta)&&(ee["Totale platea"]+=parseInt(ie.totale_popolazione))}}catch(wa){ae.e(wa)}finally{ae.f()}ee.totale=ee["Totale platea"]-Y[Q].prima,q[ee.label]=Y[Q].prima+Y[Q].seconda+Y[Q].addizionale+Y[Q].immunocompromessi+Y[Q].second_booster,T.push(ee)}}catch(wa){K.e(wa)}finally{K.f()}var se,oe=0,ne=0,le=0,ce=0,re=0,de=Object(x.a)(e.dataGuariti.data);try{for(de.s();!(se=de.n()).done;){var me=se.value;"05-11"===me.eta?re+=parseInt(me.guariti_senza_somm):ce+=parseInt(me.guariti_post_1booster),oe+=parseInt(me.guariti_senza_somm),ne+=parseInt(me.guariti_post_somm),le+=parseInt(me.guariti_post_1booster)}}catch(wa){de.e(wa)}finally{de.f()}var ue,je=0,be=0,ve=Object(x.a)(e.dataPlatea.data);try{for(ve.s();!(ue=ve.n()).done;){var pe=ue.value;"05-11"===pe.eta?be+=parseInt(pe.totale_popolazione):je+=parseInt(pe.totale_popolazione)}}catch(wa){ve.e(wa)}finally{ve.f()}var he,xe={},fe=Object(x.a)(e.dataSommVaxDetail.data);try{for(fe.s();!(he=fe.n()).done;){var Oe=he.value;ee={},xe.hasOwnProperty(Oe.area)&&(ee=xe[Oe.area]);var ge=Oe.d2;"Janssen"===Oe.forn&&(ge=Oe.d1),Oe.hasOwnProperty("dpi")&&(ge+=Oe.dpi),xe.hasOwnProperty(Oe.area)?ee.somministrazioni+=ge:ee={code:Oe.area,area:z[Oe.area],somministrazioni:ge};for(var ye=0,Ne=Object.keys(Y);ye<Ne.length;ye++){var ze=Ne[ye],Se="over 80"===ze?"fascia_over_80":"fascia_"+ze;ee.hasOwnProperty(Se)?ee[Se]+=ze===Oe.eta||"over 80"===ze&&("90+"===Oe.eta||"80-89"===Oe.eta)?ge:0:ee[Se]=ze===Oe.eta||"over 80"===ze&&("90+"===Oe.eta||"80-89"===Oe.eta)?ge:0}xe[Oe.area]=ee}}catch(wa){fe.e(wa)}finally{fe.f()}for(var _e=[],we=0,De=Object.keys(xe);we<De.length;we++){var ke=De[we];_e.push(xe[ke])}var Ce,Be={},Pe=Object(x.a)(e.dataPlatea.data);try{for(Pe.s();!(Ce=Pe.n()).done;){var Me=Ce.value;Be.hasOwnProperty(Me.area)||(Be[Me.area]={popolazione:0});var Ae="80+"===Me.eta?"fascia_over_80":"05-11"===Me.eta?"fascia_05-11":"fascia_"+Me.eta,Te=parseInt(Me.totale_popolazione);Be[Me.area][Ae]={popolazione:0},Be[Me.area][Ae].popolazione=Te,Be[Me.area].popolazione+=Te}}catch(wa){Pe.e(wa)}finally{Pe.f()}for(var Le=[],Ye=0,Ie=Object.keys(xe);Ye<Ie.length;Ye++){for(var Ve=Ie[Ye],Ge=xe[Ve],Re={},Fe=0,Ee=Object.keys(Ge);Fe<Ee.length;Fe++){var Ue=Ee[Fe];Ue.includes("fascia")?Re[Ue]=Ge[Ue]/Be[Ve][Ue].popolazione*100:Re[Ue]=Ge[Ue]}Re.somministrazioni=Re.somministrazioni/Be[Ve].popolazione*100,Le.push(Re)}for(var $e=0,Je=Object.keys(A);$e<Je.length;$e++){var We,He=Je[$e],Xe=[],Ze=Object(x.a)(Object.keys(A[He]).sort().reverse());try{for(Ze.s();!(We=Ze.n()).done;){var qe=We.value;(ee={label:"Fascia "+qe}).second_booster=A[He][qe].second_booster,ee.immunocompromessi=A[He][qe].immunocompromessi-A[He][qe].second_booster,ee.addizionale=A[He][qe].addizionale-A[He][qe].immunocompromessi,ee.seconda=A[He][qe].seconda-A[He][qe].addizionale,ee.prima=A[He][qe].prima-A[He][qe].seconda,ee["Totale platea"]=0;var Ke,Qe=Object(x.a)(e.dataPlatea.data);try{for(Qe.s();!(Ke=Qe.n()).done;){var et=Ke.value;et.area===He&&(et.eta===qe||"over 80"===qe&&"80+"===et.eta)&&(ee["Totale platea"]+=parseInt(et.totale_popolazione))}}catch(wa){Qe.e(wa)}finally{Qe.f()}ee.totale=ee["Totale platea"]-ee.prima-ee.seconda-ee.addizionale-ee.immunocompromessi-ee.second_booster,Xe.push(ee)}}catch(wa){Ze.e(wa)}finally{Ze.f()}L[He]=Xe}for(var tt={senza:"Guariti senza somministrazione da al massimo 6 mesi",post:"Guariti post 2\xaa dose/unica dose da al massimo 4 mesi",booster:"Guariti post 1\xaa dose booster da al massimo 6 mesi"},at=Object.keys(tt),it={},st=[],ot=0,nt=Object.keys(tt);ot<nt.length;ot++){var lt=nt[ot];st.push(tt[lt])}var ct,rt=[],dt={},mt={},ut=Object(x.a)(e.dataGuariti.data);try{for(ut.s();!(ct=ut.n()).done;){var jt=ct.value;if("80+"===(G=jt.eta)&&(G="over 80"),!mt.hasOwnProperty(G)){mt[G]={};for(var bt=0,vt=Object.keys(tt);bt<vt.length;bt++){var pt=vt[bt];mt[G][pt]=0}}if(mt[G].senza+=jt.guariti_senza_somm,mt[G].post+=jt.guariti_post_somm,mt[G].booster+=jt.guariti_post_1booster,it.hasOwnProperty(jt.area)){if(!it[jt.area].hasOwnProperty(G)){it[jt.area][G]={};for(var ht=0,xt=Object.keys(tt);ht<xt.length;ht++){var ft=xt[ht];it[jt.area][G][ft]=0}}}else{it[jt.area]={},it[jt.area][G]={};for(var Ot=0,gt=Object.keys(tt);Ot<gt.length;Ot++){var yt=gt[Ot];it[jt.area][G][yt]=0}}it[jt.area][G].senza+=jt.guariti_senza_somm,it[jt.area][G].post+=jt.guariti_post_somm,it[jt.area][G].booster+=jt.guariti_post_1booster}}catch(wa){ut.e(wa)}finally{ut.f()}var Nt,zt={},St=Object(x.a)(Object.keys(mt).sort().reverse());try{for(St.s();!(Nt=St.n()).done;){var _t=Nt.value;(ee={label:"Fascia "+_t}).senza=mt[_t].senza,ee.post=mt[_t].post-mt[_t].senza,ee.booster=mt[_t].booster-mt[_t].post,zt[ee.label]=mt[_t].booster+mt[_t].post+mt[_t].senza,rt.push(ee)}}catch(wa){St.e(wa)}finally{St.f()}for(var wt=0,Dt=Object.keys(it);wt<Dt.length;wt++){var kt,Ct=Dt[wt],Bt=[],Pt=Object(x.a)(Object.keys(it[Ct]).sort().reverse());try{for(Pt.s();!(kt=Pt.n()).done;){var Mt=kt.value;(ee={label:"Fascia "+Mt}).senza=it[Ct][Mt].senza,ee.post=it[Ct][Mt].post-it[Ct][Mt].senza,ee.booster=it[Ct][Mt].booster-it[Ct][Mt].post,ee.Totale=it[Ct][Mt].booster+it[Ct][Mt].post+it[Ct][Mt].senza,Bt.push(ee)}}catch(wa){Pt.e(wa)}finally{Pt.f()}dt[Ct]=Bt}var At,Tt={},Lt=Object(x.a)(e.dataGuariti.data);try{for(Lt.s();!(At=Lt.n()).done;){var Yt=At.value;ee={},Tt.hasOwnProperty(Yt.area)&&(ee=Tt[Yt.area]);var It=Yt.guariti_senza_somm+Yt.guariti_post_somm;Tt.hasOwnProperty(Yt.area)?ee.guariti+=It:ee={code:Yt.area,area:z[Yt.area],guariti:It};for(var Vt=0,Gt=Object.keys(mt);Vt<Gt.length;Vt++){var Rt=Gt[Vt],Ft="over 80"===Rt?"fascia_over_80":"fascia_"+Rt;ee.hasOwnProperty(Ft)?ee[Ft]+=Rt===Yt.eta||"over 80"===Rt&&"80+"===Yt.eta?It:0:ee[Ft]=Rt===Yt.eta||"over 80"===Rt&&"80+"===Yt.eta?It:0}Tt[Yt.area]=ee}}catch(wa){Lt.e(wa)}finally{Lt.f()}for(var Et=[],Ut=0,$t=Object.keys(Tt);Ut<$t.length;Ut++){for(var Jt=Tt[$t[Ut]],Wt={},Ht=0,Xt=Object.keys(Jt);Ht<Xt.length;Ht++){var Zt=Xt[Ht];Zt.includes("fascia"),Wt[Zt]=Jt[Zt]}Et.push(Wt)}var qt,Kt=["#0f69c9","#4d99eb","#77b2f2","#b5d4f5","#d1e0f0","#edf2f7","#ffffff"],Qt={},ea=[],ta=Object(x.a)(e.dataSommVaxDetail.data);try{for(ta.s();!(qt=ta.n()).done;){var aa=qt.value;ea.includes(aa.forn)||ea.push(aa.forn)}}catch(wa){ta.e(wa)}finally{ta.f()}var ia=ea.indexOf("Pfizer Pediatrico");-1!==ia&&(ea.splice(ia,1),ea.push("Pfizer Pediatrico"));for(var sa=0,oa=ea;sa<oa.length;sa++){var na=oa[sa];Object.keys(Qt).length-1<Kt.length?Qt[na]=Kt[Object.keys(Qt).length]:Qt[na]="#ffffff"}for(var la={},ca=0,ra=[],da=new Date("2020-12-21");;){var ma,ua={label:j()(da).format("DD/MM"),from:j()(da).format("YYYY-MM-DD"),labelfrom:j()(da).format("DD/MM"),to:j()(new Date(da.getTime()+5184e5)).format("YYYY-MM-DD"),labelto:j()(new Date(da.getTime()+5184e5)).format("DD/MM"),total:0},ja=Object(x.a)(ea);try{for(ja.s();!(ma=ja.n()).done;){ua[ma.value]=0}}catch(wa){ja.e(wa)}finally{ja.f()}if(la[j()(da).format("YYYY-MM-DD")]=ca,la[j()(new Date(da.getTime()+864e5)).format("YYYY-MM-DD")]=ca,la[j()(new Date(da.getTime()+1728e5)).format("YYYY-MM-DD")]=ca,la[j()(new Date(da.getTime()+2592e5)).format("YYYY-MM-DD")]=ca,la[j()(new Date(da.getTime()+3456e5)).format("YYYY-MM-DD")]=ca,la[j()(new Date(da.getTime()+432e6)).format("YYYY-MM-DD")]=ca,la[j()(new Date(da.getTime()+5184e5)).format("YYYY-MM-DD")]=ca,ca++,ra.push(ua),(da=new Date(da.getTime()+6048e5))>new Date)break}var ba,va=Object(x.a)(e.dataSommVaxDetail.data);try{for(va.s();!(ba=va.n()).done;){var pa=ba.value,ha=ra[la[j()(new Date(pa.data)).format("YYYY-MM-DD")]];ha.total+=pa.f+pa.m,ha[pa.forn]+=pa.f+pa.m}}catch(wa){va.e(wa)}finally{va.f()}var xa,fa=0,Oa=Object(x.a)(e.dataPlateaDoseAddizionaleBooster.data);try{for(Oa.s();!(xa=Oa.n()).done;){var ga=xa.value;fa+=parseInt(ga.totale_popolazione)}}catch(wa){Oa.e(wa)}finally{Oa.f()}var ya,Na=0,za=0,Sa=Object(x.a)(e.dataPlateaSecondBooster.data);try{for(Sa.s();!(ya=Sa.n()).done;){var _a=ya.value;"fragili_immunocompromessi"===_a.categoria_prevalente?Na+=parseInt(_a.totale_popolazione):za+=parseInt(_a.totale_popolazione)}}catch(wa){Sa.e(wa)}finally{Sa.f()}return{timestamp:e.dataLastUpdate.ultimo_aggiornamento,tot:s,deliverySummary:l,locations:h,dataSomeVaxDetail:n,locationsByRegion:y,maxNumberOfLocations:f,allDosesSupplier:m,doesesByArea:v,totalSuplier:u,totalDoses:r,totalDeliverySummaryByAge:_,totalDeliverySummary:S,suppliersColor:Qt,suppliers:ea,suppliersWeek:ra,keyValueDoses:w,keysDosesAges:D,dosesAges:k,dosesAgesColor:["#061b56","#0d2d85","#0a5dbb","#3073cf","#548bd6","#b6d5f4"],dosesAgesData:T,dosesAgesRegionData:L,ageDosesTotal:q,healed:st,keyValueHealed:tt,keysHealed:at,healedColor:["#b6d5f4","#0a5dbb","#012675"],healedData:rt,healedRegionData:dt,healedTotal:zt,healedMapData:Et,secondDosesData:_e,secondDosesPlateaData:Le,totalPlatea:je,totalPlateaBaby:be,totalPlateaDoseAddizionaleBooster:fa,totalPlateaDoseImmunocompromessiFragili:Na,totalPlateaDoseSecondBooster:za,totalGuariti:oe,totalGuaritiDoppia:ne,totalGuaritiBooster:le,totalGuaritiBoosterNotBaby:ce,totalGuaritiBaby:re}},I=function(){var e=Object(h.a)(p.a.mark((function e(){var t,a,i,s,o,n,l,d,m,u,j,b,v,h,x,f,O,g,y,N,z,S,I,V,G,R;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([fetch(_),fetch(w),fetch(D),fetch(C),fetch(k),fetch(B),fetch(P),fetch(M),fetch(A),fetch(T),fetch(L)]);case 2:return t=e.sent,a=Object(r.a)(t,11),i=a[0],s=a[1],o=a[2],n=a[3],l=a[4],d=a[5],m=a[6],u=a[7],j=a[8],b=a[9],v=a[10],e.next=17,Promise.all([i.json(),s.json(),o.json(),n.json(),l.json(),d.json(),m.json(),u.json(),j.json(),b.json(),v.json()]);case 17:return h=e.sent,x=Object(r.a)(h,11),f=x[0],O=x[1],g=x[2],y=x[3],N=x[4],z=x[5],S=x[6],I=x[7],V=x[8],G=x[9],R=x[10],e.abrupt("return",Object(c.a)({},Y({dataSommVaxSummary:f,dataSommVaxDetail:O,dataVaxSummary:g,dataProfileSummary:y,dataLastUpdate:z,dataVaxLocations:N,dataSupplierDoses:S,dataPlatea:I,dataPlateaDoseAddizionaleBooster:V,dataPlateaSecondBooster:G,dataGuariti:R})));case 31:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=a(6),G=a.n(V),R=a(19),F=a.n(R);!function(){function e(e,t,a){var i=/(^-?[0-9]+(\.?[0-9]*)[df]?e?[0-9]?%?$|^0x[0-9a-f]+$|[0-9]+)/gi,s=/(^[ ]*|[ ]*$)/g,o=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,n=/^0x[0-9a-f]+$/i,l=/^0/,c=/(<([^>]+)>)/gi,r=e.toString().replace(s,"")||"",d=t.toString().replace(s,"")||"";a||(r=r.replace(c,""),d=d.replace(c,""));var m=r.replace(i,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),u=d.replace(i,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),j=parseInt(r.match(n),10)||1!==m.length&&r.match(o)&&Date.parse(r),b=parseInt(d.match(n),10)||j&&d.match(o)&&Date.parse(d)||null;if(b){if(j<b)return-1;if(j>b)return 1}for(var v=0,p=Math.max(m.length,u.length);v<p;v++){var h=!(m[v]||"").match(l)&&parseFloat(m[v],10)||m[v]||0,x=!(u[v]||"").match(l)&&parseFloat(u[v],10)||u[v]||0;if(isNaN(h)!==isNaN(x))return isNaN(h)?1:-1;if(typeof h!==typeof x&&(h+="",x+=""),h<x)return-1;if(h>x)return 1}return 0}V.extend(V.fn.dataTableExt.oSort,{"natural-asc":function(t,a){return e(t,a,!0)},"natural-desc":function(t,a){return-1*e(t,a,!0)},"natural-nohtml-asc":function(t,a){return e(t,a,!1)},"natural-nohtml-desc":function(t,a){return-1*e(t,a,!1)},"natural-ci-asc":function(t,a){return e(t=t.toString().toLowerCase(),a=a.toString().toLowerCase(),!0)},"natural-ci-desc":function(t,a){return-1*e(t=t.toString().toLowerCase(),a=a.toString().toLowerCase(),!0)}})}(),V.DataTable=F.a;var E=[{title:"Regioni",data:"area"},{title:"Dosi somministrate",data:"dosi_somministrate"},{title:"Dosi consegnate",data:"dosi_consegnate"},{title:"%",data:"percentuale_somministrazione"}],U=function(e){var t=e.deliveryTableData;return Object(s.useEffect)((function(){V("#datatable").find("tfoot"),V("#datatable").find("table").append("<tfoot><th></th><th></th><th></th><th></th></tfoot>")}),[]),Object(s.useEffect)((function(){V("#datatable").find("table").DataTable({dom:"<'row'<'col-12'l>><'row'<'col-12'tr>>",paging:!1,searching:!0,destroy:!0,data:t,columns:E,language:{decimal:",",thousands:"."},columnDefs:[{targets:0,width:"160px"},{type:"natural",targets:3},{targets:[1,2,3],render:function(e,t,a){return Number(e).toLocaleString("it")}}],footerCallback:function(e,t,a,i,s){var o=V("#datatable").find("table").DataTable(),n=function(e){return"string"===typeof e?1*e.replace(/[$,]/g,""):"number"===typeof e?e:0},l=o.column(2,{search:"applied"}).data().reduce((function(e,t){return n(e)+n(t)}),0),c=o.column(1,{search:"applied"}).data().reduce((function(e,t){return n(e)+n(t)}),0),r=l?c/l*100:0;V(o.column(3).footer()).html(r.toFixed(1)),V(o.column(2).footer()).html(l.toLocaleString("it")),V(o.column(1).footer()).html(c.toLocaleString("it")),V(o.column(0).footer()).html("Totale")}})}),[t]),Object(i.jsx)("div",{id:"datatable",children:Object(i.jsx)("table",{className:"table h-100 table-borderless compact table-hover deliveries-table",cellSpacing:"0",width:"100%",style:{paddingBottom:6}})})},$=a(4),J=a(57),W=function(e){var t=e.handleMapDeliveryClick,a=e.fillMapDeliveryArea,o=e.fillBy,n=e.summary,l=e.tooltip,c=e.percentage,d=Object(s.useState)([]),m=Object(r.a)(d,2),u=m[0],j=m[1],b=Object(s.useState)(0),v=Object(r.a)(b,2),x=v[0],f=v[1];Object(s.useEffect)((function(){if(c)f(100);else{var e=O.a.maxBy(n||{},o);f(e?e[o]:0)}}),[n,o,c]);var g=$.c().center([0,41]).rotate([347,0]).parallels([35,45]).scale(2200).translate([249,239]);return Object(s.useEffect)((function(){(function(){var e=Object(h.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("data/geo/it.json");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,j(J.a(a,a.objects.regions).features);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(i.jsx)("div",{className:"map-area",children:Object(i.jsx)("svg",{className:"h-100 w-100",height:478,children:Object(i.jsxs)("g",{className:"countries",children:[u.map((function(e,s){var c,r,d=e.properties.reg_name,m=O.a.filter(n,(function(e){return e.area===d})),u={};return m&&m.length>0&&(u=m[0]),Object(i.jsx)("path",{d:$.d().projection(g)(e),className:"country",id:"".concat(null===(c=u)||void 0===c||null===(r=c.area)||void 0===r?void 0:r.trim()),fill:a({region:u,maxValue:x,field:o}),stroke:"#FFFFFF",strokeWidth:.7,onClick:function(){return t(u)},children:Object(i.jsx)("title",{children:Object(i.jsx)("span",{className:"bg-info",children:l(u)})})},"path-".concat(s))})),");"]})})})},H=function(e){var t=e.data,a=Object(s.useState)([]),o=Object(r.a)(a,2),n=o[0],l=o[1],c=Object(s.useState)([]),d=Object(r.a)(c,2),m=d[0],u=d[1],j=Object(s.useState)(null),b=Object(r.a)(j,2),v=b[0],p=b[1],h=Object(s.useState)(0),x=Object(r.a)(h,2),O=x[0],g=x[1],y=Object(s.useState)(null),N=Object(r.a)(y,2),z=N[0],S=N[1];Object(s.useEffect)((function(){Object(f.isEmpty)(t)||(l(t.totalDeliverySummary),u(t.totalDeliverySummary),g(t.tot))}),[t]);var _=function(){p(null),u(t.totalDeliverySummary),g(t.tot),S(null),l(t.totalDeliverySummary)};return Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:"row",children:Object(i.jsx)("div",{className:"col-12 d-flex justify-content-end"})}),Object(i.jsxs)("div",{className:"row p-2 p-3 bg-grey",children:[Object(i.jsx)("div",{className:"col-12 col-lg-6 h-100 order-md-2 order-lg-1 p-1 pb-5",children:Object(i.jsx)(U,{deliveryTableData:m,className:"mr-5 h-100"})}),Object(i.jsxs)("div",{className:"col-12 col-lg-6 order-md-1 order-lg-2 text-center",children:[Object(i.jsx)("div",{className:"p-4 position-relative d-lg-none",children:Object(i.jsx)("div",{className:"d-flex justify-content-start pr-5",children:Object(i.jsx)("h5",{className:"pl-4 pl-sm-1 justify-content-center",children:"Distribuzione somministrazioni rispetto alle consegne"})})}),Object(i.jsx)("div",{className:"p-4 d-none d-lg-block map-legend mt-5",children:Object(i.jsx)("div",{className:"d-flex justify-content-end",children:Object(i.jsxs)("h5",{className:"pl-1 pl-sm-1 text-left",children:["Distribuzione",Object(i.jsx)("br",{}),"somministrazioni ",Object(i.jsx)("br",{}),"rispetto alle consegne"]})})}),Object(i.jsx)("div",{className:"justify-content-center mt-5",children:Object(i.jsx)(W,{fillMapDeliveryArea:function(e){var t=e.region,a=e.maxValue,i=e.field,s=0;if(t.code===v)s=1;else if(v){var o=t[i]/(2*a);s=Object(f.max)([o,.1])}else s=Object(f.max)([t[i]/a,.1]);return"rgba(0,102,204,".concat(s,") ")},summary:n,handleMapDeliveryClick:function(e){if(z&&_(),v===e.code)_();else{var a=Object(f.find)(t.totalDeliverySummary,(function(t){return t.code===e.code}));u([a]),p(e.code),g(a.dosi_somministrate)}},tooltip:function(e){return e.area+" "+(e.percentuale_somministrazione&&e.percentuale_somministrazione.toLocaleString("it"))+"%"},fillBy:"percentuale_somministrazione"})}),Object(i.jsx)("div",{className:"p-4 position-relative",children:Object(i.jsxs)("div",{className:"text-black",children:[Object(i.jsx)("div",{className:"d-flex justify-content-center ",children:Object(i.jsx)("span",{className:"numbers",children:null===O||void 0===O?void 0:O.toLocaleString("it")})}),Object(i.jsx)("div",{className:"d-flex justify-content-center",children:Object(i.jsx)("h5",{children:"Totale somministrazioni"})})]})})]})]})]})},X=function(e){var t=e.handleRectClick,a=e.height,o=e.width,n=e.data,l=e.keys,c=e.labels,r=e.colors,d=e.selectedCodeAge,m=e.regionSelected,u=Object(s.useRef)(),j=Object(s.useRef)();Object(s.useEffect)((function(){$.h(j.current).selectAll("svg").remove(),v()}),[n,l,c,d]);var b=function(e){var t=$.h(e.node().parentNode),a=parseInt(e.style("width"),10),i=parseInt(e.style("height"),10),s=a/i;function o(){var a=parseInt(t.style("width"));e.attr("width",a),e.attr("height",Math.round(a/s))}e.attr("viewBox","0 0 ".concat(a," ").concat(i)).attr("preserveAspectRatio","xMinYMid").call(o),$.h(window).on("resize."+t.attr("id"),o)};var v=function(){var e=$.i().keys(l)(n),i=$.h(j.current).append("svg").style("margin-bottom",10).attr("width",o).attr("height",a),s=30,u=60,v=$.g().domain([0,$.e(n,(function(e){return e["Totale platea"]}))]),p=$.f().padding(.2);v.range([0,o]),p.range([0,a]).domain(n.map((function(e){return e.label}))),i.attr("width",o+2*u).attr("height",a+2*s).call(b).attr("id","svg-stack-bar");var h=i.append("g").attr("transform","translate(".concat(u,",").concat(s,")"));h.append("g").attr("class","axis").attr("transform","translate(0, 0)").style("font-size","12px").call($.b(p)).attr("stroke-width",0).selectAll("text").attr("y",0).attr("x",-30).style("text-anchor","start").style("fill","#19191a");var x=$.h("body").append("div").attr("class","d3-tooltip").style("position","absolute").style("z-index","10").style("display","none").style("padding","10px").style("background","rgba(0,0,0,0.8)").style("border-radius","4px").style("color","#fff"),f=h.selectAll().data(e);f.enter().append("g").attr("fill",(function(e){return r[e.index]})).attr("dose",(function(e){return e.key})).selectAll("rect").data((function(e){return e})).enter().append("rect").on("click",(function(e,a){t(a),x.html("").style("display","none")})).attr("opacity",(function(e){var t=e.data.label.toLowerCase().replaceAll(" ","_");return d===t?1:d?.3:1})).attr("x",(function(e){return v(e[0])+60})).attr("y",(function(e){return p(e.data.label)})).attr("width",(function(e){return v(e[1])-v(e[0])})).attr("height",p.bandwidth()).on("mouseover",(function(e,t){$.h(this).transition().attr("fill","#0BD9D3")})).on("mousemove",(function(e,t){var a=m?" "+m:"";if("totale"===$.h(this.parentNode).attr("dose"))x.style("top",e.pageY-10+"px").style("left",e.pageX+10+"px"),x.html('<div style="text-align: center; line-height: 1.15rem;">\n                <div style="font-size: 12px;">'.concat(a,"</div>\n                <div><b>").concat(t.data.label,'</b></div>\n                <div style="font-size: 14px;">Platea</div>\n                <div>').concat(t.data["Totale platea"].toLocaleString("it"),"</div>\n                </div>")).style("display",null);else{var i=0;if("prima"===$.h(this.parentNode).attr("dose"))i=(t.data.prima+t.data.seconda+t.data.addizionale+t.data.immunocompromessi)/t.data["Totale platea"]*100;else if("seconda"===$.h(this.parentNode).attr("dose"))i=(t.data.seconda+t.data.addizionale+t.data.immunocompromessi)/t.data["Totale platea"]*100;else if("addizionale"===$.h(this.parentNode).attr("dose"))i=(t.data.addizionale+t.data.immunocompromessi)/t.data["Totale platea"]*100;else i=t.data.immunocompromessi/t.data["Totale platea"]*100;x.style("top",e.pageY-10+"px").style("left",e.pageX+10+"px"),i<0?x.html('<div style="text-align: center; line-height: 1.15rem;">\n                        <div style="font-size: 12px;">'.concat(a," ").concat(t.data.label,'</div>\n                        <div style="text-align: center"><b>').concat(c[$.h(this.parentNode).attr("dose")],' </b></div>\n                        <div style="font-size: 14px;">Somministrate ').concat(t[1].toLocaleString("it")," su ").concat(t.data["Totale platea"].toLocaleString("it"),"</div>")).style("display",null):x.html('<div style="text-align: center; line-height: 1.15rem;">\n                        <div style="font-size: 12px;">'.concat(a," ").concat(t.data.label,'</div>\n                        <div style="text-align: center"><b>').concat(c[$.h(this.parentNode).attr("dose")],' </b></div>\n                        <div style="font-size: 14px;"><b>(').concat(i.toFixed(2).toLocaleString("it"),' %)</b></div>\n                        <div style="font-size: 14px;">Somministrate ').concat(t[1].toLocaleString("it")," su ").concat(t.data["Totale platea"].toLocaleString("it"),"</div>")).style("display",null)}})).on("mouseout",(function(e){x.html("").style("display","none"),$.h(this).transition().attr("fill",r[e.key])})),f.exit().remove()};return Object(i.jsx)("div",{ref:j,className:"chart svg-container",children:Object(i.jsx)("svg",{ref:u,className:"svg-content-responsive"})})},Z=function(e){var t=e.data,a=Object(s.useState)([]),o=Object(r.a)(a,2),n=o[0],l=o[1],c=Object(s.useState)([]),d=Object(r.a)(c,2),m=d[0],u=d[1],j=Object(s.useState)([]),b=Object(r.a)(j,2),v=b[0],p=b[1],h=Object(s.useState)({}),O=Object(r.a)(h,2),g=O[0],y=O[1],N=Object(s.useState)([]),z=Object(r.a)(N,2),S=z[0],_=z[1],w=Object(s.useState)([]),D=Object(r.a)(w,2),k=D[0],C=D[1],B=Object(s.useState)([]),P=Object(r.a)(B,2),M=P[0],A=P[1],T=Object(s.useState)("somministrazioni"),L=Object(r.a)(T,2),Y=L[0],I=L[1],V=Object(s.useState)(null),G=Object(r.a)(V,2),R=G[0],F=G[1],E=Object(s.useState)(null),U=Object(r.a)(E,2),$=U[0],J=U[1],H=Object(s.useState)(null),Z=Object(r.a)(H,2),q=Z[0],K=Z[1],Q=Object(s.useState)(0),ee=Object(r.a)(Q,2),te=ee[0],ae=ee[1];Object(s.useEffect)((function(){Object(f.isEmpty)(t)||(l(t.dosesAgesColor),u(t.dosesAges),p(t.keysDosesAges),y(t.keyValueDoses),_(t.dosesAgesData),ae(t.tot),C(t.secondDosesPlateaData),A(t.secondDosesData))}),[t]);var ie=function(){K(null),F(null),J(null),ae(t.tot),_(t.dosesAgesData),I("somministrazioni"),C(t.secondDosesPlateaData)};return Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-12 d-flex justify-content-center align-items-center section-title mx-2",children:Object(i.jsx)("div",{children:Object(i.jsx)("h3",{children:"Somministrazioni per fascia d'et\xe0 - dose"})})}),Object(i.jsxs)("div",{className:"col-12 col-md-12 m-3",children:[Object(i.jsx)("div",{className:"d-lg-none bg-box box-mobile m-3",children:Object(i.jsxs)("div",{className:"text-white",children:[Object(i.jsx)("div",{className:"d-flex justify-content-center pt-5",children:Object(i.jsx)("h5",{children:"Totale somministrazioni"})}),Object(i.jsx)("div",{className:"d-flex justify-content-center",children:Object(i.jsx)("p",{className:"box-numbers",children:te&&te.toLocaleString("it")})}),Object(i.jsx)("div",{className:"col-12 d-flex justify-content-end pb-2",children:Object(i.jsx)("img",{alt:"reset-plot2",src:"reset_white.png",onClick:ie,height:"36px"})})]})}),Object(i.jsx)("div",{className:"col-4 col-md-4 d-none d-lg-block",children:Object(i.jsx)("div",{className:"bg-box box-card box-left",children:Object(i.jsxs)("div",{className:"text-white",children:[Object(i.jsx)("div",{className:"d-flex justify-content-start pt-3 pl-5",children:Object(i.jsx)("h5",{children:"Totale somministrazioni"})}),Object(i.jsx)("div",{className:"d-flex justify-content-start pl-5",children:Object(i.jsx)("p",{className:"box-numbers",children:te&&te.toLocaleString("it")})}),Object(i.jsx)("div",{className:"col-12 d-flex justify-content-end pb-2",children:Object(i.jsx)("img",{alt:"Reset",src:"reset_white.png",onClick:ie,height:"36px"})})]})})})]}),Object(i.jsxs)("div",{className:"col-12 col-md-6",children:[Object(i.jsx)(X,{width:350,height:300,property:{xprop:"label",yprop:"total"},handleRectClick:function(e){R&&ie();var a=e.data.label.toLowerCase().replaceAll(" ","_");q===a?ie():(K(a),I(a),ae(t.ageDosesTotal[e.data.label]))},regionSelected:$,selectedCodeAge:q,colors:n,keys:v,labels:g,data:S}),Object(i.jsx)("div",{className:"row mb-4 ml-4",children:m.map((function(e,t){return Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"circle",style:{backgroundColor:n[t]}}),Object(i.jsx)("div",{className:"legend-dark mr-4",children:e})]},e)}))}),Object(i.jsx)("p",{className:"d-block d-sm-none text-center",children:"*Tieni premuto sulle barre del grafico per visualizzare i dati sulle dosi somministrate"}),Object(i.jsx)("p",{className:"d-none d-sm-block text-center",children:"*Passa con il mouse sulle barre del grafico per visualizzare i dati sulle dosi somministrate"})]}),Object(i.jsxs)("div",{className:"col-12 col-md-6",children:[Object(i.jsx)("div",{className:"p-4 d-lg-none",children:Object(i.jsx)("div",{className:"text-center",children:Object(i.jsx)("h5",{children:"Percentuale vaccinati per regione"})})}),Object(i.jsx)(W,{fillMapDeliveryArea:function(e){var t=e.region,a=e.maxValue,i=e.field,s=0;if(t.code===R)s=1;else if(R){var o=t[i]/(2*a);s=Object(f.max)([o,.1])}else s=Object(f.max)([t[i]/a,.1]);return"rgba(0,102,204,".concat(s,") ")},summary:k,handleMapDeliveryClick:function(e){if(q&&ie(),R===e.code)ie();else{F(e.code),J(e.area),_(t.dosesAgesRegionData[e.code]);var a,i=Object(x.a)(null===t||void 0===t?void 0:t.totalDeliverySummary);try{for(i.s();!(a=i.n()).done;){var s=a.value;s.code===e.code&&ae(s.dosi_somministrate)}}catch(o){i.e(o)}finally{i.f()}}},fillBy:Y,percentage:!0,tooltip:function(e){var t,a=null,i=Object(x.a)(M);try{for(i.s();!(t=i.n()).done;){var s=t.value;s.code===e.code&&(a=s)}}catch(o){i.e(o)}finally{i.f()}return e.area+" "+(e[Y]&&e[Y].toFixed(2).toLocaleString("it")+"%")+" "+(a&&a[Y]&&"("+a[Y].toLocaleString("it")+")")},className:"ml-5"}),Object(i.jsx)("div",{className:"p-4 d-none d-lg-block map-legend",children:Object(i.jsx)("div",{className:"d-flex justify-content-start pr-5",children:Object(i.jsxs)("h5",{className:"pl-3 pl-sm-1",children:["Percentuale vaccinati",Object(i.jsx)("br",{})," per regione"]})})})]})]})},q=function(e){var t=e.handleRectClick,a=e.height,o=e.width,n=e.data,l=e.keys,c=e.labels,r=e.colors,d=e.selectedCodeAge,m=e.regionSelected,u=Object(s.useRef)(),j=Object(s.useRef)();Object(s.useEffect)((function(){$.h(j.current).selectAll("svg").remove(),v()}),[n,l,c,d]);var b=function(e){var t=$.h(e.node().parentNode),a=parseInt(e.style("width"),10),i=parseInt(e.style("height"),10),s=a/i;function o(){var a=parseInt(t.style("width"));e.attr("width",a),e.attr("height",Math.round(a/s))}e.attr("viewBox","0 0 ".concat(a," ").concat(i)).attr("preserveAspectRatio","xMinYMid").call(o),$.h(window).on("resize."+t.attr("id"),o)};var v=function(){var e=$.i().keys(l)(n),i=$.h(j.current).append("svg").style("margin-bottom",10).attr("width",o).attr("height",a),s=30,u=60,v=$.g().domain([0,$.e(n,(function(e){return e.post+e.senza+e.booster}))]),p=$.f().padding(.2);v.range([0,o]),p.range([0,a]).domain(n.map((function(e){return e.label}))),i.attr("width",o+2*u).attr("height",a+2*s).call(b).attr("id","svg-stack-bar");var h=i.append("g").attr("transform","translate(".concat(u,",").concat(s,")"));h.append("g").attr("class","axis").attr("transform","translate(0, 0)").style("font-size","12px").call($.b(p)).attr("stroke-width",0).selectAll("text").attr("y",0).attr("x",-30).style("text-anchor","start").style("fill","#19191a");var x=$.h("body").append("div").attr("class","d3-tooltip").style("position","absolute").style("z-index","10").style("display","none").style("padding","10px").style("background","rgba(0,0,0,0.8)").style("border-radius","4px").style("color","#fff"),f=h.selectAll().data(e);f.enter().append("g").attr("fill",(function(e){return r[e.index]})).attr("dose",(function(e){return e.key})).selectAll("rect").data((function(e){return e})).enter().append("rect").on("click",(function(e,a){t(a),x.html("").style("display","none")})).attr("opacity",(function(e){var t=e.data.label.toLowerCase().replaceAll(" ","_");return d===t?1:d?.3:1})).attr("x",(function(e){return v(e[0])+60})).attr("y",(function(e){return p(e.data.label)})).attr("width",(function(e){return v(e[1])-v(e[0])})).attr("height",p.bandwidth()).on("mouseover",(function(e,t){$.h(this).transition().attr("fill","#0BD9D3")})).on("mousemove",(function(e,t){var a=m?" "+m:"";x.style("top",e.pageY-10+"px").style("left",e.pageX+10+"px"),x.html('<div style="text-align: center; line-height: 1.15rem;">\n              <div style="font-size: 12px;">'.concat(a," ").concat(t.data.label,'</div>\n              <div style="text-align: center"><b>').concat(c[$.h(this.parentNode).attr("dose")],' </b></div>\n              <div style="font-size: 14px;">').concat(t[1].toLocaleString("it"),"</div>")).style("display",null)})).on("mouseout",(function(e){x.html("").style("display","none"),$.h(this).transition().attr("fill",r[e.key])})),f.exit().remove()};return Object(i.jsx)("div",{ref:j,className:"chart svg-container",children:Object(i.jsx)("svg",{ref:u,className:"svg-content-responsive"})})},K=function(e){var t=e.data,a=Object(s.useState)([]),o=Object(r.a)(a,2),n=o[0],l=o[1],c=Object(s.useState)([]),d=Object(r.a)(c,2),m=d[0],u=d[1],j=Object(s.useState)([]),b=Object(r.a)(j,2),v=b[0],p=b[1],h=Object(s.useState)([]),O=Object(r.a)(h,2),g=O[0],y=O[1],N=Object(s.useState)({}),z=Object(r.a)(N,2),S=z[0],_=z[1],w=Object(s.useState)([]),D=Object(r.a)(w,2),k=D[0],C=D[1],B=Object(s.useState)("guariti"),P=Object(r.a)(B,2),M=P[0],A=P[1],T=Object(s.useState)(null),L=Object(r.a)(T,2),Y=L[0],I=L[1],V=Object(s.useState)(null),G=Object(r.a)(V,2),R=G[0],F=G[1],E=Object(s.useState)(null),U=Object(r.a)(E,2),$=U[0],J=U[1],H=Object(s.useState)(0),X=Object(r.a)(H,2),Z=X[0],K=X[1];Object(s.useEffect)((function(){Object(f.isEmpty)(t)||(l(t.healedColor),u(t.healed),y(t.healedData),p(t.keysHealed),K(t.totalGuariti+t.totalGuaritiDoppia+t.totalGuaritiBooster),C(t.healedMapData),_(t.keyValueHealed))}),[t]);var Q=function(){J(null),I(null),F(null),K(t.totalGuariti+t.totalGuaritiDoppia+t.totalGuaritiBooster),y(t.healedData),A("guariti"),C(t.healedMapData)};return Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-12 d-flex justify-content-center align-items-center section-title mx-2",children:Object(i.jsx)("div",{className:"text-center",children:Object(i.jsx)("h3",{class:"mb-0",children:"Platea guariti"})})}),Object(i.jsxs)("div",{className:"col-12 col-md-12 m-3",children:[Object(i.jsx)("div",{className:"d-lg-none bg-box box-mobile m-3",children:Object(i.jsxs)("div",{className:"text-white",children:[Object(i.jsx)("div",{className:"d-flex justify-content-center pt-5",children:Object(i.jsx)("h5",{children:"Totale guariti"})}),Object(i.jsx)("div",{className:"d-flex justify-content-center",children:Object(i.jsx)("p",{className:"box-numbers",children:Z&&Z.toLocaleString("it")})}),Object(i.jsx)("div",{className:"col-12 d-flex justify-content-end pb-2",children:Object(i.jsx)("img",{alt:"reset-plot2",src:"reset_white.png",onClick:Q,height:"36px"})})]})}),Object(i.jsx)("div",{className:"col-4 col-md-4 d-none d-lg-block",children:Object(i.jsx)("div",{className:"bg-box box-card box-left",children:Object(i.jsxs)("div",{className:"text-white",children:[Object(i.jsx)("div",{className:"d-flex justify-content-start pt-3 pl-5",children:Object(i.jsx)("h5",{children:"Totale guariti"})}),Object(i.jsx)("div",{className:"d-flex justify-content-start pl-5",children:Object(i.jsx)("p",{className:"box-numbers",children:Z&&Z.toLocaleString("it")})}),Object(i.jsx)("div",{className:"col-12 d-flex justify-content-end pb-2",children:Object(i.jsx)("img",{alt:"Reset",src:"reset_white.png",onClick:Q,height:"36px"})})]})})})]}),Object(i.jsxs)("div",{className:"col-12 col-md-6",children:[Object(i.jsx)(q,{width:350,height:300,property:{xprop:"label",yprop:"total"},handleRectClick:function(e){Y&&Q();var a=e.data.label.toLowerCase().replaceAll(" ","_");$===a?Q():(J(a),A(a),K(t.healedTotal[e.data.label]))},regionSelected:R,selectedCodeAge:$,colors:n,keys:v,labels:S,data:g}),Object(i.jsx)("div",{className:"row mb-4 ml-4",children:m.map((function(e,t){return Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"circle",style:{backgroundColor:n[t]}}),Object(i.jsx)("div",{className:"legend-dark mr-4",children:e})]},e)}))})]}),Object(i.jsxs)("div",{className:"col-12 col-md-6 my-0 py-0",children:[Object(i.jsx)(W,{fillMapDeliveryArea:function(e){var t=e.region,a=e.maxValue,i=e.field,s=0;if(t.code===Y)s=1;else if(Y){var o=t[i]/(2*a);s=Object(f.max)([o,.1])}else s=Object(f.max)([t[i]/a,.1]);return"rgba(0,102,204,".concat(s,") ")},summary:k,handleMapDeliveryClick:function(e){if($&&Q(),Y===e.code)Q();else{I(e.code),F(e.area),y(t.healedRegionData[e.code]);var a,i=0,s=Object(x.a)(t.healedRegionData[e.code]);try{for(s.s();!(a=s.n()).done;){i+=a.value.Totale}}catch(o){s.e(o)}finally{s.f()}K(i)}},fillBy:M,percentage:!1,tooltip:function(e){var t,a=null,i=Object(x.a)(k);try{for(i.s();!(t=i.n()).done;){var s=t.value;s.code===e.code&&(a=s)}}catch(o){i.e(o)}finally{i.f()}return e.area+" "+(a&&a[M]&&"("+a[M].toLocaleString("it")+")")},className:"ml-5"}),Object(i.jsx)("p",{className:"text-center",children:"*Seleziona la Regione/Provincia Autonoma per visualizzare il dettaglio."})]})]})},Q=function(e){var t=e.height,a=e.width,o=e.data,n=e.keys,l=e.colors,c=e.selectedFrom,r=e.selectedTo,d=(e.property,e.title),m=e.ytitle,u=Object(s.useRef)(),j=Object(s.useRef)();Object(s.useEffect)((function(){$.h(j.current).selectAll("svg").remove(),v()}),[o,n,c,r]);var b=function(e){var t=$.h(e.node().parentNode),a=parseInt(e.style("width"),10),i=parseInt(e.style("height"),10),s=a/i;function o(){var a=parseInt(t.style("width"));e.attr("width",a),e.attr("height",Math.round(a/s))}e.attr("viewBox","0 0 ".concat(a," ").concat(i+10)).attr("preserveAspectRatio","xMinYMid").call(o),$.h(window).on("resize."+t.attr("id"),o)};var v=function(){var e=$.i().keys(n)(o.slice(c,r)),i=$.h(j.current).append("svg").style("margin-bottom",15).attr("width",a).attr("height",t),s=50,u=50,v=$.f().padding(.2),p=$.g().domain([0,$.e(o.slice(c,r),(function(e){return e.total}))]);p.range([t,0]),v.range([0,a]).domain(o.slice(c,r).map((function(e){return e.label}))),i.attr("width",a+2*u).attr("height",t+2*s).call(b).attr("id","svg-stack-bar"),i.append("text").attr("x",a/2+u).attr("y",s/2).attr("class","title").attr("text-anchor","middle").attr("transform","rotate(90)").attr(d),i.append("text").attr("x",-t/2-s).attr("y",u/2.4).attr("transform","rotate(-90)").attr("class","title").text(m);var h=i.append("g").attr("transform","translate(".concat(u,",").concat(s,")"));h.append("g").attr("class","axis").attr("transform","translate(0,".concat(t,")")).style("font-size",16).call($.a(v)).selectAll("text").attr("y",-5).attr("x",11).attr("transform","rotate(90)").style("text-anchor","start");var x=$.h("body").append("div").attr("class","d3-tooltip").style("position","absolute").style("z-index","10").style("display","none").style("padding","10px").style("background","rgba(0,0,0,0.8)").style("border-radius","4px").style("color","#fff"),f=h.selectAll().data(e);f.enter().append("g").attr("fill",(function(e){return l[e.key]})).attr("supply",(function(e){return e.key})).selectAll("rect").data((function(e){return e})).enter().append("rect").attr("x",(function(e){return v(e.data.label)})).attr("y",(function(e){return p(e[1])})).attr("height",(function(e){return p(e[0])-p(e[1])})).attr("width",v.bandwidth()).on("mouseover",(function(e,t){$.h(this).transition().attr("fill","#0BD9D3")})).on("mousemove",(function(e,t){x.style("top",e.pageY-10+"px").style("left",e.pageX+10+"px"),x.html('<div style="text-align: center"><b>'.concat($.h(this.parentNode).attr("supply"),"</b></div>\n            <div>").concat((t[1]-t[0]).toLocaleString("it")," su ").concat(t.data.total.toLocaleString("it"),'</div>\n            <div style="text-align: center; font-size: 12px">dal ').concat(t.data.labelfrom," al ").concat(t.data.labelto,"</div>")).style("display",null)})).on("mouseout",(function(e){x.html("").style("display","none"),$.h(this).transition().attr("fill",l[e.key])})),f.exit().remove()};return Object(i.jsx)("div",{ref:j,className:"chart svg-container",children:Object(i.jsx)("svg",{ref:u,className:"svg-content-responsive"})})},ee=a(27),te=function(e){var t=e.from,a=e.to,o=e.min,n=e.max,l=e.changeFrom,d=e.changeTo,m=Object(s.useState)([0,1]),u=Object(r.a)(m,2),j=u[0],b=u[1];return Object(s.useEffect)((function(){b([t,a])}),[t,a,o,n]),Object(i.jsx)("div",{className:"col-12",style:{display:"flex",justifyContent:"center",flexWrap:"wrap",backgroundColor:"rgb(15, 53, 89)"},children:Object(i.jsx)(ee.Range,{draggableTrack:!0,values:j,step:1,min:o,max:n,rtl:!1,onChange:function(e){e[0]!==e[1]&&(b(e),l(e[0]),d(e[1]))},renderTrack:function(e){var t=e.props,a=e.children;return Object(i.jsx)("div",{onMouseDown:t.onMouseDown,onTouchStart:t.onTouchStart,style:Object(c.a)(Object(c.a)({},t.style),{},{height:"36px",display:"flex",width:"100%",marginRight:10,marginLeft:10}),children:Object(i.jsx)("div",{ref:t.ref,style:{height:"5px",width:"100%",borderRadius:"4px",background:Object(ee.getTrackBackground)({values:j,colors:["#ccc","black","#ccc"],min:o,max:n,rtl:!1}),alignSelf:"center"},children:a})})},renderThumb:function(e){var t=e.props;e.isDragged;return Object(i.jsx)("div",Object(c.a)(Object(c.a)({},t),{},{style:Object(c.a)(Object(c.a)({},t.style),{},{height:"20px",width:"20px",borderRadius:"50%",backgroundColor:"#ccc",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0px 2px 6px #AAA"})}))}})})},ae=function(e){var t=e.data,a=Object(s.useState)([]),o=Object(r.a)(a,2),n=o[0],l=o[1],c=Object(s.useState)([]),d=Object(r.a)(c,2),m=d[0],u=d[1],j=Object(s.useState)([]),b=Object(r.a)(j,2),v=b[0],p=b[1],h=Object(s.useState)(0),x=Object(r.a)(h,2),O=x[0],g=x[1],y=Object(s.useState)(0),N=Object(r.a)(y,2),z=N[0],S=N[1];return Object(s.useEffect)((function(){Object(f.isEmpty)(t)||(l(t.suppliersColor),u(t.suppliers),p(t.suppliersWeek),S(t.suppliersWeek.length),t.suppliersWeek.length>=9&&g(t.suppliersWeek.length-9))}),[t]),Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-12 d-flex justify-content-center align-items-center section-title px-5 mx-2",children:Object(i.jsx)("h3",{children:"Andamento settimanale delle somministrazioni"})}),Object(i.jsxs)("div",{className:"row col-12 m-2 p-2 ",children:[Object(i.jsx)("div",{className:"col-12 col-md-6 align-items-end testo-info-campania d-none d-sm-none d-md-flex d-lg-flex"}),Object(i.jsx)("div",{className:"col-12 col-md-6  position-relative",children:Object(i.jsx)("div",{className:"bg-gradient-bar"})}),Object(i.jsx)("div",{className:"col-12 col-md-4",style:{backgroundColor:"#17324D"},children:Object(i.jsxs)("div",{className:"p-2 position-relative",children:[Object(i.jsx)("div",{className:"p-4",children:Object(i.jsx)("img",{src:"group_person.svg",alt:"Logo",className:"img-fluid"})}),Object(i.jsx)("div",{className:"mt-4 ml-3",children:m.map((function(e,t){return Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"circle",style:{backgroundColor:n[e]}}),Object(i.jsx)("span",{className:"legend",children:e})]},e)}))})]})}),Object(i.jsxs)("div",{className:"col-12 col-md-8 text-white",style:{backgroundColor:"#17324D"},children:[Object(i.jsx)("div",{className:"text-white text-center mt-3 ",children:"*Passa con il mouse sulle barre del grafico per visualizzare i dati della settimana"}),Object(i.jsx)(Q,{title:"",xtitle:"Somministrazione settimanale",ytitle:"",width:780,height:350,marginBottom:10,property:{xprop:"label",yprop:"total"},colors:n,keys:m,data:v,selectedFrom:O,selectedTo:z})]}),v.length>0&&Object(i.jsx)(te,{min:0,max:v.length,from:O,to:z,changeFrom:function(e){return g(e)},changeTo:function(e){return S(e)}})]}),Object(i.jsx)("div",{children:"*Fai scorrere i selettori per aumentare o diminuire le settimane da visualizzare"})]})},ie=function(e){var t=e.data,a=Object(s.useState)(""),o=Object(r.a)(a,2),n=o[0],l=o[1],c=Object(s.useState)(""),d=Object(r.a)(c,2),m=d[0],u=d[1],j=Object(s.useState)(""),b=Object(r.a)(j,2),v=b[0],p=b[1],h=Object(s.useState)(""),x=Object(r.a)(h,2),f=x[0],O=x[1],g=Object(s.useState)(""),y=Object(r.a)(g,2),N=y[0],z=y[1],S=Object(s.useState)(""),_=Object(r.a)(S,2),w=_[0],D=_[1],k=Object(s.useState)(""),C=Object(r.a)(k,2),B=C[0],P=C[1],M=Object(s.useState)(""),A=Object(r.a)(M,2),T=A[0],L=A[1],Y=Object(s.useState)(""),I=Object(r.a)(Y,2),V=I[0],G=I[1],R=Object(s.useState)(""),F=Object(r.a)(R,2),E=F[0],U=F[1],$=Object(s.useState)(""),J=Object(r.a)($,2),W=J[0],H=J[1],X=Object(s.useState)(""),Z=Object(r.a)(X,2),q=Z[0],K=Z[1],Q=Object(s.useState)(""),ee=Object(r.a)(Q,2),te=ee[0],ae=ee[1],ie=Object(s.useState)(""),se=Object(r.a)(ie,2),oe=se[0],ne=se[1],le=Object(s.useState)(""),ce=Object(r.a)(le,2),re=ce[0],de=ce[1],me=Object(s.useState)(""),ue=Object(r.a)(me,2),je=ue[0],be=ue[1],ve=Object(s.useState)(""),pe=Object(r.a)(ve,2),he=pe[0],xe=pe[1],fe=Object(s.useState)(""),Oe=Object(r.a)(fe,2),ge=Oe[0],ye=Oe[1],Ne=Object(s.useState)(""),ze=Object(r.a)(Ne,2),Se=ze[0],_e=ze[1],we=Object(s.useState)(""),De=Object(r.a)(we,2),ke=De[0],Ce=De[1],Be=Object(s.useState)(""),Pe=Object(r.a)(Be,2),Me=Pe[0],Ae=Pe[1],Te=Object(s.useState)(""),Le=Object(r.a)(Te,2),Ye=Le[0],Ie=Le[1],Ve=Object(s.useState)(""),Ge=Object(r.a)(Ve,2),Re=Ge[0],Fe=Ge[1],Ee=Object(s.useState)(""),Ue=Object(r.a)(Ee,2),$e=Ue[0],Je=Ue[1],We=Object(s.useState)(""),He=Object(r.a)(We,2),Xe=He[0],Ze=He[1],qe=Object(s.useState)(""),Ke=Object(r.a)(qe,2),Qe=Ke[0],et=Ke[1],tt=Object(s.useState)(""),at=Object(r.a)(tt,2),it=at[0],st=at[1],ot=Object(s.useState)(""),nt=Object(r.a)(ot,2),lt=nt[0],ct=nt[1],rt=Object(s.useState)(""),dt=Object(r.a)(rt,2),mt=dt[0],ut=dt[1],jt=Object(s.useState)(""),bt=Object(r.a)(jt,2),vt=bt[0],pt=bt[1];function ht(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?null===e||void 0===e?void 0:e.toLocaleString("it",{minimumFractionDigits:2,maximumFractionDigits:2}):null===e||void 0===e?void 0:e.toLocaleString("it")}return Object(s.useEffect)((function(){var e,a,i,s,o,n,c,r,d,m,j,b,v,h,x,f,g,y,N,S,_,w,k=(null===t||void 0===t||null===(e=t.totalDoses)||void 0===e?void 0:e.prima_dose)+(null===t||void 0===t||null===(a=t.totalDoses)||void 0===a?void 0:a.pregressa_infezione);isNaN(k)||(l(ht(k)),u(ht(k/(null===t||void 0===t?void 0:t.totalPlatea)*100,!0)),de(ht(k+(null===t||void 0===t?void 0:t.totalGuariti))),be(ht((k+(null===t||void 0===t?void 0:t.totalGuariti))/(null===t||void 0===t?void 0:t.totalPlatea)*100,!0)));var C=(null===t||void 0===t||null===(i=t.totalDoses)||void 0===i?void 0:i.seconda_dose)+(null===t||void 0===t||null===(s=t.totalDoses)||void 0===s?void 0:s.prima_dose_janssen)+(null===t||void 0===t||null===(o=t.totalDoses)||void 0===o?void 0:o.pregressa_infezione);isNaN(C)||(p(ht(C)),O(ht(C/(null===t||void 0===t?void 0:t.totalPlatea)*100,!0))),z(null===t||void 0===t||null===(n=t.totalDoses)||void 0===n?void 0:n.dose_addizionale_booster),D(ht((null===t||void 0===t||null===(c=t.totalDoses)||void 0===c?void 0:c.dose_addizionale_booster)/(null===t||void 0===t?void 0:t.totalPlateaDoseAddizionaleBooster)*100,!0)),P(ht(null===t||void 0===t||null===(r=t.totalDoses)||void 0===r?void 0:r.dose_immunocompromessi_fragili)),L(ht((null===t||void 0===t||null===(d=t.totalDoses)||void 0===d?void 0:d.dose_immunocompromessi_fragili)/(null===t||void 0===t?void 0:t.totalPlateaDoseImmunocompromessiFragili)*100,!0)),G(ht(null===t||void 0===t||null===(m=t.totalDoses)||void 0===m?void 0:m.dose_second_booster)),U(ht((null===t||void 0===t||null===(j=t.totalDoses)||void 0===j?void 0:j.dose_second_booster)/(null===t||void 0===t?void 0:t.totalPlateaDoseSecondBooster)*100,!0)),H(ht(null===t||void 0===t?void 0:t.totalGuariti)),K(ht((null===t||void 0===t?void 0:t.totalGuariti)/(null===t||void 0===t?void 0:t.totalPlatea)*100,!0)),ae(null===t||void 0===t?void 0:t.totalGuaritiDoppia),ne(ht((null===t||void 0===t?void 0:t.totalGuaritiDoppia)/(null===t||void 0===t?void 0:t.totalPlateaDoseAddizionaleBooster)*100,!0)),xe(ht((null===t||void 0===t?void 0:t.totalGuaritiDoppia)+(null===t||void 0===t||null===(b=t.totalDoses)||void 0===b?void 0:b.dose_addizionale_booster))),ye(ht(((null===t||void 0===t?void 0:t.totalGuaritiDoppia)+(null===t||void 0===t||null===(v=t.totalDoses)||void 0===v?void 0:v.dose_addizionale_booster))/(null===t||void 0===t?void 0:t.totalPlateaDoseAddizionaleBooster)*100,!0)),_e(ht(null===t||void 0===t?void 0:t.totalGuaritiBoosterNotBaby)),Ce(ht((null===t||void 0===t?void 0:t.totalGuaritiBoosterNotBaby)/(null===t||void 0===t?void 0:t.totalPlateaDoseSecondBooster)*100,!0)),Ae(ht((null===t||void 0===t||null===(h=t.totalDoses)||void 0===h?void 0:h.dose_second_booster)+(null===t||void 0===t?void 0:t.totalGuaritiBoosterNotBaby)+(null===t||void 0===t||null===(x=t.totalDoses)||void 0===x?void 0:x.dose_immunocompromessi_fragili))),Ie(ht(((null===t||void 0===t||null===(f=t.totalDoses)||void 0===f?void 0:f.dose_second_booster)+(null===t||void 0===t?void 0:t.totalGuaritiBoosterNotBaby)+(null===t||void 0===t||null===(g=t.totalDoses)||void 0===g?void 0:g.dose_immunocompromessi_fragili))/((null===t||void 0===t?void 0:t.totalPlateaDoseSecondBooster)+(null===t||void 0===t?void 0:t.totalPlateaDoseImmunocompromessiFragili))*100,!0));var B=(null===t||void 0===t||null===(y=t.totalDoses)||void 0===y?void 0:y.prima_dose_baby)+(null===t||void 0===t||null===(N=t.totalDoses)||void 0===N?void 0:N.pregressa_infezione_baby);isNaN(B)||(Fe(ht(B)),Je(ht(B/(null===t||void 0===t?void 0:t.totalPlateaBaby)*100,!0)));var M=(null===t||void 0===t||null===(S=t.totalDoses)||void 0===S?void 0:S.seconda_dose_baby)+(null===t||void 0===t||null===(_=t.totalDoses)||void 0===_?void 0:_.prima_dose_janssen_baby)+(null===t||void 0===t||null===(w=t.totalDoses)||void 0===w?void 0:w.pregressa_infezione_baby);isNaN(M)||(Ze(ht(M)),et(ht(M/(null===t||void 0===t?void 0:t.totalPlateaBaby)*100,!0))),st(ht(null===t||void 0===t?void 0:t.totalGuaritiBaby)),ct(ht((null===t||void 0===t?void 0:t.totalGuaritiBaby)/(null===t||void 0===t?void 0:t.totalPlateaBaby)*100,!0)),ut(ht(B+(null===t||void 0===t?void 0:t.totalGuaritiBaby))),pt(ht((B+(null===t||void 0===t?void 0:t.totalGuaritiBaby))/(null===t||void 0===t?void 0:t.totalPlateaBaby)*100,!0))}),[t]),Object(i.jsxs)("div",{className:"p-3 mb-5",children:[Object(i.jsx)("div",{className:"col-12 d-flex justify-content-center align-items-center p-3 section-title small",children:Object(i.jsx)("div",{className:"mb-2",children:Object(i.jsx)("h3",{className:"text-center",children:"Ciclo Vaccinale Primario"})})}),Object(i.jsxs)("div",{className:"row bg-box p-2 mb-4",children:[Object(i.jsx)("div",{className:"col-md-4 col-sm-12",children:Object(i.jsx)("div",{className:"box-card p-2",children:Object(i.jsx)("div",{className:"p-1",children:Object(i.jsxs)("div",{className:"align-items-center justify-content-center text-center mb-4",children:[Object(i.jsx)("h5",{className:"mt-2",children:"Con almeno una dose"}),Object(i.jsx)("div",{className:"box-numbers",children:n}),Object(i.jsxs)("div",{className:"box-text",children:[m," % della popolazione over 12"]}),Object(i.jsx)("div",{className:"box-label",children:"(persone con almeno una somministrazione)"})]})})})}),Object(i.jsx)("div",{className:"col-md-4 col-sm-12",children:Object(i.jsx)("div",{className:"box-card p-2",children:Object(i.jsx)("div",{className:"p-1",children:Object(i.jsxs)("div",{className:"align-items-center justify-content-center text-center mb-4",children:[Object(i.jsx)("h5",{className:"mt-2",children:"Ciclo vaccinale"}),Object(i.jsx)("div",{className:"box-numbers",children:v}),Object(i.jsxs)("div",{className:"box-text",children:[f," % della popolazione over 12"]}),Object(i.jsx)("div",{className:"box-label",children:"(persone che hanno completato il ciclo vaccinale)"})]})})})}),Object(i.jsx)("div",{className:"col-md-4 col-sm-12",children:Object(i.jsx)("div",{className:"box-card p-2",children:Object(i.jsx)("div",{className:"p-1",children:Object(i.jsxs)("div",{className:"align-items-center justify-content-center text-center mb-4",children:[Object(i.jsx)("h5",{className:"mt-2",children:"Guariti"}),Object(i.jsx)("div",{className:"box-numbers",children:W}),Object(i.jsxs)("div",{className:"box-text",children:[q," % della popolazione over 12"]}),Object(i.jsx)("div",{className:"box-label",children:"guarita da al massimo 6 mesi senza alcuna somministrazione"})]})})})}),Object(i.jsx)("div",{className:"col-md-12 col-sm-12",children:Object(i.jsx)("div",{className:"box-card p-2",children:Object(i.jsx)("div",{className:"p-1",children:Object(i.jsxs)("div",{className:"align-items-center justify-content-center text-center mb-4",children:[Object(i.jsx)("h5",{className:"mt-2",children:"Totale"}),Object(i.jsx)("div",{className:"box-numbers",children:re}),Object(i.jsxs)("div",{className:"box-text",children:[je," % della popolazione over 12"]})]})})})})]}),Object(i.jsx)("div",{className:"col-12 d-flex justify-content-center align-items-center p-3 section-title small",children:Object(i.jsx)("div",{className:"mb-2",children:Object(i.jsx)("h3",{className:"text-center",children:"Dose Addizionale/Booster"})})}),Object(i.jsxs)("div",{className:"row bg-box p-2 mb-4",children:[Object(i.jsx)("div",{className:"col-md-6 col-sm-12",children:Object(i.jsx)("div",{className:"box-card p-2",children:Object(i.jsx)("div",{className:"p-1",children:Object(i.jsxs)("div",{className:"align-items-center justify-content-center text-center",children:[Object(i.jsx)("h5",{className:"mt-2",children:"Dose addizionale/richiamo (booster)"}),Object(i.jsx)("div",{className:"box-numbers",children:null===N||void 0===N?void 0:N.toLocaleString("it")}),Object(i.jsxs)("div",{className:"box-text",children:[w," % della popolazione potenzialmente oggetto di",Object(i.jsx)("br",{}),"dose addizionale o booster che ha ultimato il ciclo vaccinale",Object(i.jsx)("br",{}),"da almeno 4 mesi"]})]})})})}),Object(i.jsx)("div",{className:"col-md-6 col-sm-12",children:Object(i.jsx)("div",{className:"box-card p-2",children:Object(i.jsx)("div",{className:"p-1",children:Object(i.jsxs)("div",{className:"align-items-center justify-content-center text-center",children:[Object(i.jsx)("h5",{className:"mt-2",children:"Guariti post 2\xaa dose/unica dose"}),Object(i.jsx)("div",{className:"box-numbers",children:null===te||void 0===te?void 0:te.toLocaleString("it")}),Object(i.jsxs)("div",{className:"box-text",children:[oe," % della popolazione potenzialmente oggetto di",Object(i.jsx)("br",{}),"dose addizionale o booster guarita post 2\xaa dose/unica dose",Object(i.jsx)("br",{}),"da al massimo 4 mesi"]})]})})})}),Object(i.jsx)("div",{className:"col-md-12 col-sm-12",children:Object(i.jsx)("div",{className:"box-card p-2",children:Object(i.jsx)("div",{className:"p-1",children:Object(i.jsxs)("div",{className:"align-items-center justify-content-center text-center mb-4",children:[Object(i.jsx)("h5",{className:"mt-2",children:"Totale"}),Object(i.jsx)("div",{className:"box-numbers",children:he}),Object(i.jsxs)("div",{className:"box-text",children:[ge," % della platea dose booster"]})]})})})})]}),Object(i.jsx)("div",{className:"col-12 d-flex justify-content-center align-items-center p-3 section-title small",children:Object(i.jsx)("div",{className:"mb-2",children:Object(i.jsx)("h3",{className:"text-center",children:"Seconda dose booster"})})}),Object(i.jsxs)("div",{className:"row bg-box p-2 mb-4",children:[Object(i.jsx)("div",{className:"col-md-4 col-sm-12",children:Object(i.jsx)("div",{className:"box-card p-2",children:Object(i.jsx)("div",{className:"p-1",children:Object(i.jsx)("div",{className:"text-white",children:Object(i.jsxs)("div",{className:"align-items-center justify-content-center text-center",children:[Object(i.jsx)("h5",{className:"mt-2",children:"Booster immunocompromessi/fragili"}),Object(i.jsx)("div",{className:"box-numbers",children:B}),Object(i.jsxs)("div",{className:"box-text",children:[T," % della popolazione immunocompromessa/fragile potenzialmente oggetto di dose booster/2\xaa booster che ha ultimato il ciclo vaccinale con richiamo",Object(i.jsx)("br",{}),"da almeno 4 mesi"]})]})})})})}),Object(i.jsx)("div",{className:"col-md-4 col-sm-12",children:Object(i.jsx)("div",{className:"box-card p-2",children:Object(i.jsx)("div",{className:"p-1",children:Object(i.jsxs)("div",{className:"align-items-center justify-content-center text-center",children:[Object(i.jsxs)("h5",{className:"mt-2",children:["2\xaa dose booster",Object(i.jsx)("br",{}),Object(i.jsx)("br",{})]}),Object(i.jsx)("div",{className:"box-numbers",children:null===V||void 0===V?void 0:V.toLocaleString("it")}),Object(i.jsxs)("div",{className:"box-text",children:[E," % della popolazione oggetto di seconda dose booster cha ha ricevuto la dose booster",Object(i.jsx)("br",{}),"da almeno 4 mesi"]})]})})})}),Object(i.jsx)("div",{className:"col-md-4 col-sm-12",children:Object(i.jsx)("div",{className:"box-card p-2",children:Object(i.jsx)("div",{className:"p-1",children:Object(i.jsxs)("div",{className:"align-items-center justify-content-center text-center",children:[Object(i.jsxs)("h5",{className:"mt-2",children:["Guariti post",Object(i.jsx)("br",{}),"1\xaa dose booster"]}),Object(i.jsx)("div",{className:"box-numbers",children:null===Se||void 0===Se?void 0:Se.toLocaleString("it")}),Object(i.jsxs)("div",{className:"box-text",children:[ke," % della popolazione potenzialmente oggetto di 2\xaa dose booster guarita post 1\xaa dose booster da",Object(i.jsx)("br",{}),"al massimo 6 mesi"]})]})})})}),Object(i.jsx)("div",{className:"col-md-12 col-sm-12",children:Object(i.jsx)("div",{className:"box-card",children:Object(i.jsx)("div",{className:"p-1",children:Object(i.jsxs)("div",{className:"align-items-center justify-content-center text-center mb-4",children:[Object(i.jsx)("h5",{className:"mt-2",children:"Totale"}),Object(i.jsx)("div",{className:"box-numbers",children:Me}),Object(i.jsxs)("div",{className:"box-text",children:[Ye," % della platea 2\xaa dose booster"]})]})})})})]}),Object(i.jsx)("div",{className:"col-12 d-flex justify-content-center align-items-center p-3 section-title small",children:Object(i.jsx)("div",{className:"mb-2",children:Object(i.jsx)("h3",{className:"text-center",children:"Somministrazione platea 5-11 anni"})})}),Object(i.jsxs)("div",{className:"row bg-box mb-4",children:[Object(i.jsx)("div",{className:"col-md-4 col-sm-12",children:Object(i.jsx)("div",{className:"box-card p-2",children:Object(i.jsx)("div",{className:"p-1",children:Object(i.jsxs)("div",{className:"align-items-center justify-content-center text-center mb-4",children:[Object(i.jsx)("h5",{className:"mt-2",children:"Con almeno una dose"}),Object(i.jsx)("div",{className:"box-numbers",children:Re}),Object(i.jsxs)("div",{className:"box-text",children:[$e," % della popolazione 5-11"]}),Object(i.jsx)("div",{className:"box-label",children:"(persone con almeno una somministrazione)"})]})})})}),Object(i.jsx)("div",{className:"col-md-4 col-sm-12",children:Object(i.jsx)("div",{className:"box-card p-2",children:Object(i.jsx)("div",{className:"p-1",children:Object(i.jsxs)("div",{className:"align-items-center justify-content-center text-center mb-4",children:[Object(i.jsx)("h5",{className:"mt-2",children:"Ciclo vaccinale"}),Object(i.jsx)("div",{className:"box-numbers",children:Xe}),Object(i.jsxs)("div",{className:"box-text",children:[Qe," % della popolazione 5-11"]}),Object(i.jsx)("div",{className:"box-label",children:"(persone che hanno completato il ciclo vaccinale)"})]})})})}),Object(i.jsx)("div",{className:"col-md-4 col-sm-12",children:Object(i.jsx)("div",{className:"box-card p-2",children:Object(i.jsx)("div",{className:"p-1",children:Object(i.jsxs)("div",{className:"align-items-center justify-content-center text-center mb-4",children:[Object(i.jsx)("h5",{className:"mt-2",children:"Guariti"}),Object(i.jsx)("div",{className:"box-numbers",children:it}),Object(i.jsxs)("div",{className:"box-text",children:[lt," % della popolazione 5-11"]}),Object(i.jsx)("div",{className:"box-label",children:"guarita da al massimo 6 mesi senza alcuna somministrazione"})]})})})}),Object(i.jsx)("div",{className:"col-md-12 col-sm-12",children:Object(i.jsx)("div",{className:"box-card",children:Object(i.jsx)("div",{className:"p-1",children:Object(i.jsxs)("div",{className:"align-items-center justify-content-center text-center mb-4",children:[Object(i.jsx)("h5",{className:"mt-2",children:"Totale"}),Object(i.jsx)("div",{className:"box-numbers",children:mt}),Object(i.jsxs)("div",{className:"box-text",children:[vt," % della popolazione 5-11"]})]})})})})]})]})},se=function(e){var t=+e.width,a=+e.height,o=Object(s.useRef)(),n=Object(s.useRef)();Object(s.useEffect)((function(){$.h(n.current).selectAll("svg").remove(),c()}),[e]);var l=function(e){var t=$.h(e.node().parentNode),a=parseInt(e.style("width"),10),i=parseInt(e.style("height"),10),s=a/i;function o(){var a=parseInt(t.style("width"));e.attr("width",a),e.attr("height",Math.round(a/s))}e.attr("viewBox","0 0 ".concat(a," ").concat(i)).attr("preserveAspectRatio","xMinYMid").call(o),$.h(window).on("resize."+t.attr("id"),o)};var c=function(){var i,s=(null===e||void 0===e?void 0:e.data)||[],o=(null===s||void 0===s?void 0:s.reduce((i=e.property.yprop,function(e,t){return(null===t||void 0===t?void 0:t[i])>e?null===t||void 0===t?void 0:t[i]:e}),0))||0,c=$.h(n.current).append("svg").attr("width",t).attr("height",a),r=50,d=20,m=$.f().padding(.5),u=$.g().domain([0,o]);u.range([a,0]),m.range([0,t]).domain(s.map((function(t){return t[e.property.xprop]}))),c.attr("width",t+2*d).attr("height",a+2*r).call(l).attr("id","svg-bar");var j=c.append("g").attr("transform","translate(".concat(d,",").concat(r,")"));j.append("g").attr("class","axis-dark").attr("transform","translate(0,".concat(a,")")).style("font-size",16).call($.a(m));var b=j.selectAll().data(s);b.enter().append("rect").on("click",(function(t,a){e.handleBarChartClick(a)})).attr("id",(function(e){return null===e||void 0===e?void 0:e.fornitore})).attr("opacity",(function(t){var a;return(null===(a=e.selected)||void 0===a?void 0:a.fornitore)===(null===t||void 0===t?void 0:t.fornitore)?1:e.selected?.1:1})).attr("class","bg-bar").attr("x",(function(t){return+m(t[e.property.xprop])})).attr("y",(function(t){return u(t[e.property.yprop])})).attr("height",(function(t){return a-u(t[e.property.yprop])})).attr("width",m.bandwidth()).append("title").attr("x",(function(t){return m(t[e.property.xprop])})).attr("y",(function(t){return u(t[e.property.yprop])})).text((function(t){return"Fornitore ".concat(t[e.property.xprop]," totale: ").concat(t[e.property.yprop])})),b.enter().append("text").attr("class","bartext-dark").attr("text-anchor","center").attr("fill","black").attr("x",(function(t){return m(t[e.property.xprop])-5})).attr("y",(function(t){return a-u(t[e.property.yprop])>=0?u(t[e.property.yprop])-10:u(t[e.property.yprop])})).text((function(t){var a;return null===(a=t[e.property.yprop])||void 0===a?void 0:a.toLocaleString("it")})),b.exit().remove()};return Object(i.jsx)("div",{ref:n,children:Object(i.jsx)("svg",{ref:o})})},oe=function(e){var t=Object(s.useState)(null),a=Object(r.a)(t,2),o=a[0],n=a[1],l=Object(s.useState)(null),c=Object(r.a)(l,2),d=c[0],m=c[1],u=Object(s.useState)([]),j=Object(r.a)(u,2),b=j[0],v=j[1],p=Object(s.useState)(0),h=Object(r.a)(p,2),x=h[0],O=h[1],g=function(){var t,a,i;v(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.allDosesSupplier),O(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.totalSuplier),m(null),n(null),O(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.totalSuplier)};Object(s.useEffect)((function(){if(!Object(f.isEmpty)(e)){var t,a,i=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.allDosesSupplier;i&&i.map((function(e){return e.fornitore.includes("Vaxzevria")&&(e.fornitore="Vaxzevria"),e})),v(i),O(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.totalSuplier)}}),[e]);var y=function(e){m(e)};return Object(i.jsxs)("div",{className:"row",children:[Object(i.jsxs)("div",{className:"col-12 col-md-12 mt-4",children:[Object(i.jsx)("div",{className:"col-12 d-flex justify-content-center align-items-center section-title mx-2",children:Object(i.jsx)("div",{className:"text-center",children:Object(i.jsx)("h3",{children:"Distribuzione vaccini per fornitore"})})}),Object(i.jsxs)("div",{className:"col-12 col-md-12 m-3",children:[Object(i.jsx)("div",{className:"d-lg-none bg-box box-mobile m-3",children:Object(i.jsxs)("div",{className:"text-white",children:[Object(i.jsx)("div",{className:"d-flex justify-content-center pt-5",children:Object(i.jsx)("h5",{children:"Totale vaccini distribuiti"})}),Object(i.jsx)("div",{className:"d-flex justify-content-center",children:Object(i.jsx)("p",{className:"box-numbers",children:null===x||void 0===x?void 0:x.toLocaleString("it")})}),Object(i.jsx)("div",{className:"col-12 d-flex justify-content-end pb-2",children:Object(i.jsx)("img",{alt:"reset-plot2",src:"reset_white.png",onClick:g,height:"36px"})})]})}),Object(i.jsx)("div",{className:"offset-md-8 col-md-4 d-none d-lg-block",children:Object(i.jsx)("div",{className:"bg-box box-card box-right",children:Object(i.jsxs)("div",{className:"text-white",children:[Object(i.jsx)("div",{className:"d-flex justify-content-start pt-3 pl-5",children:Object(i.jsx)("h5",{children:"Totale vaccini distribuiti"})}),Object(i.jsx)("div",{className:"d-flex justify-content-start pl-5",children:Object(i.jsx)("p",{className:"box-numbers",children:null===x||void 0===x?void 0:x.toLocaleString("it")})}),Object(i.jsx)("div",{className:"col-12 d-flex justify-content-end pb-2",children:Object(i.jsx)("img",{alt:"Reset",src:"reset_white.png",onClick:g,height:"36px"})})]})})})]})]}),Object(i.jsx)("div",{className:"col-12 col-md-7 w-100 h-100 pb-5",children:Object(i.jsx)(se,{width:"850",handleBarChartClick:function(e){d===e?g():o?(g(),function(e){if(document.getElementById(e)&&e){var t=new MouseEvent("click",{bubbles:!0,cancelable:!0});document.getElementById(e).dispatchEvent(t)}}(e.fornitore)):(y(e),m(e),O(null===e||void 0===e?void 0:e.totale))},height:"350",selected:d,property:{xprop:"fornitore",yprop:"totale"},data:b})})]})};a(183);G.a.DataTable=F.a;var ne=[{title:"Regione",data:"area"},{title:"Punto di somministrazione",data:"denominazione_struttura"},{title:"Tipologia",data:"tipologia"}],le=function(e){return Object(s.useEffect)((function(){var t,a=e.setLocationCount,i=G()("#datatable-locations").find("table").DataTable({dom:"<'row'<'col-sm-12 col-md-6'l><'col-sm-12 col-md-6'>><'row'<'col-sm-12'tr>><'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7'p>>",paging:!1,columnDefs:[{targets:[1,2],searchable:!1}],searching:!0,destroy:!0,bLengthChange:!1,info:!1,scrollY:"550px",scrollCollapse:!0,data:(null===(t=e.summary)||void 0===t?void 0:t.locations)||[],columns:ne});(null===e||void 0===e?void 0:e.selected)?i.search(e.selected).draw():i.search(" ").draw(),a(i.rows({search:"applied"}).count()/2)})),Object(i.jsx)("div",{id:"datatable-locations",children:Object(i.jsx)("table",{className:"display compact",cellSpacing:"0",width:"100%"})})},ce=function(e){var t=e.locationCount;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{className:"d-flex pl-5 pt-3",children:Object(i.jsx)("h5",{children:"Totale punti somministrazione"})}),Object(i.jsx)("div",{className:"d-flex pl-5",children:Object(i.jsx)("p",{className:"box-numbers",children:t})})]})},re=function(){return Object(i.jsx)("div",{className:"w-100 h-100 d-flex justify-content-start pr-5",children:Object(i.jsxs)("h5",{className:"pl-3 pl-sm-1",children:["Principali punti di",Object(i.jsx)("br",{})," somministrazione ",Object(i.jsx)("br",{})," per regione"]})})},de=function(e){var t=e.data,a=Object(s.useState)({}),o=Object(r.a)(a,2),n=o[0],l=o[1],d=Object(s.useState)(""),m=Object(r.a)(d,2),u=m[0],j=m[1],b=Object(s.useState)(0),v=Object(r.a)(b,2),p=v[0],h=v[1];Object(s.useEffect)((function(){Object(f.isEmpty)(t)||l(t)}),[t]);var x=function(){j(""),h(0)};return Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-12 d-flex justify-content-center align-items-center section-title mx-2",children:Object(i.jsxs)("div",{className:"text-center",children:[Object(i.jsx)("h3",{children:"Principali punti di somministrazione"}),Object(i.jsxs)("p",{children:["(Sono inclusi i punti di somministrazione ospedalieri e territoriali;",Object(i.jsx)("br",{}),"non sono inclusi i punti di somministrazione temporanei)"]})]})}),Object(i.jsxs)("div",{className:"col-12 col-md-12 m-3",children:[Object(i.jsxs)("div",{className:"d-lg-none bg-box box-mobile m-3",children:[Object(i.jsx)("div",{className:"text-white",children:Object(i.jsx)(ce,{locationCount:p})}),Object(i.jsx)("div",{className:"col-12 d-flex justify-content-end pb-2",children:Object(i.jsx)("img",{alt:"reset-plot",src:"reset_white.png",onClick:x,height:"36"})})]}),Object(i.jsx)("div",{className:"col-4 col-md-4 d-none d-lg-block",children:Object(i.jsx)("div",{className:"bg-box box-card box-left",children:Object(i.jsxs)("div",{className:"text-white",children:[Object(i.jsx)(ce,{locationCount:p}),Object(i.jsx)("div",{className:"col-12 d-flex justify-content-end pb-2",children:Object(i.jsx)("img",{alt:"reset-white",src:"reset_white.png",onClick:x,height:"36px"})})]})})})]}),Object(i.jsxs)("div",{className:"col-12 col-md-6",children:[Object(i.jsx)("div",{className:"p-2 d-lg-none text-center",children:"Principali Punti di Somministrazione per Regione"}),Object(i.jsx)("div",{className:"d-none d-lg-block map-legend",children:Object(i.jsx)(re,{})}),Object(i.jsx)("div",{className:"mt-5",children:Object(i.jsx)(W,{fillMapDeliveryArea:function(e){var t=e.region,a=e.maxValue,i=e.field,s=0;if(t.area===u)s=1;else if(u){var o=t[i]/(2*a);s=Object(f.max)([o,.1])}else s=Object(f.max)([t[i]/a,.1]);return"rgba(23,50,77,".concat(s,")")},summary:t.locationsByRegion,handleMapDeliveryClick:function(e){u===e.area?j(null):j(e.area)},tooltip:function(e){return e.area+": "+(e.locations&&e.locations.toLocaleString("it"))},fillBy:"locations",className:"ml-5 w-100 h-100"})})]}),Object(i.jsx)("div",{className:"col-12 col-md-6 pl-3",children:Object(i.jsx)(le,{summary:Object(c.a)({},n),selected:u,className:"mr-5 h-100",setLocationCount:h})})]})};var me=function(){var e=Object(s.useState)({}),t=Object(r.a)(e,2),a=t[0],o=t[1];return Object(s.useEffect)((function(){I().then((function(e){!function(){var e=document.getElementById("loader-custom");e&&(e.className=e.className.includes("d-none")?e.className:e.className+" d-none")}(),o(e)}))}),[]),Object(i.jsxs)("div",{children:[Object(i.jsx)(d,{}),Object(i.jsxs)("div",{className:"container",children:[Object(i.jsx)(b,{summary:Object(c.a)({},a)}),"          ",Object(i.jsx)(ie,{data:a}),"                  ",Object(i.jsx)(H,{data:a}),"               ",Object(i.jsx)(K,{data:a}),"                   ",Object(i.jsx)(ae,{data:a}),"                    ",Object(i.jsx)(Z,{data:a}),"                 ",Object(i.jsx)(oe,{data:a}),"                 ",Object(i.jsx)(de,{data:a}),"                "]}),Object(i.jsx)(m,{})]})},ue=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,185)).then((function(t){var a=t.getCLS,i=t.getFID,s=t.getFCP,o=t.getLCP,n=t.getTTFB;a(e),i(e),s(e),o(e),n(e)}))};l.a.render(Object(i.jsx)(o.a.StrictMode,{children:Object(i.jsx)(me,{})}),document.getElementById("root")),ue()},51:function(e,t,a){}},[[184,1,2]]]);
//# sourceMappingURL=main.5b1ada31.chunk.js.map