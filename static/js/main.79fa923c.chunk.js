(this["webpackJsonpcovid19-dashboard-vaccini"]=this["webpackJsonpcovid19-dashboard-vaccini"]||[]).push([[0],{175:function(e,t,a){},184:function(e,t,a){"use strict";a.r(t);var i=a(0),s=a(1),o=a.n(s),n=a(54),c=a.n(n),l=(a(175),a(7)),r=a(2),d=(a(176),a(51),a(177),a(178),a(179),function(){return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"row m-0 bg-tertiary",children:[Object(i.jsxs)("div",{className:"col-12 col-md-4 d-flex justify-content-md-center justify-content-sm-start logo-section pt-2 pb-2",children:[Object(i.jsx)("img",{src:"logo.svg",height:"4px",alt:"Logo",className:"logo pl-5 pr-2"}),Object(i.jsx)("p",{className:"pt-2",children:Object(i.jsx)("a",{href:"http://www.governo.it","aria-label":"Presidenza del Consiglio dei Ministri",className:"text-decoration-none",rel:"noreferrer",alt:"Presidenza del Consiglio dei Ministri",children:"Presidenza del Consiglio dei Ministri"})})]}),Object(i.jsxs)("div",{className:"col-12 col-md-4 d-flex justify-content-md-center justify-content-sm-start logo-section pr-sm-0 pt-2 pb-2",children:[Object(i.jsx)("img",{src:"logo.svg",height:"4px",alt:"Logo",className:"logo pl-5 pr-2"}),Object(i.jsx)("p",{className:"pt-2",children:Object(i.jsx)("a",{className:"text-decoration-none",href:"https://www.governo.it/it/dipartimenti/commissario-straordinario-lemergenza-covid-19/cscovid19-commissario/14419","aria-label":"Commissario Straordinario Covid-19",rel:"noreferrer",alt:"Commissario Straordinario Covid",children:"Commissario Straordinario Covid-19"})})]}),Object(i.jsxs)("div",{className:"col-12 col-md-4 d-flex justify-content-md-center justify-content-sm-start logo-section pt-2 pb-2 pr-sm-3",children:[Object(i.jsx)("img",{src:"logo.svg",height:"4px",alt:"Logo",className:"logo pl-5 pr-2"}),Object(i.jsx)("p",{className:"pt-2",children:Object(i.jsx)("a",{href:"http://www.salute.gov.it/portale/home.html",className:"text-decoration-none","aria-label":"Ministero della Salute",rel:"noreferrer",alt:"Ministero della Salute",children:"Ministero della Salute"})})]}),Object(i.jsx)("div",{className:"col-12 d-flex flex-column justify-content-center mainBanner",children:Object(i.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(i.jsx)("img",{src:"Coccarda.svg",alt:"Logo",height:"150px",className:"main-logo"}),Object(i.jsx)("h1",{className:"large-title pl-2 pt-4 d-lg-none d-md-none d-xs-block",children:"Report Vaccini Anti COVID-19"})," ",Object(i.jsx)("h1",{className:"large-title pl-2 pt-5 d-none d-md-block",children:"Report Vaccini Anti COVID-19"}),"  "]})})]})})}),m=function(){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{className:"row",children:Object(i.jsxs)("div",{className:"col-12 text-center pt-5 pb-3",children:["I dati visualizzati sono disponibili all'indirizzo"," ",Object(i.jsx)("a",{href:"https://github.com/italia/covid19-opendata-vaccini",alt:"Repository Dati Covid Governo Italiano",children:"https://github.com/italia/covid19-opendata-vaccini"})]})}),Object(i.jsxs)("div",{className:"row m-0 p-2 bg-footer",children:[Object(i.jsxs)("div",{className:"col-12 col-md-4 d-flex justify-content-md-center justify-content-sm-start logo-section pt-2 pb-2",children:[Object(i.jsx)("img",{src:"logo.svg",height:"4px",alt:"Logo",className:"logo pl-5 pr-2"}),Object(i.jsx)("p",{className:"pt-2",children:Object(i.jsx)("a",{href:"http://www.governo.it","aria-label":"Presidenza del Consiglio dei Ministri",className:"text-decoration-none",rel:"noreferrer",alt:"Presidenza del Consiglio dei Ministri",children:"Presidenza del Consiglio dei Ministri"})})]}),Object(i.jsxs)("div",{className:"col-12 col-md-4 d-flex justify-content-md-center justify-content-sm-start logo-section pr-sm-0 pt-2 pb-2",children:[Object(i.jsx)("img",{src:"logo.svg",height:"4px",alt:"Logo",className:"logo pl-5 pr-2"}),Object(i.jsx)("p",{className:"pt-2",children:Object(i.jsx)("a",{className:"text-decoration-none",href:"https://www.governo.it/it/dipartimenti/commissario-straordinario-lemergenza-covid-19/cscovid19-commissario/14419","aria-label":"Commissario Straordinario Covid-19",rel:"noreferrer",alt:"Commissario Straordinario Covid-19",children:"Commissario Straordinario Covid-19"})})]}),Object(i.jsxs)("div",{className:"col-12 col-md-4 d-flex justify-content-md-center justify-content-sm-start logo-section pt-2 pb-2 pr-sm-3",children:[Object(i.jsx)("img",{src:"logo.svg",height:"4px",alt:"Logo",className:"logo pl-5 pr-2"}),Object(i.jsx)("p",{className:"pt-2",children:Object(i.jsx)("a",{href:"http://www.salute.gov.it/portale/home.html",className:"text-decoration-none","aria-label":"Ministero della Salute",rel:"noreferrer",alt:"Ministero della Salute",children:"Ministero della Salute"})})]})]})]})},u=a(8),j=a.n(u),b=function(e){var t;return Object(i.jsxs)("div",{className:"h-100 w-100 my-3",children:[Object(i.jsx)("div",{className:"mx-auto",children:Object(i.jsxs)("h6",{className:"text-center pb-4",children:["Report aggiornato al: "," ",e.summary.timestamp&&j()(e.summary.timestamp).format("DD-MM-YYYY HH:mm")]})}),Object(i.jsxs)("div",{className:"d-flex flex-column justify-content-center",children:[Object(i.jsxs)("div",{className:"d-flex justify-content-center align-items-baseline",children:[Object(i.jsx)("img",{src:"meds.png",alt:"meds",className:"pl-2 pr-5"})," ",Object(i.jsx)("div",{className:"pl-2 mt-4 numbers",children:null===(t=e.summary.tot)||void 0===t?void 0:t.toLocaleString("it")})]}),Object(i.jsx)("span",{className:"border-divider mb-2"}),Object(i.jsxs)("div",{className:"d-flex justify-content-center mb-5",children:[" ",Object(i.jsx)("h3",{children:"Totale somministrazioni"})]})]})]})},v=a(9),f=a.n(v),p=a(18),h=a(5),x=(a(10),a(3)),g=a.n(x),O=function(e){return function(t,a){return t+ +(null===a||void 0===a?void 0:a[e])}},y=function(e){return function(t){return function(a){return a[e]===t}}},N=(y("area")("ITA"),y("TML_FASCIA_ETA"),function(e){return Object(l.a)(Object(l.a)({},e),{},{area:_[e.area],code:e.area})}),_={ABR:"Abruzzo",BAS:"Basilicata",CAL:"Calabria",CAM:"Campania",EMR:"Emilia-Romagna",FVG:"Friuli-Venezia Giulia",LAZ:"Lazio",LIG:"Liguria",LOM:"Lombardia",MAR:"Marche",MOL:"Molise",PAB:"P.A. Bolzano",PAT:"P.A. Trento",PIE:"Piemonte",PUG:"Puglia",SAR:"Sardegna",SIC:"Sicilia",TOS:"Toscana",UMB:"Umbria",VDA:"Valle d'Aosta",VEN:"Veneto"},w=(function(e){var t={};for(var a in e)t[e[a]]=a}(_),"https://raw.githubusercontent.com/italia/covid19-opendata-vaccini/master/dati"),z="".concat(w,"/somministrazioni-vaccini-summary-latest.json"),D="".concat(w,"/somministrazioni-vaccini-latest.json"),S="".concat(w,"/vaccini-summary-latest.json"),k="".concat(w,"/punti-somministrazione-tipologia.json"),C="".concat(w,"/anagrafica-vaccini-summary-latest.json"),L="".concat(w,"/last-update-dataset.json"),A="".concat(w,"/consegne-vaccini-latest.json"),T="".concat(w,"/platea.json"),P="".concat(w,"/platea-dose-addizionale-booster.json"),M="".concat(w,"/soggetti-guariti.json"),B=function(e){var t,a,i,s=e.dataSommVaxSummary.data.filter((function(e){return"ITA"!==e.area})).reduce(O("totale"),0),o=e.dataSupplierDoses.data,n=e.dataSommVaxDetail.data.map(N),c=e.dataVaxSummary.data.map(N),l=null===e||void 0===e||null===(t=e.dataSommVaxDetail)||void 0===t?void 0:t.data,r={prima_dose:g.a.sum(null===l||void 0===l?void 0:l.map((function(e){return"05-11"===(null===e||void 0===e?void 0:e.fascia_anagrafica)?0:null===e||void 0===e?void 0:e.prima_dose}))),prima_dose_baby:g.a.sum(null===l||void 0===l?void 0:l.map((function(e){return"05-11"===(null===e||void 0===e?void 0:e.fascia_anagrafica)?null===e||void 0===e?void 0:e.prima_dose:0}))),seconda_dose:g.a.sum(null===l||void 0===l?void 0:l.map((function(e){return"05-11"===(null===e||void 0===e?void 0:e.fascia_anagrafica)?0:null===e||void 0===e?void 0:e.seconda_dose}))),seconda_dose_baby:g.a.sum(null===l||void 0===l?void 0:l.map((function(e){return"05-11"===(null===e||void 0===e?void 0:e.fascia_anagrafica)?null===e||void 0===e?void 0:e.seconda_dose:0}))),pregressa_infezione:g.a.sum(null===l||void 0===l?void 0:l.map((function(e){return"05-11"===(null===e||void 0===e?void 0:e.fascia_anagrafica)?0:null===e||void 0===e?void 0:e.pregressa_infezione}))),pregressa_infezione_baby:g.a.sum(null===l||void 0===l?void 0:l.map((function(e){return"05-11"===(null===e||void 0===e?void 0:e.fascia_anagrafica)?null===e||void 0===e?void 0:e.pregressa_infezione:0}))),dose_addizionale_booster:g.a.sum(null===l||void 0===l?void 0:l.map((function(e){return"05-11"===(null===e||void 0===e?void 0:e.fascia_anagrafica)?0:null===e||void 0===e?void 0:e.dose_addizionale_booster}))),dose_addizionale_booster_baby:g.a.sum(null===l||void 0===l?void 0:l.map((function(e){return"05-11"===(null===e||void 0===e?void 0:e.fascia_anagrafica)?null===e||void 0===e?void 0:e.dose_addizionale_booster:0}))),prima_dose_janssen:g.a.sum(null===l||void 0===l?void 0:l.filter((function(e){return"Janssen"===e.fornitore&&"05-11"!==(null===e||void 0===e?void 0:e.fascia_anagrafica)})).map((function(e){return null===e||void 0===e?void 0:e.prima_dose}))),prima_dose_janssen_baby:g.a.sum(null===l||void 0===l?void 0:l.filter((function(e){return"Janssen"===e.fornitore&&"05-11"===(null===e||void 0===e?void 0:e.fascia_anagrafica)})).map((function(e){return null===e||void 0===e?void 0:e.prima_dose}))),vax_somministrati:null===(a=g.a.sum(null===o||void 0===o||null===(i=o.filter((function(e){var t;return"2020-12-27"!==(null===e||void 0===e||null===(t=e.data_consegna)||void 0===t?void 0:t.substr(0,10))})))||void 0===i?void 0:i.map((function(e){return null===e||void 0===e?void 0:e.numero_dosi}))))||void 0===a?void 0:a.toLocaleString("it")};r.pregressa_infezione||(r.pregressa_infezione=0),r.dose_addizionale_booster||(r.dose_addizionale_booster=0),r.pregressa_infezione_baby||(r.pregressa_infezione_baby=0),r.dose_addizionale_booster_baby||(r.dose_addizionale_booster_baby=0);var d,m=g.a.groupBy(o,"fornitore"),u=Object.keys(m).map((function(e){var t=m[e].map((function(e){return e.numero_dosi}));return{totale:g.a.sum(t),fornitore:e,allDoses:m[e]}})).sort((function(e,t){return e.totale<t.totale?1:-1})),b=g.a.sum(u.map((function(e){return null===e||void 0===e?void 0:e.totale}))),v=g.a.groupBy(o,"area"),f=Object.keys(v).map((function(e){var t=v[e].map((function(e){return e.numero_dosi})),a=g.a.sum(t);return{area:_[e],dosi_somministrate:a}})),p=g.a.groupBy(c,"code"),x=e.dataVaxLocations.data.map(N),y=0,w=g()(e.dataVaxLocations.data.map(N)).groupBy("area").map((function(e,t){return y=y>e.length?y:e.length,{area:t,locations:e.length}})).value(),z=g()(e.dataSommVaxDetail.data.map(N)).groupBy("code").map((function(e,t){var a,i=g.a.head(p[t]);return{code:t,area:null===(a=g.a.head(e))||void 0===a?void 0:a.area,byAge:g()(e).groupBy("fascia_anagrafica").map((function(t,a){var s,o=g.a.sumBy(t,(function(e){return e.sesso_maschile+e.sesso_femminile})),n=o/(i.dosi_consegnate||1);return{age:a,fascia_anagrafica:a,dosi_somministrate:o,dosi_consegnate:i.dosi_consegnate||0,percentuale_somministrazione:+(100*n).toFixed(1),area:null===(s=g.a.head(e))||void 0===s?void 0:s.area,totale:o}})).value(),sesso_femminile:g.a.sumBy(e,"sesso_femminile"),sesso_maschile:g.a.sumBy(e,"sesso_maschile"),dosi_consegnate:i.dosi_consegnate||0,dosi_somministrate:i.dosi_somministrate||0,percentuale_somministrazione:i.percentuale_somministrazione||0}})).value(),D=g()(e.dataSommVaxDetail.data.map(N)).groupBy((function(e){return e.fascia_anagrafica.toString().trim()})).map((function(e,t){var a=g()(e).groupBy("code").map((function(e,a){var i=g.a.sumBy(e,(function(e){return e.sesso_maschile+e.sesso_femminile})),s=i/(g.a.head(p[a]).dosi_consegnate||1);return{age:t,dosi_somministrate:i,sesso_maschile:g.a.sumBy(e,"sesso_maschile"),sesso_femminile:g.a.sumBy(e,"sesso_femminile"),code:a,dosi_consegnate:g.a.head(p[a]).dosi_consegnate||0,percentuale_somministrazione:+(100*s).toFixed(1),area:g.a.head(e).area}})).value();return{age:t,details:a}})).groupBy("age").value(),S={},k=[],C={},L={},A=Object(h.a)(e.dataSommVaxDetail.data);try{for(A.s();!(d=A.n()).done;){var T=d.value,P=T.fascia_anagrafica;"80-89"!==P&&"90+"!==P||(P="over 80"),"5-11"===P&&(P="05-11"),L.hasOwnProperty(P)||(L[P]={"Totale fascia":0,"1\xaa dose":0,"2\xaa dose/unica dose":0,"Dose addizionale/booster":0}),"Janssen"===T.fornitore?L[P]["2\xaa dose/unica dose"]+=T.prima_dose:(L[P]["1\xaa dose"]+=T.prima_dose,L[P]["2\xaa dose/unica dose"]+=T.seconda_dose),T.hasOwnProperty("pregressa_infezione")&&(L[P]["2\xaa dose/unica dose"]+=T.pregressa_infezione),T.hasOwnProperty("dose_addizionale_booster")&&(L[P]["Dose addizionale/booster"]+=T.dose_addizionale_booster),S.hasOwnProperty(T.area)?S[T.area].hasOwnProperty(P)||(S[T.area][P]={"Totale fascia":0,"1\xaa dose":0,"2\xaa dose/unica dose":0,"Dose addizionale/booster":0}):(S[T.area]={},S[T.area][P]={"Totale fascia":0,"1\xaa dose":0,"2\xaa dose/unica dose":0,"Dose addizionale/booster":0}),"Janssen"===T.fornitore?S[T.area][P]["2\xaa dose/unica dose"]+=T.prima_dose:(S[T.area][P]["1\xaa dose"]+=T.prima_dose,S[T.area][P]["2\xaa dose/unica dose"]+=T.seconda_dose),T.hasOwnProperty("pregressa_infezione")&&(S[T.area][P]["2\xaa dose/unica dose"]+=T.pregressa_infezione),T.hasOwnProperty("dose_addizionale_booster")&&(S[T.area][P]["Dose addizionale/booster"]+=T.dose_addizionale_booster)}}catch(Ut){A.e(Ut)}finally{A.f()}var M,B={},Y=Object(h.a)(Object.keys(L).sort().reverse());try{for(Y.s();!(M=Y.n()).done;){var R=M.value,I={label:"Fascia "+R};I["Dose addizionale/booster"]=L[R]["Dose addizionale/booster"],I["2\xaa dose/unica dose"]=L[R]["2\xaa dose/unica dose"]-L[R]["Dose addizionale/booster"],I["1\xaa dose"]=L[R]["1\xaa dose"]-L[R]["2\xaa dose/unica dose"],I["Totale platea"]=0;var E,F=Object(h.a)(e.dataPlatea.data);try{for(F.s();!(E=F.n()).done;){var V=E.value;(V.fascia_anagrafica===R||"over 80"===R&&"80+"===V.fascia_anagrafica||"05-11"===R&&"05-11"===V.fascia_anagrafica)&&(I["Totale platea"]+=parseInt(V.totale_popolazione))}}catch(Ut){F.e(Ut)}finally{F.f()}I["Totale fascia"]=I["Totale platea"]-I["1\xaa dose"]-I["2\xaa dose/unica dose"]-I["Dose addizionale/booster"],B[I.label]=I["1\xaa dose"]+I["2\xaa dose/unica dose"]+I["Dose addizionale/booster"],k.push(I)}}catch(Ut){Y.e(Ut)}finally{Y.f()}var G,$=0,J=0,W=Object(h.a)(e.dataGuariti.data);try{for(W.s();!(G=W.n()).done;){var U=G.value;"05-11"===U.fascia_anagrafica?J+=parseInt(U.totale_guariti):$+=parseInt(U.totale_guariti)}}catch(Ut){W.e(Ut)}finally{W.f()}var H,X=0,q=0,Z=Object(h.a)(e.dataPlatea.data);try{for(Z.s();!(H=Z.n()).done;){var K=H.value;"05-11"===K.fascia_anagrafica?q+=parseInt(K.totale_popolazione):X+=parseInt(K.totale_popolazione)}}catch(Ut){Z.e(Ut)}finally{Z.f()}var Q,ee={},te=Object(h.a)(e.dataSommVaxDetail.data);try{for(te.s();!(Q=te.n()).done;){var ae=Q.value;I={},ee.hasOwnProperty(ae.area)&&(I=ee[ae.area]);var ie=ae.seconda_dose;"Janssen"===ae.fornitore&&(ie=ae.prima_dose),ae.hasOwnProperty("pregressa_infezione")&&(ie+=ae.pregressa_infezione),ee.hasOwnProperty(ae.area)?I.somministrazioni+=ie:I={code:ae.area,area:_[ae.area],somministrazioni:ie};for(var se=0,oe=Object.keys(L);se<oe.length;se++){var ne=oe[se],ce="over 80"===ne?"fascia_over_80":"fascia_"+ne;I.hasOwnProperty(ce)?I[ce]+=ne===ae.fascia_anagrafica||"05-11"===ne&&"05-11"===ae.fascia_anagrafica||"over 80"===ne&&("90+"===ae.fascia_anagrafica||"80-89"===ae.fascia_anagrafica)?ie:0:I[ce]=ne===ae.fascia_anagrafica||"05-11"===ne&&"05-11"===ae.fascia_anagrafica||"over 80"===ne&&("90+"===ae.fascia_anagrafica||"80-89"===ae.fascia_anagrafica)?ie:0}ee[ae.area]=I}}catch(Ut){te.e(Ut)}finally{te.f()}for(var le=[],re=0,de=Object.keys(ee);re<de.length;re++){var me=de[re];le.push(ee[me])}var ue,je={},be=Object(h.a)(e.dataPlatea.data);try{for(be.s();!(ue=be.n()).done;){var ve=ue.value;je.hasOwnProperty(ve.area)||(je[ve.area]={popolazione:0});var fe="80+"===ve.fascia_anagrafica?"fascia_over_80":"05-11"===ve.fascia_anagrafica?"fascia_05-11":"fascia_"+ve.fascia_anagrafica,pe=parseInt(ve.totale_popolazione);je[ve.area][fe]={popolazione:0},je[ve.area][fe].popolazione=pe,je[ve.area].popolazione+=pe}}catch(Ut){be.e(Ut)}finally{be.f()}for(var he=[],xe=0,ge=Object.keys(ee);xe<ge.length;xe++){for(var Oe=ge[xe],ye=ee[Oe],Ne={},_e=0,we=Object.keys(ye);_e<we.length;_e++){var ze=we[_e];ze.includes("fascia")?Ne[ze]=ye[ze]/je[Oe][ze].popolazione*100:Ne[ze]=ye[ze]}Ne.somministrazioni=Ne.somministrazioni/je[Oe].popolazione*100,he.push(Ne)}for(var De=0,Se=Object.keys(S);De<Se.length;De++){var ke,Ce=Se[De],Le=[],Ae=Object(h.a)(Object.keys(S[Ce]).sort().reverse());try{for(Ae.s();!(ke=Ae.n()).done;){var Te=ke.value;(I={label:"Fascia "+Te})["Dose addizionale/booster"]=S[Ce][Te]["Dose addizionale/booster"],I["2\xaa dose/unica dose"]=S[Ce][Te]["2\xaa dose/unica dose"]-S[Ce][Te]["Dose addizionale/booster"],I["1\xaa dose"]=S[Ce][Te]["1\xaa dose"]-S[Ce][Te]["2\xaa dose/unica dose"],I["Totale platea"]=0;var Pe,Me=Object(h.a)(e.dataPlatea.data);try{for(Me.s();!(Pe=Me.n()).done;){var Be=Pe.value;Be.area===Ce&&(Be.fascia_anagrafica===Te||"05-11"===Be.fascia_anagrafica&&"05-11"===Te||"over 80"===Te&&"80+"===Be.fascia_anagrafica)&&(I["Totale platea"]+=parseInt(Be.totale_popolazione))}}catch(Ut){Me.e(Ut)}finally{Me.f()}I["Totale fascia"]=I["Totale platea"]-I["1\xaa dose"]-I["2\xaa dose/unica dose"]-I["Dose addizionale/booster"],Le.push(I)}}catch(Ut){Ae.e(Ut)}finally{Ae.f()}C[Ce]=Le}var Ye,Re={},Ie=Object(h.a)(e.dataGuariti.data);try{for(Ie.s();!(Ye=Ie.n()).done;){var Ee=Ye.value;I={},Re.hasOwnProperty(Ee.area)&&(I=Re[Ee.area]),Re.hasOwnProperty(Ee.area)?I.guariti+=Ee.totale_guariti:I={code:Ee.area,area:_[Ee.area],guariti:Ee.totale_guariti};for(var Fe=0,Ve=Object.keys(L);Fe<Ve.length;Fe++){var Ge=Ve[Fe],$e="over 80"===Ge?"fascia_over_80":"05-11"===Ge?"fascia_05-11":"fascia_"+Ge;I.hasOwnProperty($e)?I[$e]+=Ge===Ee.fascia_anagrafica||"05-11"===Ge&&"05-11"===Ee.fascia_anagrafica||"over 80"===Ge&&("80+"===Ee.fascia_anagrafica||"90+"===Ee.fascia_anagrafica||"80-89"===Ee.fascia_anagrafica)?Ee.totale_guariti:0:I[$e]=Ge===Ee.fascia_anagrafica||"05-11"===Ge&&"05-11"===Ee.fascia_anagrafica||"over 80"===Ge&&("80+"===Ee.fascia_anagrafica||"90+"===Ee.fascia_anagrafica||"80-89"===Ee.fascia_anagrafica)?Ee.totale_guariti:0}Re[Ee.area]=I}}catch(Ut){Ie.e(Ut)}finally{Ie.f()}for(var Je=[],We=0,Ue=Object.keys(Re);We<Ue.length;We++){for(var He=Re[Ue[We]],Xe={},qe=0,Ze=Object.keys(He);qe<Ze.length;qe++){var Ke=Ze[qe];Xe[Ke]=He[Ke]}Je.push(Xe)}for(var Qe=[],et=0,tt=Object.keys(Re);et<tt.length;et++){var at=tt[et];Qe.push(Re[at])}var it,st={},ot=[],nt=[],ct={},lt=Object(h.a)(e.dataGuariti.data);try{for(lt.s();!(it=lt.n()).done;){var rt=it.value,dt=rt.fascia_anagrafica;"80+"!==dt&&"80-89"!==dt&&"90+"!==dt||(dt="over 80"),"05-11"===dt&&(dt="05-11"),st.hasOwnProperty(dt)?st[dt]+=rt.totale_guariti:st[dt]=rt.totale_guariti,ct.hasOwnProperty(rt.area)?ct[rt.area].hasOwnProperty(dt)?ct[rt.area][dt]+=rt.totale_guariti:ct[rt.area][dt]=rt.totale_guariti:(ct[rt.area]={},ct[rt.area][dt]=rt.totale_guariti)}}catch(Ut){lt.e(Ut)}finally{lt.f()}var mt,ut=Object(h.a)(Object.keys(st).sort().reverse());try{for(ut.s();!(mt=ut.n()).done;){var jt=mt.value,bt={label:"Fascia "+jt};bt.guariti=st[jt],ot.push(bt)}}catch(Ut){ut.e(Ut)}finally{ut.f()}var vt,ft=Object(h.a)(Object.keys(ct).sort().reverse());try{for(ft.s();!(vt=ft.n()).done;){var pt,ht=vt.value,xt=Object(h.a)(Object.keys(ct[ht]).sort().reverse());try{for(xt.s();!(pt=xt.n()).done;){var gt=pt.value,Ot={label:"Fascia "+gt};Ot.guariti=ct[ht][gt],nt.hasOwnProperty(ht)?nt[ht].push(Ot):nt[ht]=[Ot]}}catch(Ut){xt.e(Ut)}finally{xt.f()}}}catch(Ut){ft.e(Ut)}finally{ft.f()}var yt,Nt=["#0f69c9","#4d99eb","#77b2f2","#b5d4f5","#d1e0f0","#edf2f7","#ffffff"],_t={},wt=[],zt=Object(h.a)(e.dataSommVaxDetail.data);try{for(zt.s();!(yt=zt.n()).done;){var Dt=yt.value;wt.includes(Dt.fornitore)||wt.push(Dt.fornitore)}}catch(Ut){zt.e(Ut)}finally{zt.f()}var St=wt.indexOf("Pfizer Pediatrico");-1!==St&&(wt.splice(St,1),wt.push("Pfizer Pediatrico"));for(var kt=0,Ct=wt;kt<Ct.length;kt++){var Lt=Ct[kt];Object.keys(_t).length-1<Nt.length?_t[Lt]=Nt[Object.keys(_t).length]:_t[Lt]="#ffffff"}for(var At={},Tt=0,Pt=[],Mt=new Date("2020-12-21");;){var Bt,Yt={label:j()(Mt).format("DD/MM"),from:j()(Mt).format("YYYY-MM-DD"),labelfrom:j()(Mt).format("DD/MM"),to:j()(new Date(Mt.getTime()+5184e5)).format("YYYY-MM-DD"),labelto:j()(new Date(Mt.getTime()+5184e5)).format("DD/MM"),total:0},Rt=Object(h.a)(wt);try{for(Rt.s();!(Bt=Rt.n()).done;){Yt[Bt.value]=0}}catch(Ut){Rt.e(Ut)}finally{Rt.f()}if(At[j()(Mt).format("YYYY-MM-DD")]=Tt,At[j()(new Date(Mt.getTime()+864e5)).format("YYYY-MM-DD")]=Tt,At[j()(new Date(Mt.getTime()+1728e5)).format("YYYY-MM-DD")]=Tt,At[j()(new Date(Mt.getTime()+2592e5)).format("YYYY-MM-DD")]=Tt,At[j()(new Date(Mt.getTime()+3456e5)).format("YYYY-MM-DD")]=Tt,At[j()(new Date(Mt.getTime()+432e6)).format("YYYY-MM-DD")]=Tt,At[j()(new Date(Mt.getTime()+5184e5)).format("YYYY-MM-DD")]=Tt,Tt++,Pt.push(Yt),(Mt=new Date(Mt.getTime()+6048e5))>new Date)break}var It,Et=Object(h.a)(e.dataSommVaxDetail.data);try{for(Et.s();!(It=Et.n()).done;){var Ft=It.value,Vt=Pt[At[j()(new Date(Ft.data_somministrazione)).format("YYYY-MM-DD")]];Vt.total+=Ft.prima_dose+Ft.seconda_dose+Ft.pregressa_infezione+Ft.dose_addizionale_booster,Vt[Ft.fornitore]+=Ft.prima_dose+Ft.seconda_dose+Ft.pregressa_infezione+Ft.dose_addizionale_booster}}catch(Ut){Et.e(Ut)}finally{Et.f()}var Gt,$t=0,Jt=Object(h.a)(e.dataPlateaDoseAddizionaleBooster.data);try{for(Jt.s();!(Gt=Jt.n()).done;){var Wt=Gt.value;$t+=parseInt(Wt.totale_popolazione)}}catch(Ut){Jt.e(Ut)}finally{Jt.f()}return{timestamp:e.dataLastUpdate.ultimo_aggiornamento,tot:s,deliverySummary:c,locations:x,dataSomeVaxDetail:n,locationsByRegion:w,maxNumberOfLocations:y,allDosesSupplier:u,doesesByArea:f,totalSuplier:b,totalDoses:r,totalDeliverySummaryByAge:D,totalDeliverySummary:z,suppliersColor:_t,suppliers:wt,suppliersWeek:Pt,dosesAges:["Dose addizionale/booster","2\xaa dose/unica dose","1\xaa dose","Totale fascia"],dosesAgesColor:{"Dose addizionale/booster":"#012675","2\xaa dose/unica dose":"#196ac6","1\xaa dose":"#519ae8","Totale fascia":"#b6d5f4"},dosesAgesData:k,dosesAgesRegionData:C,ageDosesTotal:B,secondDosesData:le,secondDosesPlateaData:he,totalPlatea:X,totalPlateaBaby:q,totalPlateaDoseAddizionaleBooster:$t,totalGuariti:$,totalGuaritiBaby:J,healedData:Qe,healedPlateaData:Je,haeledAgesData:ot,regionHaeledAgesData:nt}},Y=function(){var e=Object(p.a)(f.a.mark((function e(){var t,a,i,s,o,n,c,d,m,u,j,b,v,p,h,x,g,O,y,N,_,w,Y,R;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([fetch(z),fetch(D),fetch(S),fetch(C),fetch(k),fetch(L),fetch(A),fetch(T),fetch(P),fetch(M)]);case 2:return t=e.sent,a=Object(r.a)(t,10),i=a[0],s=a[1],o=a[2],n=a[3],c=a[4],d=a[5],m=a[6],u=a[7],j=a[8],b=a[9],e.next=16,Promise.all([i.json(),s.json(),o.json(),n.json(),c.json(),d.json(),m.json(),u.json(),j.json(),b.json()]);case 16:return v=e.sent,p=Object(r.a)(v,10),h=p[0],x=p[1],g=p[2],O=p[3],y=p[4],N=p[5],_=p[6],w=p[7],Y=p[8],R=p[9],e.abrupt("return",Object(l.a)({},B({dataSommVaxSummary:h,dataSommVaxDetail:x,dataVaxSummary:g,dataProfileSummary:O,dataLastUpdate:N,dataVaxLocations:y,dataSupplierDoses:_,dataPlatea:w,dataPlateaDoseAddizionaleBooster:Y,dataGuariti:R})));case 29:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=a(6),I=a.n(R),E=a(19),F=a.n(E);!function(){function e(e,t,a){var i=/(^-?[0-9]+(\.?[0-9]*)[df]?e?[0-9]?%?$|^0x[0-9a-f]+$|[0-9]+)/gi,s=/(^[ ]*|[ ]*$)/g,o=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,n=/^0x[0-9a-f]+$/i,c=/^0/,l=/(<([^>]+)>)/gi,r=e.toString().replace(s,"")||"",d=t.toString().replace(s,"")||"";a||(r=r.replace(l,""),d=d.replace(l,""));var m=r.replace(i,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),u=d.replace(i,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),j=parseInt(r.match(n),10)||1!==m.length&&r.match(o)&&Date.parse(r),b=parseInt(d.match(n),10)||j&&d.match(o)&&Date.parse(d)||null;if(b){if(j<b)return-1;if(j>b)return 1}for(var v=0,f=Math.max(m.length,u.length);v<f;v++){var p=!(m[v]||"").match(c)&&parseFloat(m[v],10)||m[v]||0,h=!(u[v]||"").match(c)&&parseFloat(u[v],10)||u[v]||0;if(isNaN(p)!==isNaN(h))return isNaN(p)?1:-1;if(typeof p!==typeof h&&(p+="",h+=""),p<h)return-1;if(p>h)return 1}return 0}R.extend(R.fn.dataTableExt.oSort,{"natural-asc":function(t,a){return e(t,a,!0)},"natural-desc":function(t,a){return-1*e(t,a,!0)},"natural-nohtml-asc":function(t,a){return e(t,a,!1)},"natural-nohtml-desc":function(t,a){return-1*e(t,a,!1)},"natural-ci-asc":function(t,a){return e(t=t.toString().toLowerCase(),a=a.toString().toLowerCase(),!0)},"natural-ci-desc":function(t,a){return-1*e(t=t.toString().toLowerCase(),a=a.toString().toLowerCase(),!0)}})}(),R.DataTable=F.a;var V=[{title:"Regioni",data:"area"},{title:"Dosi somministrate",data:"dosi_somministrate"},{title:"Dosi consegnate",data:"dosi_consegnate"},{title:"%",data:"percentuale_somministrazione"}],G=function(e){var t=e.deliveryTableData;return Object(s.useEffect)((function(){R("#datatable").find("tfoot"),R("#datatable").find("table").append("<tfoot><th></th><th></th><th></th><th></th></tfoot>")}),[]),Object(s.useEffect)((function(){R("#datatable").find("table").DataTable({dom:"<'row'<'col-12'l>><'row'<'col-12'tr>>",paging:!1,searching:!0,destroy:!0,data:t,columns:V,language:{decimal:",",thousands:"."},columnDefs:[{targets:0,width:"160px"},{type:"natural",targets:3},{targets:[1,2,3],render:function(e,t,a){return Number(e).toLocaleString("it")}}],footerCallback:function(e,t,a,i,s){var o=R("#datatable").find("table").DataTable(),n=function(e){return"string"===typeof e?1*e.replace(/[$,]/g,""):"number"===typeof e?e:0},c=o.column(2,{search:"applied"}).data().reduce((function(e,t){return n(e)+n(t)}),0),l=o.column(1,{search:"applied"}).data().reduce((function(e,t){return n(e)+n(t)}),0),r=c?l/c*100:0;R(o.column(3).footer()).html(r.toFixed(1)),R(o.column(2).footer()).html(c.toLocaleString("it")),R(o.column(1).footer()).html(l.toLocaleString("it")),R(o.column(0).footer()).html("Totale")}})}),[t]),Object(i.jsx)("div",{id:"datatable",children:Object(i.jsx)("table",{className:"table h-100 table-borderless compact table-hover deliveries-table",cellSpacing:"0",width:"100%",style:{paddingBottom:6}})})},$=a(4),J=a(57),W=function(e){var t=e.handleMapDeliveryClick,a=e.fillMapDeliveryArea,o=e.fillBy,n=e.summary,c=e.tooltip,l=e.percentage,d=Object(s.useState)([]),m=Object(r.a)(d,2),u=m[0],j=m[1],b=Object(s.useState)(0),v=Object(r.a)(b,2),h=v[0],x=v[1];Object(s.useEffect)((function(){if(l)x(100);else{var e=g.a.maxBy(n||{},o);x(e?e[o]:0)}}),[n,o,l]);var O=$.c().center([0,41]).rotate([347,0]).parallels([35,45]).scale(2200).translate([249,239]);return Object(s.useEffect)((function(){(function(){var e=Object(p.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("data/geo/it.json");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,j(J.a(a,a.objects.regions).features);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(i.jsx)("div",{className:"map-area",children:Object(i.jsx)("svg",{className:"h-100 w-100",height:478,children:Object(i.jsxs)("g",{className:"countries",children:[u.map((function(e,s){var l,r,d=e.properties.reg_name,m=g.a.filter(n,(function(e){return e.area===d})),u={};return m&&m.length>0&&(u=m[0]),Object(i.jsx)("path",{d:$.d().projection(O)(e),className:"country",id:"".concat(null===(l=u)||void 0===l||null===(r=l.area)||void 0===r?void 0:r.trim()),fill:a({region:u,maxValue:h,field:o}),stroke:"#FFFFFF",strokeWidth:.7,onClick:function(){return t(u)},children:Object(i.jsx)("title",{children:Object(i.jsx)("span",{className:"bg-info",children:c(u)})})},"path-".concat(s))})),");"]})})})},U=function(e){var t=e.data,a=Object(s.useState)([]),o=Object(r.a)(a,2),n=o[0],c=o[1],l=Object(s.useState)([]),d=Object(r.a)(l,2),m=d[0],u=d[1],j=Object(s.useState)(null),b=Object(r.a)(j,2),v=b[0],f=b[1],p=Object(s.useState)(0),h=Object(r.a)(p,2),g=h[0],O=h[1],y=Object(s.useState)(null),N=Object(r.a)(y,2),_=N[0],w=N[1];Object(s.useEffect)((function(){Object(x.isEmpty)(t)||(c(t.totalDeliverySummary),u(t.totalDeliverySummary),O(t.tot))}),[t]);var z=function(){f(null),u(t.totalDeliverySummary),O(t.tot),w(null),c(t.totalDeliverySummary)};return Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:"row",children:Object(i.jsx)("div",{className:"col-12 d-flex justify-content-end"})}),Object(i.jsxs)("div",{className:"row p-2 p-3 bg-grey",children:[Object(i.jsx)("div",{className:"col-12 col-lg-6 h-100 order-md-2 order-lg-1 p-1 pb-5",children:Object(i.jsx)(G,{deliveryTableData:m,className:"mr-5 h-100"})}),Object(i.jsxs)("div",{className:"col-12 col-lg-6 order-md-1 order-lg-2 text-center",children:[Object(i.jsx)("div",{className:"p-4 position-relative d-lg-none",children:Object(i.jsx)("div",{className:"d-flex justify-content-start pr-5",children:Object(i.jsx)("h5",{className:"pl-4 pl-sm-1 justify-content-center",children:"Distribuzione somministrazioni rispetto alle consegne"})})}),Object(i.jsx)("div",{className:"p-4 d-none d-lg-block map-legend mt-5",children:Object(i.jsx)("div",{className:"d-flex justify-content-end",children:Object(i.jsxs)("h5",{className:"pl-1 pl-sm-1 text-left",children:["Distribuzione",Object(i.jsx)("br",{}),"somministrazioni ",Object(i.jsx)("br",{}),"rispetto alle consegne"]})})}),Object(i.jsx)("div",{className:"justify-content-center mt-5",children:Object(i.jsx)(W,{fillMapDeliveryArea:function(e){var t=e.region,a=e.maxValue,i=e.field,s=0;if(t.code===v)s=1;else if(v){var o=t[i]/(2*a);s=Object(x.max)([o,.1])}else s=Object(x.max)([t[i]/a,.1]);return"rgba(0,102,204,".concat(s,") ")},summary:n,handleMapDeliveryClick:function(e){if(_&&z(),v===e.code)z();else{var a=Object(x.find)(t.totalDeliverySummary,(function(t){return t.code===e.code}));u([a]),f(e.code),O(a.dosi_somministrate)}},tooltip:function(e){return e.area+" "+(e.percentuale_somministrazione&&e.percentuale_somministrazione.toLocaleString("it"))+"%"},fillBy:"percentuale_somministrazione"})}),Object(i.jsx)("div",{className:"p-4 position-relative",children:Object(i.jsxs)("div",{className:"text-black",children:[Object(i.jsx)("div",{className:"d-flex justify-content-center ",children:Object(i.jsx)("span",{className:"numbers",children:null===g||void 0===g?void 0:g.toLocaleString("it")})}),Object(i.jsx)("div",{className:"d-flex justify-content-center",children:Object(i.jsx)("h5",{children:"Totale somministrazioni"})})]})})]})]})]})},H=function(e){var t=e.handleRectClick,a=e.height,o=e.width,n=e.data,c=e.keys,l=e.colors,r=e.selectedCodeAge,d=e.regionSelected,m=Object(s.useRef)(),u=Object(s.useRef)();Object(s.useEffect)((function(){$.h(u.current).selectAll("svg").remove(),b()}),[n,c,r]);var j=function(e){var t=$.h(e.node().parentNode),a=parseInt(e.style("width"),10),i=parseInt(e.style("height"),10),s=a/i;function o(){var a=parseInt(t.style("width"));e.attr("width",a),e.attr("height",Math.round(a/s))}e.attr("viewBox","0 0 ".concat(a," ").concat(i)).attr("preserveAspectRatio","xMinYMid").call(o),$.h(window).on("resize."+t.attr("id"),o)};var b=function(){var e=$.i().keys(c)(n),i=$.h(u.current).append("svg").style("margin-bottom",10).attr("width",o).attr("height",a),s=30,m=60,b=$.g().domain([0,$.e(n,(function(e){return e["Totale platea"]}))]),v=$.f().padding(.2);b.range([0,o]),v.range([0,a]).domain(n.map((function(e){return e.label}))),i.attr("width",o+2*m).attr("height",a+2*s).call(j).attr("id","svg-stack-bar");var f=i.append("g").attr("transform","translate(".concat(m,",").concat(s,")"));f.append("g").attr("class","axis").attr("transform","translate(0, 0)").style("font-size","12px").call($.b(v)).attr("stroke-width",0).selectAll("text").attr("y",0).attr("x",-30).style("text-anchor","start").style("fill","#19191a");var p=$.h("body").append("div").attr("class","d3-tooltip").style("position","absolute").style("z-index","10").style("display","none").style("padding","10px").style("background","rgba(0,0,0,0.8)").style("border-radius","4px").style("color","#fff"),h=f.selectAll().data(e);h.enter().append("g").attr("fill",(function(e){return l[e.key]})).attr("dose",(function(e){return e.key})).selectAll("rect").data((function(e){return e})).enter().append("rect").on("click",(function(e,a){t(a),p.html("").style("display","none")})).attr("opacity",(function(e){var t=e.data.label.toLowerCase().replaceAll(" ","_");return r===t?1:r?.3:1})).attr("x",(function(e){return b(e[0])+60})).attr("y",(function(e){return v(e.data.label)})).attr("width",(function(e){return b(e[1])-b(e[0])})).attr("height",v.bandwidth()).on("mouseover",(function(e,t){$.h(this).transition().attr("fill","#0BD9D3")})).on("mousemove",(function(e,t){var a=d?" "+d:"";if("Totale fascia"===$.h(this.parentNode).attr("dose"))p.style("top",e.pageY-10+"px").style("left",e.pageX+10+"px"),p.html('<div style="text-align: center; line-height: 1.15rem;">\n                <div style="font-size: 12px;">'.concat(a,"</div>\n                <div><b>").concat(t.data.label,'</b></div>\n                <div style="font-size: 14px;">Platea</div>\n                <div>').concat(t.data["Totale platea"].toLocaleString("it"),"</div>\n                </div>")).style("display",null);else{var i=0;if("1\xaa dose"===$.h(this.parentNode).attr("dose"))i=(t.data["1\xaa dose"]+t.data["2\xaa dose/unica dose"]+t.data["Dose addizionale/booster"])/t.data["Totale platea"]*100;else if("2\xaa dose/unica dose"===$.h(this.parentNode).attr("dose"))i=(t.data["2\xaa dose/unica dose"]+t.data["Dose addizionale/booster"])/t.data["Totale platea"]*100;else i=t.data["Dose addizionale/booster"]/t.data["Totale platea"]*100;p.style("top",e.pageY-10+"px").style("left",e.pageX+10+"px"),p.html('<div style="text-align: center; line-height: 1.15rem;">\n                <div style="font-size: 12px;">'.concat(a," ").concat(t.data.label,'</div>\n                <div style="text-align: center"><b>').concat($.h(this.parentNode).attr("dose"),' </b></div>\n                <div style="font-size: 14px;"><b>(').concat(i.toFixed(2).toLocaleString("it"),' %)</b></div>\n                <div style="font-size: 14px;">Somministrate ').concat(t[1].toLocaleString("it")," su ").concat(t.data["Totale platea"].toLocaleString("it"),"</div>")).style("display",null)}})).on("mouseout",(function(e){p.html("").style("display","none"),$.h(this).transition().attr("fill",l[e.key])})),h.exit().remove()};return Object(i.jsx)("div",{ref:u,className:"chart svg-container",children:Object(i.jsx)("svg",{ref:m,className:"svg-content-responsive"})})},X=function(e){var t=e.data,a=Object(s.useState)([]),o=Object(r.a)(a,2),n=o[0],c=o[1],l=Object(s.useState)([]),d=Object(r.a)(l,2),m=d[0],u=d[1],j=Object(s.useState)([]),b=Object(r.a)(j,2),v=b[0],f=b[1],p=Object(s.useState)([]),g=Object(r.a)(p,2),O=g[0],y=g[1],N=Object(s.useState)([]),_=Object(r.a)(N,2),w=_[0],z=_[1],D=Object(s.useState)("somministrazioni"),S=Object(r.a)(D,2),k=S[0],C=S[1],L=Object(s.useState)(null),A=Object(r.a)(L,2),T=A[0],P=A[1],M=Object(s.useState)(null),B=Object(r.a)(M,2),Y=B[0],R=B[1],I=Object(s.useState)(null),E=Object(r.a)(I,2),F=E[0],V=E[1],G=Object(s.useState)(0),$=Object(r.a)(G,2),J=$[0],U=$[1];Object(s.useEffect)((function(){Object(x.isEmpty)(t)||(c(t.dosesAgesColor),u(t.dosesAges),f(t.dosesAgesData),U(t.tot),y(t.secondDosesPlateaData),z(t.secondDosesData))}),[t]);var X=function(){V(null),P(null),R(null),U(t.tot),f(t.dosesAgesData),C("somministrazioni"),y(t.secondDosesPlateaData)};return Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-12 d-flex justify-content-center align-items-center section-title mx-2",children:Object(i.jsx)("div",{children:Object(i.jsx)("h3",{children:"Somministrazioni per fascia d'et\xe0 - dose"})})}),Object(i.jsxs)("div",{className:"col-12 col-md-12 m-3",children:[Object(i.jsxs)("div",{className:"d-lg-none bg-box box-mobile m-3",children:[Object(i.jsx)("img",{src:"Coccarda.svg",width:"100",height:"100",alt:"Logo",className:"d-flex text-center box-logo-left"}),Object(i.jsxs)("div",{className:"text-white",children:[Object(i.jsx)("div",{className:"d-flex justify-content-center pt-5",children:Object(i.jsx)("h5",{children:"Totale somministrazioni"})}),Object(i.jsx)("div",{className:"d-flex justify-content-center",children:Object(i.jsx)("p",{className:"box-numbers",children:J&&J.toLocaleString("it")})}),Object(i.jsx)("div",{className:"col-12 d-flex justify-content-end pb-2",children:Object(i.jsx)("img",{alt:"reset-plot2",src:"reset_white.png",onClick:X,height:"36px"})})]})]}),Object(i.jsx)("div",{className:"col-4 col-md-4 d-none d-lg-block",children:Object(i.jsxs)("div",{className:"bg-box box-card box-left",children:[Object(i.jsx)("img",{src:"Coccarda.svg",width:"100",height:"100",alt:"Logo",className:"d-none d-md-block d-lg-block box-logo-left"}),Object(i.jsxs)("div",{className:"text-white",children:[Object(i.jsx)("div",{className:"d-flex justify-content-start pt-3 pl-5",children:Object(i.jsx)("h5",{children:"Totale somministrazioni"})}),Object(i.jsx)("div",{className:"d-flex justify-content-start pl-5",children:Object(i.jsx)("p",{className:"box-numbers",children:J&&J.toLocaleString("it")})}),Object(i.jsx)("div",{className:"col-12 d-flex justify-content-end pb-2",children:Object(i.jsx)("img",{alt:"Reset",src:"reset_white.png",onClick:X,height:"36px"})})]})]})})]}),Object(i.jsxs)("div",{className:"col-12 col-md-6",children:[Object(i.jsx)(H,{width:350,height:300,property:{xprop:"label",yprop:"total"},handleRectClick:function(e){T&&X();var a=e.data.label.toLowerCase().replaceAll(" ","_");F===a?X():(V(a),C(a),U(t.ageDosesTotal[e.data.label]))},regionSelected:Y,selectedCodeAge:F,colors:n,keys:m,data:v}),Object(i.jsx)("div",{className:"row mb-4 ml-4",children:m.map((function(e){return Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"circle",style:{backgroundColor:n[e]}}),Object(i.jsx)("div",{className:"legend-dark mr-4",children:e})]},e)}))}),Object(i.jsx)("p",{className:"d-block d-sm-none text-center",children:"*Tieni premuto sulle barre del grafico per visualizzare i dati sulle dosi somministrate"}),Object(i.jsx)("p",{className:"d-none d-sm-block text-center",children:"*Passa con il mouse sulle barre del grafico per visualizzare i dati sulle dosi somministrate"})]}),Object(i.jsxs)("div",{className:"col-12 col-md-6",children:[Object(i.jsx)("div",{className:"p-4 d-lg-none",children:Object(i.jsx)("div",{className:"text-center",children:Object(i.jsx)("h5",{children:"Percentuale vaccinati per regione"})})}),Object(i.jsx)(W,{fillMapDeliveryArea:function(e){var t=e.region,a=e.maxValue,i=e.field,s=0;if(t.code===T)s=1;else if(T){var o=t[i]/(2*a);s=Object(x.max)([o,.1])}else s=Object(x.max)([t[i]/a,.1]);return"rgba(0,102,204,".concat(s,") ")},summary:O,handleMapDeliveryClick:function(e){if(F&&X(),T===e.code)X();else{P(e.code),R(e.area),f(t.dosesAgesRegionData[e.code]);var a,i=Object(h.a)(null===t||void 0===t?void 0:t.totalDeliverySummary);try{for(i.s();!(a=i.n()).done;){var s=a.value;s.code===e.code&&U(s.dosi_somministrate)}}catch(o){i.e(o)}finally{i.f()}}},fillBy:k,percentage:!0,tooltip:function(e){var t,a=null,i=Object(h.a)(w);try{for(i.s();!(t=i.n()).done;){var s=t.value;s.code===e.code&&(a=s)}}catch(o){i.e(o)}finally{i.f()}return e.area+" "+(e[k]&&e[k].toFixed(2).toLocaleString("it")+"%")+" "+(a&&a[k]&&"("+a[k].toLocaleString("it")+")")},className:"ml-5"}),Object(i.jsx)("div",{className:"p-4 d-none d-lg-block map-legend",children:Object(i.jsx)("div",{className:"d-flex justify-content-start pr-5",children:Object(i.jsxs)("h5",{className:"pl-3 pl-sm-1",children:["Percentuale vaccinati",Object(i.jsx)("br",{})," per regione"]})})})]})]})},q=function(e){var t=e.handleRectClick,a=e.height,o=e.width,n=e.data,c=e.selectedCodeAge,l=e.regionSelected,r=Object(s.useRef)(),d=Object(s.useRef)();Object(s.useEffect)((function(){$.h(d.current).selectAll("svg").remove(),u()}),[n,c]);var m=function(e){var t=$.h(e.node().parentNode),a=parseInt(e.style("width"),10),i=parseInt(e.style("height"),10),s=a/i;function o(){var a=parseInt(t.style("width"));e.attr("width",a),e.attr("height",Math.round(a/s))}e.attr("viewBox","0 0 ".concat(a," ").concat(i)).attr("preserveAspectRatio","xMinYMid").call(o),$.h(window).on("resize."+t.attr("id"),o)};var u=function(){var e=$.h(d.current).append("svg").style("margin-bottom",10).attr("width",o).attr("height",a),i=30,s=60,r=$.g().domain([0,$.e(n,(function(e){return e.guariti}))]),u=$.f().padding(.2);r.range([0,o]),u.range([0,a]).domain(n.map((function(e){return e.label}))),e.attr("width",o+2*s).attr("height",a+2*i).call(m).attr("id","svg-stack-bar");var j=e.append("g").attr("transform","translate(".concat(s,",").concat(i,")"));j.append("g").attr("class","axis").attr("transform","translate(0, 0)").style("font-size","12px").call($.b(u)).attr("stroke-width",0).selectAll("text").attr("y",0).attr("x",-30).style("text-anchor","start").style("fill","#19191a");var b=$.h("body").append("div").attr("class","d3-tooltip").style("position","absolute").style("z-index","10").style("display","none").style("padding","10px").style("background","rgba(0,0,0,0.8)").style("border-radius","4px").style("color","#fff"),v=j.selectAll().data(n);v.enter().append("g").attr("fill","#77b2f2").selectAll("rect").data(n).enter().append("rect").on("click",(function(e,a){t(a),b.html("").style("display","none")})).attr("opacity",(function(e){var t=e.label.toLowerCase().replaceAll(" ","_");return c===t?1:c?.1:1})).attr("x",(function(e){return 60})).attr("y",(function(e){return u(e.label)})).attr("width",(function(e){return r(e.guariti)})).attr("height",u.bandwidth()).on("mousemove",(function(e,t){var a=l?" "+l:"";b.style("top",e.pageY-10+"px").style("left",e.pageX+10+"px"),b.html('<div style="text-align: center; line-height: 1.15rem;">\n              <div style="font-size: 12px;">'.concat(a," ").concat(t.label,'</div>\n              <div style="font-size: 14px;"><b>').concat(t.guariti.toLocaleString("it"),"</b></div>")).style("display",null)})).on("mouseout",(function(e){b.html("").style("display","none")})),v.exit().remove()};return Object(i.jsx)("div",{ref:d,className:"chart svg-container",children:Object(i.jsx)("svg",{ref:r,className:"svg-content-responsive"})})},Z=function(e){var t=e.data,a=Object(s.useState)([]),o=Object(r.a)(a,2),n=o[0],c=o[1],l=Object(s.useState)("guariti"),d=Object(r.a)(l,2),m=d[0],u=d[1],j=Object(s.useState)(0),b=Object(r.a)(j,2),v=b[0],f=b[1],p=Object(s.useState)([]),g=Object(r.a)(p,2),O=g[0],y=g[1],N=Object(s.useState)([]),_=Object(r.a)(N,2),w=_[0],z=_[1],D=Object(s.useState)(null),S=Object(r.a)(D,2),k=S[0],C=S[1],L=Object(s.useState)(null),A=Object(r.a)(L,2),T=A[0],P=A[1];Object(s.useEffect)((function(){Object(x.isEmpty)(t)||(z(t.haeledAgesData),y(t.healedData),f(t.totalGuariti+t.totalGuaritiBaby),c(t.healedPlateaData))}),[t]);var M=function(){C(null),P(null),z(t.haeledAgesData),u("guariti"),f(t.totalGuariti+t.totalGuaritiBaby),c(t.healedPlateaData)};return Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-12 d-flex justify-content-center align-items-center section-title mx-2",children:Object(i.jsxs)("div",{className:"text-center",children:[Object(i.jsx)("h3",{class:"mb-0",children:"Platea guariti da al massimo sei mesi"}),Object(i.jsx)("h3",{class:"mt-0",children:"senza alcuna somministrazione"})]})}),Object(i.jsxs)("div",{className:"col-12 col-md-12 m-3",children:[Object(i.jsxs)("div",{className:"d-lg-none bg-box box-mobile m-3",children:[Object(i.jsx)("img",{src:"Coccarda.svg",width:"100",height:"100",alt:"Logo",className:"d-flex text-center box-logo-left"}),Object(i.jsxs)("div",{className:"text-white",children:[Object(i.jsx)("div",{className:"d-flex justify-content-center pt-5",children:Object(i.jsx)("h5",{children:"Totale guariti"})}),Object(i.jsx)("div",{className:"d-flex justify-content-center",children:Object(i.jsx)("p",{className:"box-numbers",children:v&&v.toLocaleString("it")})}),Object(i.jsx)("div",{className:"col-12 d-flex justify-content-end pb-2",children:Object(i.jsx)("img",{alt:"reset-plot2",src:"reset_white.png",onClick:M,height:"36px"})})]})]}),Object(i.jsx)("div",{className:"col-4 col-md-4 d-none d-lg-block",children:Object(i.jsxs)("div",{className:"bg-box box-card box-left",children:[Object(i.jsx)("img",{src:"Coccarda.svg",width:"100",height:"100",alt:"Logo",className:"d-none d-md-block d-lg-block box-logo-left"}),Object(i.jsxs)("div",{className:"text-white",children:[Object(i.jsx)("div",{className:"d-flex justify-content-start pt-3 pl-5",children:Object(i.jsx)("h5",{children:"Totale guariti"})}),Object(i.jsx)("div",{className:"d-flex justify-content-start pl-5",children:Object(i.jsx)("p",{className:"box-numbers",children:v&&v.toLocaleString("it")})}),Object(i.jsx)("div",{className:"col-12 d-flex justify-content-end pb-2",children:Object(i.jsx)("img",{alt:"Reset",src:"reset_white.png",onClick:M,height:"36px"})})]})]})})]}),Object(i.jsx)("div",{className:"col-12 col-md-6",children:Object(i.jsx)(q,{width:350,height:300,handleRectClick:function(e){T&&M();var a=e.label.toLowerCase().replaceAll(" ","_");if(k===a)M();else{C(a),u(a);var i,s=Object(h.a)(null===t||void 0===t?void 0:t.haeledAgesData);try{for(s.s();!(i=s.n()).done;){var o=i.value;o.label.toLowerCase().replaceAll(" ","_")===a&&f(o.guariti)}}catch(n){s.e(n)}finally{s.f()}}},selectedCodeAge:k,data:w})}),Object(i.jsxs)("div",{className:"col-12 col-md-6 my-0 py-0",children:[Object(i.jsx)(W,{fillMapDeliveryArea:function(e){var t=e.region,a=e.maxValue,i=e.field,s=0;if(t.code===T)s=1;else if(T){var o=t[i]/(2*a);s=Object(x.max)([o,.1])}else s=Object(x.max)([t[i]/a,.1]);return"rgba(0,102,204,".concat(s,") ")},summary:n,handleMapDeliveryClick:function(e){if(k&&M(),T===e.code)M();else{P(e.code),z(t.regionHaeledAgesData[e.code]);var a,i=Object(h.a)(null===t||void 0===t?void 0:t.healedData);try{for(i.s();!(a=i.n()).done;){var s=a.value;s.code===e.code&&f(s.guariti)}}catch(o){i.e(o)}finally{i.f()}}},fillBy:m,percentage:!1,tooltip:function(e){var t,a=null,i=Object(h.a)(O);try{for(i.s();!(t=i.n()).done;){var s=t.value;s.code===e.code&&(a=s)}}catch(o){i.e(o)}finally{i.f()}return e.area+" "+(a&&a[m]&&"("+a[m].toLocaleString("it")+")")},className:"ml-5"}),Object(i.jsx)("p",{className:"text-center",children:"*Seleziona la Regione/Provincia Autonoma per visualizzare il dettaglio."})]})]})},K=function(e){var t=e.height,a=e.width,o=e.data,n=e.keys,c=e.colors,l=e.selectedFrom,r=e.selectedTo,d=(e.property,e.title),m=e.ytitle,u=Object(s.useRef)(),j=Object(s.useRef)();Object(s.useEffect)((function(){$.h(j.current).selectAll("svg").remove(),v()}),[o,n,l,r]);var b=function(e){var t=$.h(e.node().parentNode),a=parseInt(e.style("width"),10),i=parseInt(e.style("height"),10),s=a/i;function o(){var a=parseInt(t.style("width"));e.attr("width",a),e.attr("height",Math.round(a/s))}e.attr("viewBox","0 0 ".concat(a," ").concat(i+10)).attr("preserveAspectRatio","xMinYMid").call(o),$.h(window).on("resize."+t.attr("id"),o)};var v=function(){var e=$.i().keys(n)(o.slice(l,r)),i=$.h(j.current).append("svg").style("margin-bottom",15).attr("width",a).attr("height",t),s=50,u=50,v=$.f().padding(.2),f=$.g().domain([0,$.e(o.slice(l,r),(function(e){return e.total}))]);f.range([t,0]),v.range([0,a]).domain(o.slice(l,r).map((function(e){return e.label}))),i.attr("width",a+2*u).attr("height",t+2*s).call(b).attr("id","svg-stack-bar"),i.append("text").attr("x",a/2+u).attr("y",s/2).attr("class","title").attr("text-anchor","middle").attr("transform","rotate(90)").attr(d),i.append("text").attr("x",-t/2-s).attr("y",u/2.4).attr("transform","rotate(-90)").attr("class","title").text(m);var p=i.append("g").attr("transform","translate(".concat(u,",").concat(s,")"));p.append("g").attr("class","axis").attr("transform","translate(0,".concat(t,")")).style("font-size",16).call($.a(v)).selectAll("text").attr("y",-5).attr("x",11).attr("transform","rotate(90)").style("text-anchor","start");var h=$.h("body").append("div").attr("class","d3-tooltip").style("position","absolute").style("z-index","10").style("display","none").style("padding","10px").style("background","rgba(0,0,0,0.8)").style("border-radius","4px").style("color","#fff"),x=p.selectAll().data(e);x.enter().append("g").attr("fill",(function(e){return c[e.key]})).attr("supply",(function(e){return e.key})).selectAll("rect").data((function(e){return e})).enter().append("rect").attr("x",(function(e){return v(e.data.label)})).attr("y",(function(e){return f(e[1])})).attr("height",(function(e){return f(e[0])-f(e[1])})).attr("width",v.bandwidth()).on("mouseover",(function(e,t){$.h(this).transition().attr("fill","#0BD9D3")})).on("mousemove",(function(e,t){h.style("top",e.pageY-10+"px").style("left",e.pageX+10+"px"),h.html('<div style="text-align: center"><b>'.concat($.h(this.parentNode).attr("supply"),"</b></div>\n            <div>").concat((t[1]-t[0]).toLocaleString("it")," su ").concat(t.data.total.toLocaleString("it"),'</div>\n            <div style="text-align: center; font-size: 12px">dal ').concat(t.data.labelfrom," al ").concat(t.data.labelto,"</div>")).style("display",null)})).on("mouseout",(function(e){h.html("").style("display","none"),$.h(this).transition().attr("fill",c[e.key])})),x.exit().remove()};return Object(i.jsx)("div",{ref:j,className:"chart svg-container",children:Object(i.jsx)("svg",{ref:u,className:"svg-content-responsive"})})},Q=a(27),ee=function(e){var t=e.from,a=e.to,o=e.min,n=e.max,c=e.changeFrom,d=e.changeTo,m=Object(s.useState)([0,1]),u=Object(r.a)(m,2),j=u[0],b=u[1];return Object(s.useEffect)((function(){b([t,a])}),[t,a,o,n]),Object(i.jsx)("div",{className:"col-12",style:{display:"flex",justifyContent:"center",flexWrap:"wrap",backgroundColor:"rgb(15, 53, 89)"},children:Object(i.jsx)(Q.Range,{draggableTrack:!0,values:j,step:1,min:o,max:n,rtl:!1,onChange:function(e){e[0]!==e[1]&&(b(e),c(e[0]),d(e[1]))},renderTrack:function(e){var t=e.props,a=e.children;return Object(i.jsx)("div",{onMouseDown:t.onMouseDown,onTouchStart:t.onTouchStart,style:Object(l.a)(Object(l.a)({},t.style),{},{height:"36px",display:"flex",width:"100%",marginRight:10,marginLeft:10}),children:Object(i.jsx)("div",{ref:t.ref,style:{height:"5px",width:"100%",borderRadius:"4px",background:Object(Q.getTrackBackground)({values:j,colors:["#ccc","black","#ccc"],min:o,max:n,rtl:!1}),alignSelf:"center"},children:a})})},renderThumb:function(e){var t=e.props;e.isDragged;return Object(i.jsx)("div",Object(l.a)(Object(l.a)({},t),{},{style:Object(l.a)(Object(l.a)({},t.style),{},{height:"20px",width:"20px",borderRadius:"50%",backgroundColor:"#ccc",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0px 2px 6px #AAA"})}))}})})},te=function(e){var t=e.data,a=Object(s.useState)([]),o=Object(r.a)(a,2),n=o[0],c=o[1],l=Object(s.useState)([]),d=Object(r.a)(l,2),m=d[0],u=d[1],j=Object(s.useState)([]),b=Object(r.a)(j,2),v=b[0],f=b[1],p=Object(s.useState)(0),h=Object(r.a)(p,2),g=h[0],O=h[1],y=Object(s.useState)(0),N=Object(r.a)(y,2),_=N[0],w=N[1];return Object(s.useEffect)((function(){Object(x.isEmpty)(t)||(c(t.suppliersColor),u(t.suppliers),f(t.suppliersWeek),w(t.suppliersWeek.length),t.suppliersWeek.length>=9&&O(t.suppliersWeek.length-9))}),[t]),Object(i.jsxs)("div",{className:"row",children:[Object(i.jsxs)("div",{className:"col-12 d-flex justify-content-center align-items-center section-title mx-2",children:[Object(i.jsx)("img",{src:"Coccarda.svg",width:"100",height:"100",alt:"Logo",className:"img-fluid d-none d-lg-block align-items-center"}),Object(i.jsx)("h3",{children:"Andamento settimanale delle somministrazioni"})]}),Object(i.jsxs)("div",{className:"row col-12 m-2 p-2 ",children:[Object(i.jsx)("div",{className:"col-12 col-md-6 align-items-end testo-info-campania d-none d-sm-none d-md-flex d-lg-flex"}),Object(i.jsxs)("div",{className:"col-12 col-md-6  position-relative",children:[Object(i.jsx)("img",{src:"Coccarda.svg",width:"100",height:"100",alt:"Logo",className:"d-lg-none sd-sm-block box-logo-right"}),Object(i.jsx)("div",{className:"bg-gradient-bar"})]}),Object(i.jsx)("div",{className:"col-12 col-md-4",style:{backgroundColor:"#17324D"},children:Object(i.jsxs)("div",{className:"p-2 position-relative",children:[Object(i.jsx)("div",{className:"p-4",children:Object(i.jsx)("img",{src:"group_person.svg",alt:"Logo",className:"img-fluid"})}),Object(i.jsx)("div",{className:"mt-4 ml-3",children:m.map((function(e,t){return Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"circle",style:{backgroundColor:n[e]}}),Object(i.jsx)("span",{className:"legend",children:e})]},e)}))})]})}),Object(i.jsxs)("div",{className:"col-12 col-md-8 text-white",style:{backgroundColor:"#17324D"},children:[Object(i.jsx)("div",{className:"text-white text-center mt-3 ",children:"*Passa con il mouse sulle barre del grafico per visualizzare i dati della settimana"}),Object(i.jsx)(K,{title:"",xtitle:"Somministrazione settimanale",ytitle:"",width:780,height:350,marginBottom:10,property:{xprop:"label",yprop:"total"},colors:n,keys:m,data:v,selectedFrom:g,selectedTo:_})]}),v.length>0&&Object(i.jsx)(ee,{min:0,max:v.length,from:g,to:_,changeFrom:function(e){return O(e)},changeTo:function(e){return w(e)}})]}),Object(i.jsx)("div",{children:"*Fai scorrere i selettori per aumentare o diminuire le settimane da visualizzare"})]})},ae=function(e){var t=e.data,a=Object(s.useState)(""),o=Object(r.a)(a,2),n=o[0],c=o[1],l=Object(s.useState)(""),d=Object(r.a)(l,2),m=d[0],u=d[1],j=Object(s.useState)(""),b=Object(r.a)(j,2),v=b[0],f=b[1],p=Object(s.useState)(""),h=Object(r.a)(p,2),x=h[0],g=h[1],O=Object(s.useState)(""),y=Object(r.a)(O,2),N=y[0],_=y[1],w=Object(s.useState)(""),z=Object(r.a)(w,2),D=z[0],S=z[1],k=Object(s.useState)(""),C=Object(r.a)(k,2),L=C[0],A=C[1],T=Object(s.useState)(""),P=Object(r.a)(T,2),M=P[0],B=P[1],Y=Object(s.useState)(""),R=Object(r.a)(Y,2),I=R[0],E=R[1],F=Object(s.useState)(""),V=Object(r.a)(F,2),G=V[0],$=V[1],J=Object(s.useState)(""),W=Object(r.a)(J,2),U=W[0],H=W[1],X=Object(s.useState)(""),q=Object(r.a)(X,2),Z=q[0],K=q[1],Q=Object(s.useState)(""),ee=Object(r.a)(Q,2),te=ee[0],ae=ee[1],ie=Object(s.useState)(""),se=Object(r.a)(ie,2),oe=se[0],ne=se[1],ce=Object(s.useState)(""),le=Object(r.a)(ce,2),re=le[0],de=le[1],me=Object(s.useState)(""),ue=Object(r.a)(me,2),je=ue[0],be=ue[1];function ve(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?null===e||void 0===e?void 0:e.toLocaleString("it",{minimumFractionDigits:2,maximumFractionDigits:2}):null===e||void 0===e?void 0:e.toLocaleString("it")}return Object(s.useEffect)((function(){var e,a,i,s,o,n,l,r,d,m,j,b,v=(null===t||void 0===t||null===(e=t.totalDoses)||void 0===e?void 0:e.prima_dose)+(null===t||void 0===t||null===(a=t.totalDoses)||void 0===a?void 0:a.pregressa_infezione);isNaN(v)||(c(ve(v)),u(ve(v/(null===t||void 0===t?void 0:t.totalPlatea)*100,!0)),E(ve(v+(null===t||void 0===t?void 0:t.totalGuariti))),$(ve((v+(null===t||void 0===t?void 0:t.totalGuariti))/(null===t||void 0===t?void 0:t.totalPlatea)*100,!0)));var p=(null===t||void 0===t||null===(i=t.totalDoses)||void 0===i?void 0:i.seconda_dose)+(null===t||void 0===t||null===(s=t.totalDoses)||void 0===s?void 0:s.prima_dose_janssen)+(null===t||void 0===t||null===(o=t.totalDoses)||void 0===o?void 0:o.pregressa_infezione);isNaN(p)||(f(ve(p)),g(ve(p/(null===t||void 0===t?void 0:t.totalPlatea)*100,!0))),_(null===t||void 0===t||null===(n=t.totalDoses)||void 0===n?void 0:n.dose_addizionale_booster),S(ve((null===t||void 0===t||null===(l=t.totalDoses)||void 0===l?void 0:l.dose_addizionale_booster)/(null===t||void 0===t?void 0:t.totalPlateaDoseAddizionaleBooster)*100,!0)),A(ve(null===t||void 0===t?void 0:t.totalGuariti)),B(ve((null===t||void 0===t?void 0:t.totalGuariti)/(null===t||void 0===t?void 0:t.totalPlatea)*100,!0));var h=(null===t||void 0===t||null===(r=t.totalDoses)||void 0===r?void 0:r.prima_dose_baby)+(null===t||void 0===t||null===(d=t.totalDoses)||void 0===d?void 0:d.pregressa_infezione_baby);isNaN(h)||(H(ve(h)),K(ve(h/(null===t||void 0===t?void 0:t.totalPlateaBaby)*100,!0)));var x=(null===t||void 0===t||null===(m=t.totalDoses)||void 0===m?void 0:m.seconda_dose_baby)+(null===t||void 0===t||null===(j=t.totalDoses)||void 0===j?void 0:j.prima_dose_janssen_baby)+(null===t||void 0===t||null===(b=t.totalDoses)||void 0===b?void 0:b.pregressa_infezione_baby);isNaN(x)||(ae(ve(x)),ne(ve(x/(null===t||void 0===t?void 0:t.totalPlateaBaby)*100,!0))),de(ve(null===t||void 0===t?void 0:t.totalGuaritiBaby)),be(ve((null===t||void 0===t?void 0:t.totalGuaritiBaby)/(null===t||void 0===t?void 0:t.totalPlateaBaby)*100,!0))}),[t]),Object(i.jsxs)("div",{className:"p-3",children:[Object(i.jsxs)("div",{className:"row bg-box mb-3",children:[Object(i.jsx)("div",{className:"col-md-4 col-sm-12",children:Object(i.jsxs)("div",{className:"box-card p-2 my-4",children:[Object(i.jsx)("div",{className:"position-absolute center-logo",children:Object(i.jsx)("img",{src:"Coccarda.svg",width:"150",height:"130",alt:"Logo"})}),Object(i.jsx)("div",{className:"p-1 mt-4",children:Object(i.jsxs)("div",{className:"align-items-center justify-content-center text-center mb-4",children:[Object(i.jsx)("h5",{className:"mt-4",children:"Totale con almeno una dose"}),Object(i.jsx)("div",{className:"box-numbers",children:n}),Object(i.jsxs)("div",{className:"box-text",children:[m," % della popolazione over 12"]}),Object(i.jsx)("div",{className:"box-label",children:"(persone con almeno una somministrazione)"})]})})]})}),Object(i.jsx)("div",{className:"col-md-4 col-sm-12",children:Object(i.jsxs)("div",{className:"box-card p-2 my-4",children:[Object(i.jsx)("div",{className:"position-absolute center-logo",children:Object(i.jsx)("img",{src:"Coccarda.svg",width:"150",height:"130",alt:"Logo"})}),Object(i.jsx)("div",{className:"p-1 mt-4",children:Object(i.jsxs)("div",{className:"align-items-center justify-content-center text-center mb-4",children:[Object(i.jsx)("h5",{className:"mt-4",children:"Totale ciclo vaccinale"}),Object(i.jsx)("div",{className:"box-numbers",children:v}),Object(i.jsxs)("div",{className:"box-text",children:[x," % della popolazione over 12"]}),Object(i.jsx)("div",{className:"box-label",children:"(persone che hanno completato il ciclo vaccinale)"})]})})]})}),Object(i.jsx)("div",{className:"col-md-4 col-sm-12",children:Object(i.jsxs)("div",{className:"box-card p-2 my-4",children:[Object(i.jsx)("div",{className:"position-absolute center-logo",children:Object(i.jsx)("img",{src:"Coccarda.svg",width:"150",height:"130",alt:"Logo"})}),Object(i.jsx)("div",{className:"p-1 mt-4",children:Object(i.jsxs)("div",{className:"align-items-center justify-content-center text-center mb-4",children:[Object(i.jsx)("h5",{className:"mt-4",children:"Totale guariti"}),Object(i.jsx)("div",{className:"box-numbers",children:L}),Object(i.jsxs)("div",{className:"box-text",children:[M," % della popolazione over 12"]}),Object(i.jsx)("div",{className:"box-label",children:"guarita da al massimo 6 mesi senza alcuna somministrazione"})]})})]})})]}),Object(i.jsx)("div",{className:"row bg-box mb-5",children:Object(i.jsx)("div",{className:"col-md-12 col-sm-12 mb-5",children:Object(i.jsx)("div",{className:"p-2 position-relative d-flex justify-content-center",children:Object(i.jsx)("div",{className:"text-white",children:Object(i.jsxs)("div",{className:"align-items-center justify-content-center text-center",children:[Object(i.jsx)("h5",{className:"mt-4",children:"Totale con almeno una dose + guariti da al massimo 6 mesi senza alcuna somministrazione"}),Object(i.jsx)("div",{className:"box-numbers",children:I}),Object(i.jsxs)("div",{className:"box-text",children:[G," % della popolazione over 12"]})]})})})})}),Object(i.jsx)("div",{className:"row mb-3"}),Object(i.jsx)("div",{className:"row my-4 bg-box",children:Object(i.jsx)("div",{className:"col-md-12 col-sm-12 mb-5 box-card",children:Object(i.jsxs)("div",{className:"p-2 pt-4 position-relative d-flex justify-content-center",children:[Object(i.jsx)("div",{className:"position-absolute center-logo",children:Object(i.jsx)("img",{src:"Coccarda.svg",width:"150",height:"130",alt:"Logo"})}),Object(i.jsx)("div",{className:"p-1 mt-4",children:Object(i.jsxs)("div",{className:"align-items-center justify-content-center text-center",children:[Object(i.jsx)("h5",{className:"mt-4",children:"Totale dose addizionale/richiamo (booster)"}),Object(i.jsx)("div",{className:"box-numbers",children:null===N||void 0===N?void 0:N.toLocaleString("it")}),Object(i.jsxs)("div",{className:"box-text",children:[D," % della popolazione potenzialmente oggetto di",Object(i.jsx)("br",{}),"dose addizionale o booster che hanno ultimato il ciclo vaccinale da",Object(i.jsx)("br",{}),"almeno quattro mesi"]})]})})]})})}),Object(i.jsxs)("div",{className:"my-5",children:[Object(i.jsx)("div",{className:"col-12 d-flex justify-content-center align-items-center p-5 section-title",children:Object(i.jsx)("div",{className:"mb-3",children:Object(i.jsx)("h3",{className:"text-center",children:"Somministrazione platea 5-11 anni"})})}),Object(i.jsxs)("div",{className:"row bg-box mb-3",children:[Object(i.jsx)("div",{className:"col-md-4 col-sm-12 mb-4 mt-3",children:Object(i.jsxs)("div",{className:"p-2 my-2 box-card",children:[Object(i.jsx)("div",{className:"position-absolute center-logo",children:Object(i.jsx)("img",{src:"Coccarda.svg",width:"150",height:"130",alt:"Logo"})}),Object(i.jsx)("div",{className:"p-1 mt-4",children:Object(i.jsxs)("div",{className:"align-items-center justify-content-center text-center",children:[Object(i.jsx)("h5",{className:"mt-4",children:"Totale con almeno una dose"}),Object(i.jsx)("div",{className:"box-numbers",children:U}),Object(i.jsxs)("div",{className:"box-text",children:[Z," % della popolazione 5-11"]}),Object(i.jsx)("div",{className:"box-label",children:"(persone con almeno una somministrazione)"})]})})]})}),Object(i.jsx)("div",{className:"col-md-4 col-sm-12 mb-4 mt-3",children:Object(i.jsxs)("div",{className:"p-2 my-2 box-card",children:[Object(i.jsx)("div",{className:"position-absolute center-logo",children:Object(i.jsx)("img",{src:"Coccarda.svg",width:"150",height:"130",alt:"Logo"})}),Object(i.jsx)("div",{className:"p-1 mt-4",children:Object(i.jsxs)("div",{className:"align-items-center justify-content-center text-center",children:[Object(i.jsx)("h5",{className:"mt-4",children:"Totale ciclo vaccinale"}),Object(i.jsx)("div",{className:"box-numbers",children:te}),Object(i.jsxs)("div",{className:"box-text",children:[oe," % della popolazione 5-11"]}),Object(i.jsx)("div",{className:"box-label",children:"(persone che hanno completato il ciclo vaccinale)"})]})})]})}),Object(i.jsx)("div",{className:"col-md-4 col-sm-12 mb-4 mt-3",children:Object(i.jsxs)("div",{className:"p-2 my-2 box-card",children:[Object(i.jsx)("div",{className:"position-absolute center-logo",children:Object(i.jsx)("img",{src:"Coccarda.svg",width:"150",height:"130",alt:"Logo"})}),Object(i.jsx)("div",{className:"p-1 mt-4",children:Object(i.jsxs)("div",{className:"align-items-center justify-content-center text-center",children:[Object(i.jsx)("h5",{className:"mt-4",children:"Totale guariti"}),Object(i.jsx)("div",{className:"box-numbers",children:re}),Object(i.jsxs)("div",{className:"box-text",children:[je," % della popolazione 5-11"]}),Object(i.jsx)("div",{className:"box-label",children:"guarita da al massimo 6 mesi senza alcuna somministrazione"})]})})]})})]})]})]})},ie=function(e){var t=+e.width,a=+e.height,o=Object(s.useRef)(),n=Object(s.useRef)();Object(s.useEffect)((function(){$.h(n.current).selectAll("svg").remove(),l()}),[e]);var c=function(e){var t=$.h(e.node().parentNode),a=parseInt(e.style("width"),10),i=parseInt(e.style("height"),10),s=a/i;function o(){var a=parseInt(t.style("width"));e.attr("width",a),e.attr("height",Math.round(a/s))}e.attr("viewBox","0 0 ".concat(a," ").concat(i)).attr("preserveAspectRatio","xMinYMid").call(o),$.h(window).on("resize."+t.attr("id"),o)};var l=function(){var i,s=(null===e||void 0===e?void 0:e.data)||[],o=(null===s||void 0===s?void 0:s.reduce((i=e.property.yprop,function(e,t){return(null===t||void 0===t?void 0:t[i])>e?null===t||void 0===t?void 0:t[i]:e}),0))||0,l=$.h(n.current).append("svg").attr("width",t).attr("height",a),r=50,d=20,m=$.f().padding(.5),u=$.g().domain([0,o]);u.range([a,0]),m.range([0,t]).domain(s.map((function(t){return t[e.property.xprop]}))),l.attr("width",t+2*d).attr("height",a+2*r).call(c).attr("id","svg-bar"),l.append("text").attr("x",t/8+d).attr("y",r/6).attr("class","title-bar-dark").attr("text-anchor","middle").attr(e.title),l.append("text").attr("x",-a/2-r).attr("y",d/2.4).attr("transform","rotate(-90)").attr("class","title-bar-dark").text(e.ytitle);var j=l.append("g").attr("transform","translate(".concat(d,",").concat(r,")"));j.append("g").attr("class","axis-dark").attr("transform","translate(0,".concat(a,")")).style("font-size",16).call($.a(m));var b=j.selectAll().data(s);b.enter().append("rect").on("click",(function(t,a){e.handleBarChartClick(a)})).attr("id",(function(e){return null===e||void 0===e?void 0:e.fornitore})).attr("opacity",(function(t){var a;return(null===(a=e.selected)||void 0===a?void 0:a.fornitore)===(null===t||void 0===t?void 0:t.fornitore)?1:e.selected?.1:1})).attr("class","bg-bar").attr("x",(function(t){return+m(t[e.property.xprop])})).attr("y",(function(t){return u(t[e.property.yprop])})).attr("height",(function(t){return a-u(t[e.property.yprop])})).attr("width",m.bandwidth()).append("title").attr("x",(function(t){return m(t[e.property.xprop])})).attr("y",(function(t){return u(t[e.property.yprop])})).text((function(t){return"Fornitore ".concat(t[e.property.xprop]," totale: ").concat(t[e.property.yprop])})),b.enter().append("text").attr("class","bartext-dark").attr("text-anchor","center").attr("fill","black").attr("x",(function(t){return m(t[e.property.xprop])})).attr("y",(function(t){return a-u(t[e.property.yprop])>=0?u(t[e.property.yprop])-10:u(t[e.property.yprop])})).text((function(t){var a;return null===(a=t[e.property.yprop])||void 0===a?void 0:a.toLocaleString("it")})),b.exit().remove()};return Object(i.jsx)("div",{ref:n,children:Object(i.jsx)("svg",{ref:o})})},se=function(e){var t=Object(s.useState)(null),a=Object(r.a)(t,2),o=a[0],n=a[1],c=Object(s.useState)(null),l=Object(r.a)(c,2),d=l[0],m=l[1],u=Object(s.useState)([]),j=Object(r.a)(u,2),b=j[0],v=j[1],f=Object(s.useState)(0),p=Object(r.a)(f,2),h=p[0],g=p[1],O=function(){var t,a,i;v(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.allDosesSupplier),g(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.totalSuplier),m(null),n(null),g(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.totalSuplier)};Object(s.useEffect)((function(){var t,a;Object(x.isEmpty)(e)||(v(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.allDosesSupplier),g(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.totalSuplier))}),[e]);var y=function(e){m(e)};return Object(i.jsxs)("div",{className:"row",children:[Object(i.jsxs)("div",{className:"col-12 col-md-12 mt-4",children:[Object(i.jsx)("div",{className:"col-12 d-flex justify-content-center align-items-center section-title mx-2",children:Object(i.jsx)("div",{className:"text-center",children:Object(i.jsx)("h3",{children:"Distribuzione vaccini per fornitore"})})}),Object(i.jsxs)("div",{className:"col-12 col-md-12 m-3",children:[Object(i.jsxs)("div",{className:"d-lg-none bg-box box-mobile m-3",children:[Object(i.jsx)("img",{src:"Coccarda.svg",width:"100",height:"100",alt:"Logo",className:"d-flex text-center box-logo-right"}),Object(i.jsxs)("div",{className:"text-white",children:[Object(i.jsx)("div",{className:"d-flex justify-content-center pt-5",children:Object(i.jsx)("h5",{children:"Totale vaccini distribuiti"})}),Object(i.jsx)("div",{className:"d-flex justify-content-center",children:Object(i.jsx)("p",{className:"box-numbers",children:null===h||void 0===h?void 0:h.toLocaleString("it")})}),Object(i.jsx)("div",{className:"col-12 d-flex justify-content-end pb-2",children:Object(i.jsx)("img",{alt:"reset-plot2",src:"reset_white.png",onClick:O,height:"36px"})})]})]}),Object(i.jsx)("div",{className:"offset-md-8 col-md-4 d-none d-lg-block",children:Object(i.jsxs)("div",{className:"bg-box box-card box-right",children:[Object(i.jsx)("img",{src:"Coccarda.svg",width:"100",height:"100",alt:"Logo",className:"d-none d-md-block d-lg-block box-logo-right"}),Object(i.jsxs)("div",{className:"text-white",children:[Object(i.jsx)("div",{className:"d-flex justify-content-start pt-3 pl-5",children:Object(i.jsx)("h5",{children:"Totale vaccini distribuiti"})}),Object(i.jsx)("div",{className:"d-flex justify-content-start pl-5",children:Object(i.jsx)("p",{className:"box-numbers",children:null===h||void 0===h?void 0:h.toLocaleString("it")})}),Object(i.jsx)("div",{className:"col-12 d-flex justify-content-end pb-2",children:Object(i.jsx)("img",{alt:"Reset",src:"reset_white.png",onClick:O,height:"36px"})})]})]})})]})]}),Object(i.jsx)("div",{className:"col-12 col-md-7 w-100 h-100 pb-5",children:Object(i.jsx)(ie,{width:"850",handleBarChartClick:function(e){d===e?O():o?(O(),function(e){if(document.getElementById(e)&&e){var t=new MouseEvent("click",{bubbles:!0,cancelable:!0});document.getElementById(e).dispatchEvent(t)}}(e.fornitore)):(y(e),m(e),g(null===e||void 0===e?void 0:e.totale))},height:"350",selected:d,property:{xprop:"fornitore",yprop:"totale"},data:b})})]})};a(183);I.a.DataTable=F.a;var oe=[{title:"Regione",data:"area"},{title:"Punto di somministrazione",data:"denominazione_struttura"},{title:"Tipologia",data:"tipologia"}],ne=function(e){return Object(s.useEffect)((function(){var t,a=e.setLocationCount,i=I()("#datatable-locations").find("table").DataTable({dom:"<'row'<'col-sm-12 col-md-6'l><'col-sm-12 col-md-6'>><'row'<'col-sm-12'tr>><'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7'p>>",paging:!1,columnDefs:[{targets:[1,2],searchable:!1}],searching:!0,destroy:!0,bLengthChange:!1,info:!1,scrollY:"550px",scrollCollapse:!0,data:(null===(t=e.summary)||void 0===t?void 0:t.locations)||[],columns:oe});(null===e||void 0===e?void 0:e.selected)?i.search(e.selected).draw():i.search(" ").draw(),a(i.rows({search:"applied"}).count()/2)})),Object(i.jsx)("div",{id:"datatable-locations",children:Object(i.jsx)("table",{className:"display compact",cellSpacing:"0",width:"100%"})})},ce=function(e){var t=e.locationCount;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{className:"d-flex pl-5 pt-3",children:Object(i.jsx)("h5",{children:"Totale punti somministrazione"})}),Object(i.jsx)("div",{className:"d-flex pl-5",children:Object(i.jsx)("p",{className:"box-numbers",children:t})})]})},le=function(){return Object(i.jsx)("div",{className:"w-100 h-100 d-flex justify-content-start pr-5",children:Object(i.jsxs)("h5",{className:"pl-3 pl-sm-1",children:["Principali punti di",Object(i.jsx)("br",{})," somministrazione ",Object(i.jsx)("br",{})," per regione"]})})},re=function(e){var t=e.data,a=Object(s.useState)({}),o=Object(r.a)(a,2),n=o[0],c=o[1],d=Object(s.useState)(""),m=Object(r.a)(d,2),u=m[0],j=m[1],b=Object(s.useState)(0),v=Object(r.a)(b,2),f=v[0],p=v[1];Object(s.useEffect)((function(){Object(x.isEmpty)(t)||c(t)}),[t]);var h=function(){j(""),p(0)};return Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-12 d-flex justify-content-center align-items-center section-title mx-2",children:Object(i.jsxs)("div",{className:"text-center",children:[Object(i.jsx)("h3",{children:"Principali punti di somministrazione"}),Object(i.jsxs)("p",{children:["(Sono inclusi i punti di somministrazione ospedalieri e territoriali;",Object(i.jsx)("br",{}),"non sono inclusi i punti di somministrazione temporanei)"]})]})}),Object(i.jsxs)("div",{className:"col-12 col-md-12 m-3",children:[Object(i.jsxs)("div",{className:"d-lg-none bg-box box-mobile m-3",children:[Object(i.jsx)("img",{src:"Coccarda.svg",width:"100",height:"100",alt:"Logo",className:"d-flex text-center box-logo-left"}),Object(i.jsx)("div",{className:"text-white",children:Object(i.jsx)(ce,{locationCount:f})}),Object(i.jsx)("div",{className:"col-12 d-flex justify-content-end pb-2",children:Object(i.jsx)("img",{alt:"reset-plot",src:"reset_white.png",onClick:h,height:"36"})})]}),Object(i.jsx)("div",{className:"col-4 col-md-4 d-none d-lg-block",children:Object(i.jsxs)("div",{className:"bg-box box-card box-left",children:[Object(i.jsx)("img",{src:"Coccarda.svg",width:"100",height:"100",alt:"Logo",className:"d-none d-md-block d-lg-block box-logo-left"}),Object(i.jsxs)("div",{className:"text-white",children:[Object(i.jsx)(ce,{locationCount:f}),Object(i.jsx)("div",{className:"col-12 d-flex justify-content-end pb-2",children:Object(i.jsx)("img",{alt:"reset-white",src:"reset_white.png",onClick:h,height:"36px"})})]})]})})]}),Object(i.jsxs)("div",{className:"col-12 col-md-6",children:[Object(i.jsx)("div",{className:"p-2 d-lg-none text-center",children:"Principali Punti di Somministrazione per Regione"}),Object(i.jsx)("div",{className:"d-none d-lg-block map-legend",children:Object(i.jsx)(le,{})}),Object(i.jsx)("div",{className:"mt-5",children:Object(i.jsx)(W,{fillMapDeliveryArea:function(e){var t=e.region,a=e.maxValue,i=e.field,s=0;if(t.area===u)s=1;else if(u){var o=t[i]/(2*a);s=Object(x.max)([o,.1])}else s=Object(x.max)([t[i]/a,.1]);return"rgba(23,50,77,".concat(s,")")},summary:t.locationsByRegion,handleMapDeliveryClick:function(e){u===e.area?j(null):j(e.area)},tooltip:function(e){return e.area+": "+(e.locations&&e.locations.toLocaleString("it"))},fillBy:"locations",className:"ml-5 w-100 h-100"})})]}),Object(i.jsx)("div",{className:"col-12 col-md-6 pl-3",children:Object(i.jsx)(ne,{summary:Object(l.a)({},n),selected:u,className:"mr-5 h-100",setLocationCount:p})})]})};var de=function(){var e=Object(s.useState)({}),t=Object(r.a)(e,2),a=t[0],o=t[1];return Object(s.useEffect)((function(){Y().then((function(e){!function(){var e=document.getElementById("loader-custom");e&&(e.className=e.className.includes("d-none")?e.className:e.className+" d-none")}(),o(e)}))}),[]),Object(i.jsxs)("div",{children:[Object(i.jsx)(d,{}),Object(i.jsxs)("div",{className:"container",children:[Object(i.jsx)(b,{summary:Object(l.a)({},a)}),"          ",Object(i.jsx)(ae,{data:a}),"                  ",Object(i.jsx)(U,{data:a}),"               ",Object(i.jsx)(Z,{data:a}),"                   ",Object(i.jsx)(te,{data:a}),"                    ",Object(i.jsx)(X,{data:a}),"                 ",Object(i.jsx)(se,{data:a}),"                 ",Object(i.jsx)(re,{data:a}),"                "]}),Object(i.jsx)(m,{})]})},me=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,185)).then((function(t){var a=t.getCLS,i=t.getFID,s=t.getFCP,o=t.getLCP,n=t.getTTFB;a(e),i(e),s(e),o(e),n(e)}))};c.a.render(Object(i.jsx)(o.a.StrictMode,{children:Object(i.jsx)(de,{})}),document.getElementById("root")),me()},51:function(e,t,a){}},[[184,1,2]]]);
//# sourceMappingURL=main.79fa923c.chunk.js.map